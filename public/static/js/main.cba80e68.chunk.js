(window["webpackJsonpreact-login"]=window["webpackJsonpreact-login"]||[]).push([[0],{169:function(e,a,t){},234:function(e,a,t){},235:function(e,a,t){},236:function(e,a,t){},237:function(e,a,t){},245:function(e,a,t){},259:function(e,a){e.exports={clientUrls:[{link:!0,url:"activity",text:"Actividad"},{link:!0,url:"loan",text:"Prestamos"},{link:!0,url:"profile",text:"Perfil"}],adminUrls:[{link:!1,text:"- General"},{link:!0,url:"activity",text:"Cobranzas"},{link:!0,url:"payments",text:"Pagos"},{link:!0,url:"portfolio",text:"Portafolio"},{link:!0,super:!0,url:"evolution",text:"Evoluci\xf3n"},{link:!1,text:"- Finanzas"},{link:!0,url:"financials",text:"Indicadores"},{link:!1,text:"- Cliente"},{link:!0,url:"client/list",text:"Listado"},{link:!1,text:"- Compa\xf1ia"},{link:!0,url:"company/create",text:"Crear"},{link:!0,url:"company/list",text:"Listado"},{link:!1,text:"- Inversionista"},{link:!0,url:"investor/create",text:"Crear"},{link:!0,url:"investor/details",text:"Detalle"},{link:!0,url:"investor/transaction",text:"Transacciones"},{link:!1,text:"- Prestamos"},{link:!0,url:"loan/list",text:"Listado"},{link:!0,url:"loan/period",text:"Periodo"}]}},30:function(e,a){var t={client:{gender:"MALE",civilStatus:"SINGLE",DOB:(new Date).toISOString().substring(0,10),academicLevel:"MIDDLESCHOOL",spouseDOB:"1990-01-01",country:"peru",employmentStatus:"EMPLOYED",startDate:"2015-01-01",fullName:null,firstName:"",lastName:"",nationalId:null,nationality:null,otherNationalities:null,personalReference:null,placeOfBirth:null,immigrationCertificate:null,Occupation:null,spouseFullName:null,spouseNationalId:null,spousePlaceOfBirth:null,street:null,residenceName:null,residenceNumber:null,city:null,cellphoneNumber:null,email:null,businessName:null,businessAddress:null,businessPosition:null,businessPhoneNumber:null,businessEmail:null,monthlyIncome:null,otherIncome:null},open:!1,details:{}};e.exports={gender:[{value:"MALE",label:"Masculino"},{value:"FEMALE",label:"Femenino"}],civilStatus:[{label:"Soltero",value:"SINGLE"},{label:"Casado",value:"MARRIED"},{label:"Divorciado",value:"DIVORCED"},{label:"Viudo",value:"WIDOW"}],academicLevel:[{label:"Primaria",value:"MIDDLESCHOOL"},{label:"Secundaria",value:"HIGHSCHOOL"},{label:"Universidad",value:"UNIVERSITY"},{label:"Posgrado",value:"POSTGRADUATE"}],employmentStatus:[{label:"Empleado",value:"EMPLOYED"},{label:"Desempleado",value:"UNEMPLOYED"},{label:"Independiente",value:"INDEPENDANT"},{label:"Retirado",value:"RETIRED"},{label:"Otro",value:"OTHER"}],countries:[{label:"Per\xfa",value:"PERU"},{label:"Rep\xfablica Dominicana",value:"DOMINICAN_REPUBLIC"},{label:"Venezuela",value:"VENEZUELA"}],initialState:t,initialClientState:{gender:"MALE",civilStatus:"SINGLE",DOB:"1990-01-01",academicLevel:"MIDDLESCHOOL",spouseDOB:"1990-01-01",country:"PERU",employmentStatus:"EMPLOYED",startDate:"2015-01-01",fullName:null,nationalId:null,nationality:null,otherNationalities:null,placeOfBirth:null,immigrationCertificate:null,Occupation:null,spouseFullName:null,spouseNationalId:null,spousePlaceOfBirth:null,street:null,residenceName:null,residenceNumber:null,city:null,cellphoneNumber:null,email:null,businessName:null,businessAddress:null,businessPosition:null,businessPhoneNumber:null,businessEmail:null,monthlyIncome:null,otherIncome:null},fees:[{text:"Ribo",fee:[{admin:"5d3b2da39657b30017a9ed0c",fee:.7}]},{text:"Miguel 10%",fee:[{admin:"5c80fd19a5b4b86c15c18b8c",fee:.1}]},{text:"Carrillo 15%, Castillo 15%, Miguel 10%",fee:[{admin:"5cbded7d396ebf05b289cbbe",fee:.15},{admin:"5cd19be0821e200017b6fec2",fee:.15},{admin:"5cd19693821e200017b6fec1",fee:.1}]},{text:"Castillo 15%, Manuela 15%, Miguel 10%",fee:[{admin:"5cd19be0821e200017b6fec2",fee:.15},{admin:"5cd19693821e200017b6fec1",fee:.1},{admin:"5cb642eda14a6d0017039aaa",fee:.15}]},{text:"Castillo 15%, Miguel 10%",fee:[{admin:"5cd19be0821e200017b6fec2",fee:.15},{admin:"5cd19693821e200017b6fec1",fee:.1}]}],accounts:["RBPERU","GCUS","GFUS","GCDR"],feeDistribution:[{participants:"P",text:"Patricia 33.33%"},{participants:"PG",text:"Patricia 50%"},{participants:"PM",text:"Patricia 30%, Miguel 10%"},{participants:"GPM",text:"Patricia 45%, Miguel 10%"},{participants:"M",text:"Miguel 10%"}],loanInitialState:{_id:"",collateralType:"NoCollateral",collateralValue:0,collateralDescription:"",open:!1,loanDetails:{duration:0,investedCapital:0,capital:0,interest:0,startAmortPeriod:0,loanType:"linear",period:"monthly",startDate:"",paymentDate:""},investmentEqCapital:!0,investor:"",currency:"USD",cashAccount:"",useOfFunds:"vehicle",investmentAmount:0,investors:[],autoInvest:!0},nationalIdType:[{label:"C\xe9dula o DNI",value:"ID"},{label:"Certificado Migratorio",value:"IMMIGRATION_CERTIFICATE"},{label:"Pasaporte",value:"PASSPORT"},{label:"Licencia de Conducir",value:"DRIVING_LICENSE"}],ownership:[{label:"Privada",value:"PRIVATE"},{label:"P\xfablica",value:"PUBLIC"}],txConstants:[{label:"DEPOSIT",value:"Deposito"},{label:"DIVESTMENT",value:"Desinversi\xf3n"},{label:"INVESTMENT",value:"Inversi\xf3n"},{label:"WITHDRAWAL",value:"Retiro"},{label:"INTERNAL_TRANSFER_RECIPIENT",value:"Transfer interna - destinario"},{label:"INTERNAL_TRANSFER_SENDER",value:"Transfer interna - remitente"},{label:"INTERNATIONAL_TRANSFER_RECIPIENT",value:"Intl. transfer - destinatario"},{label:"INTERNATIONAL_TRANSFER_SENDER",value:"Intl. transfer - remitente"},{label:"DIVIDENDS",value:"Dividendos"},{label:"INTEREST",value:"Intereses"},{label:"CAPITAL",value:"Capital"},{label:"FEE",value:"Fee"},{label:"COST",value:"Costo"},{label:"COMMISSION",value:"Comisi\xf3n"},{label:"MANAGEMENT_FEE",value:"Fee de gesti\xf3n"},{label:"MANAGEMENT_INTEREST",value:"Intereses por gesti\xf3n"},{label:"INSURANCE_COST",value:"Costo de seguro"},{label:"INSURANCE_PREMIUM",value:"Prima de seguro"},{label:"BANKING_FEE",value:"Fee bancario general"},{label:"BANKING_TRANSFER_FEE",value:"Fee bancario por transferencias"},{label:"INCOME_ORIGINATION_FEE",value:"Ingreso por originaci\xf3n"},{label:"COST_ORIGINATION_LEGAL",value:"Costo legal por originaci\xf3n"},{label:"COST_ORIGINATION_TRANSPORT",value:"Costo de transporte por originaci\xf3n"},{label:"COST_ORIGINATION_EXPENSES",value:"Gastos por originaci\xf3n"},{label:"COST_ORIGINATION_SENTINEL",value:"Costo originaci\xf3n sentinel"},{label:"COST_SERVICING_LEGAL",value:"Costo legal servicio de deuda"},{label:"COST_SERVICING_TRANSPORT",value:"Costo de transporte servicio de deuda"},{label:"COST_SERVICING_EXPENSES",value:"Gastos de servicio de deuda"},{label:"SG&A_ACCOUNTING",value:"Contabilidad"},{label:"SG&A_TECH_SERVICES",value:"Tecnologia"},{label:"SG&A_LEGAL",value:"Legal"},{label:"SG&A_MAILING",value:"Correspondencia"},{label:"SG&A_OFFICE_RENT",value:"Renta de oficina"},{label:"SG&A_OFFICE_PRINT",value:"Servicios de impresi\xf3n"},{label:"SG&A_OFFICE_STORAGE",value:"Deposito"},{label:"TRAVEL_EXPENSES",value:"Gastos de viaje"},{label:"TRANSPORT",value:"Transporte general"}]}},309:function(e,a,t){},337:function(e,a,t){},338:function(e,a,t){},339:function(e,a,t){},340:function(e,a,t){},341:function(e,a,t){},342:function(e,a,t){},383:function(e,a){e.exports.rounder=function(e){return Math.round(1e4*e)/1e4}},413:function(e,a,t){e.exports=t(749)},418:function(e,a,t){},419:function(e,a,t){},659:function(e,a,t){},660:function(e,a,t){},661:function(e,a,t){},662:function(e,a,t){},663:function(e,a,t){},664:function(e,a,t){},665:function(e,a,t){},676:function(e,a,t){},677:function(e,a,t){},678:function(e,a,t){},679:function(e,a,t){},680:function(e,a,t){},681:function(e,a,t){},682:function(e,a,t){},744:function(e,a,t){},745:function(e,a,t){},746:function(e,a,t){},748:function(e,a,t){},749:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(28),r=t.n(c),s=(t(418),t(7)),i=t(12),o=t(14),m=t(13),u=t(15),d=(t(419),t(820)),p=t(814),E=t(793),h=t(34),v=t.n(h);t(72).config();var f=function e(){var a=this;Object(s.a)(this,e),this.signup=function(e){return a.service.post("/signup",e).then((function(e){return e.data}))},this.confirm=function(e){return a.service.post("/confirmation",e).then((function(e){return e.data})).catch((function(e){return e}))},this.resendVerification=function(){return a.service.get("/resend-confirmation").then((function(e){return e.data}))},this.login=function(e,t){return a.service.post("/login",{username:e,password:t}).then((function(e){return e.data}))},this.loggedin=function(){return a.service.get("/currentUser").then((function(e){return e.data}))},this.logout=function(){return a.service.get("/logout").then((function(e){return e.data}))},this.service=v.a.create({baseURL:"".concat("https://ribo-cap-staging.herokuapp.com","/api/auth"),withCredentials:!0})},g=t(9),N=t(22),b=t(790),y=t(26),O=t(108),S=t.n(O),C=t(248),I=t(249),D=t(250),P=t(308),x=(t(169),y.object().shape({email:y.string().email("Inserte un email v\xe1lido").required("Inserte su email"),firstName:y.string().min(2,"Inserte su nombre, m\xe1s de 2 caracteres").max(40,"Inserte su nombre, menos de 40 caracteres").required("Inserte su nombre"),lastName:y.string().min(2,"Inserte su apellido, m\xe1s de 2 caracteres").max(40,"Inserte su apellido, menos de 40 caracteres").required("Inserte su apellido"),password:y.string().min(8,"Inserte m\xe1s de 8 caracteres").max(40,"Inserte menos de 40 caracteres").required("Inserte una contrase\xf1a"),passwordConfirmation:y.string().oneOf([y.ref("password"),null],"Las contrase\xf1as deben de ser iguales")})),T=Object(E.a)(S()((function(e){return{main:Object(g.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit,border:"1px solid red"},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{height:"500px",marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit,backgroundColor:"#0F1433",color:"#F2F5F7",width:"100%",fontWeight:500,"&:hover":{backgroundColor:"#011D66",color:"#F2F5F7"}},inputErrors:{color:"red"}}}))((function(e){var a=new f,t=e.classes,n=e.getUser;return l.a.createElement("div",{className:"access-holder"},l.a.createElement("div",{className:"entry"}),l.a.createElement("div",{className:"access-window"},l.a.createElement("div",{className:"logo-access"}),l.a.createElement("div",{className:"user-credentials"},l.a.createElement("p",{className:"access-window-title"},"Bienvenido a Ribo"),l.a.createElement("p",{className:"access-window-subtitle"},"Ya tiene una cuenta? ",l.a.createElement(b.a,{to:"/login"},"ingrese aqui!")),l.a.createElement(N.c,{initialValues:{email:"",password:"",passwordConfirmation:"",firstName:"",lastName:""},onSubmit:function(t,l){l.setSubmitting,l.setErrors,a.signup(t).then((function(a){n(a),e.history.push("/")})).catch((function(e){console.log(e.message)}))},validationSchema:x,render:function(e){var a=e.values,n=e.errors,c=e.touched,r=e.handleBlur,s=e.handleChange,i=e.handleSubmit,o=e.isSubmitting;return l.a.createElement("form",{className:t.form,onSubmit:i},l.a.createElement(C.a,{margin:"normal",fullWidth:!0},l.a.createElement(I.a,{htmlFor:"username"},"Email"),l.a.createElement(D.a,{type:"email",name:"email",onChange:s,onBlur:r,value:a.email}),n.email&&c.email&&l.a.createElement("div",{className:t.inputErrors},n.email)),l.a.createElement(C.a,{margin:"normal",fullWidth:!0},l.a.createElement(I.a,{htmlFor:"username"},"Nombre"),l.a.createElement(D.a,{type:"firstName",name:"firstName",onChange:s,onBlur:r,value:a.firstName}),n.firstName&&c.firstName&&l.a.createElement("div",{className:t.inputErrors},n.firstName)),l.a.createElement(C.a,{margin:"normal",fullWidth:!0},l.a.createElement(I.a,{htmlFor:"username"},"Apellido"),l.a.createElement(D.a,{type:"lastName",name:"lastName",onChange:s,onBlur:r,value:a.lastName}),n.lastName&&c.lastName&&l.a.createElement("div",{className:t.inputErrors},n.lastName)),l.a.createElement(C.a,{margin:"normal",fullWidth:!0},l.a.createElement(I.a,{htmlFor:"username"},"Contrase\xf1a"),l.a.createElement(D.a,{type:"password",name:"password",onChange:s,onBlur:r,value:a.password}),n.password&&c.password&&l.a.createElement("div",{className:t.inputErrors},n.password)),l.a.createElement(C.a,{margin:"normal",fullWidth:!0},l.a.createElement(I.a,{htmlFor:"username"},"Confirmar contrase\xf1a"),l.a.createElement(D.a,{type:"password",name:"passwordConfirmation",onChange:s,onBlur:r,value:a.passwordConfirmation}),n.passwordConfirmation&&c.passwordConfirmation&&l.a.createElement("div",{className:t.inputErrors},n.passwordConfirmation)),l.a.createElement("div",{className:"buttonHolder"},l.a.createElement(P.a,{variant:"contained",color:"primary",className:t.submit,type:"submit",disabled:o},"Crear cuenta"),n.error&&l.a.createElement("div",{className:t.inputErrors},n.error)))}}))))}))),w=t(5),A=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var a=t.state.username,n=t.state.password;t.service.login(a,n).then((function(e){t.setState({username:a,password:n,error:!1}),t.props.getUser(e),t.props.history.push("/")})).catch((function(e){t.setState({username:a,password:n,error:e.response.data.message})}))},t.handleChange=function(e){var a=e.target,n=a.name,l=a.value;t.setState(Object(g.a)({},n,l))},t.state={username:"",password:""},t.service=new f,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props.classes;return l.a.createElement("div",{className:"access-holder"},l.a.createElement("div",{className:"entry"}),l.a.createElement("div",{className:"access-window"},l.a.createElement("div",{className:"logo-access"}),l.a.createElement("div",{className:"user-credentials"},l.a.createElement("p",{className:"access-window-title"},"Bienvenido de nuevo."),l.a.createElement("p",{className:"access-window-subtitle"},"No tienes una cuenta? ",l.a.createElement(b.a,{to:"/signup"},"registrate aqui!")),l.a.createElement("form",{className:a.form,onSubmit:this.handleFormSubmit},l.a.createElement(C.a,{margin:"normal",required:!0,fullWidth:!0},l.a.createElement(I.a,{htmlFor:"username"},"Usuario"),l.a.createElement(D.a,{id:"username",name:"username",autoComplete:"username",autoFocus:!0,value:this.state.username,onChange:function(a){return e.handleChange(a)}})),l.a.createElement(C.a,{margin:"normal",required:!0,fullWidth:!0},l.a.createElement(I.a,{htmlFor:"password"},"Contrase\xf1a"),l.a.createElement(D.a,{name:"password",type:"password",id:"password",autoComplete:"current-password",value:this.state.password,onChange:function(a){return e.handleChange(a)}})),l.a.createElement(P.a,{type:"submit",fullWidth:!0,variant:"contained",className:a.submit},"Ingresar")),this.state.error?l.a.createElement("div",{className:"error-notification"},l.a.createElement("h1",null,"Usuario o contrase\xf1a incorrecta, intente nuevamente")):"")))}}]),a}(n.Component),j=Object(E.a)(Object(w.a)((function(e){return{main:Object(g.a)({width:"auto",display:"block",marginLeft:e.spacing(3),marginRight:e.spacing(3),border:"1px solid red"},e.breakpoints.up(400+2*e.spacing(3)),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{height:"500px",marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{marginTop:e.spacing(3),backgroundColor:"#0F1433",color:"#F2F5F7",fontWeight:500,"&:hover":{backgroundColor:"#011D66",color:"#F2F5F7"}}}}))(A)),L=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).componentDidMount=function(){var e={confirmationCode:t.props.confirmationCode};t.service.confirm(e).then((function(e){!0===e.confirmed?t.setState({confirmed:!0,confirming:!1}):t.setState({confirmed:!1,confirming:!1})})).catch((function(e){t.setState({confirmed:!1,confirming:!1})}))},t.state={confirming:!0,confirmed:!1},t.service=new f,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"access-holder"},l.a.createElement("div",{className:"entry"}),l.a.createElement("div",{className:"access-window"},l.a.createElement("div",{className:"logo-access"}),l.a.createElement("div",{className:"user-credentials"},l.a.createElement("p",{className:"access-window-title"},"Verificaci\xf3n"),this.state.confirming?l.a.createElement("p",null,"Verificando cuenta..."):this.state.confirmed?l.a.createElement("p",null,"Cuenta verificada, puedes ingresar a su cuenta haciendo click en ",l.a.createElement(b.a,{to:"/login"},"ingresar!")):l.a.createElement("p",null,"La cuenta no pudo ser verificada, ingrese a su cuenta nuevamente y solicite un codigo nuevo",l.a.createElement(b.a,{to:"/login"}," aqui!")," "))))}}]),a}(n.Component),k=Object(E.a)(Object(w.a)((function(e){return{main:Object(g.a)({width:"auto",display:"block",marginLeft:e.spacing(3),marginRight:e.spacing(3),border:"1px solid red"},e.breakpoints.up(400+2*e.spacing(3)),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{height:"500px",marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{marginTop:e.spacing(3),backgroundColor:"#0F1433",color:"#F2F5F7",fontWeight:500,"&:hover":{backgroundColor:"#011D66",color:"#F2F5F7"}}}}))(L)),F=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={},t.service=new f,t.handleClick=function(){t.service.resendVerification().then((function(e){"success"===e.status&&t.setState({status:"success"})})).catch((function(e){t.setState({status:"failure"})}))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.classes,n=a.user,c=this.state.status;return l.a.createElement("div",{className:"access-holder"},l.a.createElement("div",{className:"entry"}),l.a.createElement("div",{className:"access-window"},l.a.createElement("div",{className:"logo-access"}),l.a.createElement("div",{className:"user-credentials"},l.a.createElement("p",{className:"access-window-title"},"Bienvenido ",n.firstName.charAt(0).toUpperCase()+n.firstName.slice(1)),l.a.createElement("p",{className:"access-window-subtitle"},"Para activar tu cuenta revisa tu buzon de correo electronico y sigue los pasos para la confirmaci\xf3n."),l.a.createElement("p",{className:"access-window-subtitle"},"Si no has recibido el correo de verificaci\xf3n, haz click en el siguiente bot\xf3n."),l.a.createElement(P.a,{type:"button",fullWidth:!0,onClick:function(){return e.handleClick()},variant:"contained",className:t.submit},"Reenviar correo de confirmaci\xf3n"),"success"===c&&l.a.createElement("div",{className:"access-notify-success"},l.a.createElement("p",null," El correo de confirmaci\xf3n se ha reenviado correctamente ")),"failure"===c&&l.a.createElement("div",{className:"access-notify-failure"},l.a.createElement("p",null," El correo de confirmaci\xf3n no se ha enviado correctament, intente nuevamente ")),l.a.createElement("p",{className:"access-window-note"},"*Recuerda de revisar en tu buz\xf3n de correo no deseado"))))}}]),a}(n.Component),R=Object(E.a)(Object(w.a)((function(e){return{main:Object(g.a)({width:"auto",display:"block",marginLeft:e.spacing(3),marginRight:e.spacing(3),border:"1px solid red"},e.breakpoints.up(400+2*e.spacing(3)),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{height:"500px",marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{marginTop:e.spacing(3),backgroundColor:"#0F1433",color:"#F2F5F7",fontWeight:500,"&:hover":{backgroundColor:"#011D66",color:"#F2F5F7"}}}}))(F)),_=t(23),M=t.n(_),U=t(32);t(72).config();var B=function e(){var a=this;Object(s.a)(this,e),this.totals=function(e){return a.service.get("/totals/".concat(e)).then((function(e){return e.data}))},this.portfolioMonthStatus=function(){return a.service.get("/portfolio/month/schedule/").then((function(e){return e.data}))},this.portfolioAggregates=function(){return a.service.get("/portfolioAggregates").then((function(e){return e.data}))},this.portfolioTotalsByStatus=function(e){return a.service.get("/portfolio/total/schedule/".concat(e)).then((function(e){return e.data}))},this.portfolioTotalsByEveryStatus=function(e){return a.service.get("/portfolio/total/schedule/all").then((function(e){return e.data}))},this.service=v.a.create({baseURL:"".concat("https://ribo-cap-staging.herokuapp.com","/api/test/summary"),withCredentials:!0})};t(309);var Y=function(e){var a=e.data,t=e.monthData,n=t[0];return l.a.createElement("div",{className:"loans-summary"},l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},a._id.toUpperCase()),l.a.createElement("p",{className:"total"},"$",a.totalCapitalRemaining.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"AMORTIZADO"),l.a.createElement("p",{className:"acc-total"},"$",a.totalPaid.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"TOTAL NOMINAL"),l.a.createElement("p",{className:"acc-total"},"$",a.totalCapital.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"TASA REAL"),l.a.createElement("p",{className:"total"},t?(n.details.projectedInterest/n.details.projectedPrincipal*100).toLocaleString(void 0,{maximumFractionDigits:2}):"","%"),l.a.createElement("p",{className:"acc-title"},"TASA"),l.a.createElement("p",{className:"acc-total"},(100*a.averageIntRate).toLocaleString(void 0,{maximumFractionDigits:2}),"%"),l.a.createElement("p",{className:"acc-title"},"INTERESES"),l.a.createElement("p",{className:"acc-total"},"$",n?n.details.interestPaid.toLocaleString(void 0,{maximumFractionDigits:2}):""),l.a.createElement("p",{className:"acc-title"},"INTERESES PROJECTADOS"),l.a.createElement("p",{className:"acc-total"},"$",n.details.projectedInterest.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"CAPITAL RESTANTE MEDIO"),l.a.createElement("p",{className:"total"},"$",a.averageLoanActiveCap.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"PRESTAMO MEDIO"),l.a.createElement("p",{className:"acc-total"},"$",a.averageLoan.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"AMORTIZADO"),l.a.createElement("p",{className:"acc-total"},"$",n.details.principalPaid.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"AMORTIZCI\xd3N MES"),l.a.createElement("p",{className:"acc-total"},"$",n.details.projectedPrincipal.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"DURACION INICIAL"),l.a.createElement("p",{className:"total"},a.averageDuration.toLocaleString(void 0,{maximumFractionDigits:2})," meses"),l.a.createElement("p",{className:"acc-title"},"# INVERSIONES"),l.a.createElement("p",{className:"acc-total"},a.totalActiveLoans)))};var G=function(e){var a=e.data,t=["PAGOS REALIZADOS","POR PAGAR","VENCIDOS","PENDIENTE"];return l.a.createElement("div",{className:"loans-summary"},a.map((function(e,a){return l.a.createElement("div",{key:a,className:"detail-summary"},l.a.createElement("p",{className:"title"},t[a]),l.a.createElement("p",{className:"total"},"$",e[0].totalPayment.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"TOTAL INTERESES"),l.a.createElement("p",{className:"acc-total"},"$",e[0].totalInterest.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"TOTAL CAPITAL"),l.a.createElement("p",{className:"acc-total"},"$",e[0].totalCapital.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"CANTIDAD"),l.a.createElement("p",{className:"acc-total"},"# ",e[0].totalQuantity.toLocaleString(void 0,{maximumFractionDigits:2})))})),l.a.createElement("div",{className:"detail-summary-notes"},l.a.createElement("p",{className:"notes"},"* Datos historicos, representan los datos acumulados reflejados en el cronograma de pago."),l.a.createElement("p",{className:"notes"},"* Por pagar: pr\xf3ximos 30 d\xedas + los \xfaltimos 7 d\xedas."),l.a.createElement("p",{className:"notes"},"* Vencidos: m\xe1s de 7 d\xedas sin pagar.")))},W=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={getSummary:!0},t.summaryService=new B,t.fetchSummary=Object(U.a)(M.a.mark((function e(){var a,n,l,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.state.getSummary){e.next=17;break}if("PERU"===(a=t.props.userLocation)){e.next=8;break}return e.next=5,t.summaryService.portfolioTotalsByEveryStatus();case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=null;case 9:return n=e.t0,e.next=12,t.summaryService.totals(a);case 12:return l=e.sent,e.next=15,t.summaryService.portfolioMonthStatus();case 15:c=e.sent,Promise.all([l,n,c]).then((function(e){t.setState({getSummary:!1,data:e[0],scheduleData:e[1],monthData:e[2]})})).catch((function(e){t.setState({data:!1})}));case 17:case"end":return e.stop()}}),e)}))),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.fetchSummary()}},{key:"render",value:function(){var e=this.state,a=e.data,t=e.scheduleData,n=e.monthData;return l.a.createElement("div",{className:"content"},a&&n?a[0].map((function(e,a){return l.a.createElement(Y,{key:a,data:e,monthData:n.filter((function(a){return a._id===e._id}))})})):"",t?l.a.createElement(G,{data:t}):"")}}]),a}(n.Component),H=t(60),V=t(251);t(72).config();var z=function e(){var a=this;Object(s.a)(this,e),this.getAllPayments=function(){return a.service.get("/").then((function(e){return e.data}))},this.deletePayment=function(e){return a.service.delete("/installment/".concat(e)).then((function(e){return e.data}))},this.newPayment=function(e){return a.service.post("/installment/".concat(e._loanSchedule),e).then((function(e){return e.data}))},this.newFullPayment=function(e){return a.service.post("/prepay-loan/installment/".concat(e._loanSchedule),e).then((function(e){return e.data}))},this.newBulkPayment=function(e){return a.service.post("/bulk-payment",e).then((function(e){return e.data}))},this.service=v.a.create({baseURL:"".concat("https://ribo-cap-staging.herokuapp.com","/api/payment"),withCredentials:!0})},q=t(373),$=t.n(q),X=t(24),Z=t.n(X);function J(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function K(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?J(t,!0).forEach((function(a){Object(g.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var Q=[{title:"Nombre",field:"borrower",render:function(e){return l.a.createElement(b.a,{to:"/admin/loan/".concat(e._loan)},e.borrower)}},{title:"Fecha",field:"date_pmt",type:"date"},{title:"Cuenta",field:"cashAccount"},{title:"Monto",field:"amount",render:function(e){return Z()(e.amount).format({thousandSeparated:!0,mantissa:2})},type:"numeric"},{title:"Tipo",field:"paymentType"}];function ee(e){var a=e.model;return l.a.createElement($.a,{columns:Q,data:a,title:"PAGOS RECIBIDOS",options:{columnsButton:!0,exportButton:!0,actionsColumnIndex:-1,exportCsv:function(e,a){var t=e.filter((function(e){return!e.hidden&&e.field&&!1!==e.export})),n=a.map((function(e){return t.map((function(a){return e[a.field]}))}));new V.CsvBuilder("pagos recibidos.csv").setDelimeter(",").setColumns(t.map((function(e){return e.title}))).addRows(n).exportFile()},pageSize:10,exportFileName:"untitled.csv"},toolbar:!0})}var ae=function(){var e=new z,a=Object(n.useState)({columns:Q,data:[]}),t=Object(H.a)(a,2),c=t[0],r=t[1],s=Object(n.useState)(null),i=Object(H.a)(s,2),o=(i[0],i[1]);return Object(n.useEffect)((function(){(function(){var a=Object(U.a)(M.a.mark((function a(){var t;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.getAllPayments();case 3:t=a.sent,r(K({},c,{data:t})),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),o(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}})()()}),[]),l.a.createElement("div",{className:"content"},l.a.createElement(ee,{model:c.data}))},te=t(149),ne=(t(659),function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={getSummary:!0},t.summaryService=new B,t.lineData=function(e,a,t){return{labels:e.values,datasets:t.map((function(e){return{label:e.text,fill:!1,backgroundColor:e.color,borderColor:e.color,pointBorderColor:e.color,pointRadius:4,data:e.values}}))}},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.fetchSummary()}},{key:"fetchSummary",value:function(){var e=this;this.state.getSummary&&this.summaryService.portfolioAggregates().then((function(a){var t=a.dates,n=a.InterestProjectedIncome,l=a.InterestActualIncome,c=a.PrincipalActualRepayment,r=a.PrincipalProjectedRepayment,s=a.PrincipalProjectedOutstanding,i=a.cumulativeActualIncome,o=a.cumulativeProjectedIncome,m=e.lineData(t,"Intereses",[n,l]),u=e.lineData(t,"Intereses Acumulados",[c,r]),d=e.lineData(t,"Capital",[i,o]),p=e.lineData(t,"Capital Acumulado",[s]);e.setState({getSummary:!1,interestData:m,capitalData:u,cumulativeInterestData:d,principalProjectedOutstanding:p})})).catch((function(a){e.setState({data:!1})}))}},{key:"render",value:function(){var e=this.state,a=e.interestData,t=e.capitalData,n=e.cumulativeInterestData,c=e.principalProjectedOutstanding;return l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"graph-holder"},l.a.createElement("div",{className:"graph-portfolio"},l.a.createElement("p",null,"INTERES - 6m "),a&&l.a.createElement(te.a,{data:a})),l.a.createElement("div",{className:"graph-portfolio"},l.a.createElement("p",null,"INTERESES ACUMULADOS HISTORICO - 6m "),n&&l.a.createElement(te.a,{data:n}))),l.a.createElement("div",{className:"graph-holder"},l.a.createElement("div",{className:"graph-portfolio"},l.a.createElement("p",null,"CAPITAL - 6m "),t&&l.a.createElement(te.a,{data:t})),l.a.createElement("div",{className:"graph-portfolio"},l.a.createElement("p",null,"CAPITAL COLOCADO- 6m "),c&&l.a.createElement(te.a,{data:c}))))}}]),a}(n.Component));function le(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}t(72).config();var ce=function e(){var a=this;Object(s.a)(this,e),this.getLoanCommissions=function(e){return a.service.get("/commission/".concat(e)).then((function(e){return e.data}))},this.getSalesmen=function(){return a.service.get("/commission/salesmen").then((function(e){return e.data}))},this.addCommission=function(e){return a.service.post("commission",function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?le(t,!0).forEach((function(a){Object(g.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):le(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},e)).then((function(e){return e.data}))},this.deleteCommission=function(e){return a.service.delete("commission/".concat(e)).then((function(e){return e.data}))},this.getLoanDetails=function(){return a.service.get("/").then((function(e){return e.data}))},this.getLoanCompleteDetails=function(e){return a.service.get("/complete-details/".concat(e)).then((function(e){return e.data}))},this.getPeriodSchedule=function(e,t,n){return a.service.get("/schedule/".concat(e,"/").concat(t,"/").concat(n)).then((function(e){return e.data}))},this.getPortfolioStatus=function(e,t,n){return a.service.get("/portfolio-status/".concat(e,"/").concat(t,"/").concat(n)).then((function(e){return e.data}))},this.getOpenLoanDetails=function(){return a.service.get("/open").then((function(e){return e.data}))},this.getLoanSchedule=function(e){return a.service.get("/loanschedule/".concat(e),{loanId:e}).then((function(e){return e.data}))},this.getWeekSchedule=function(){return a.service.get("/current-week").then((function(e){return e.data}))},this.restructure=function(e,t){return a.service.post("/restructure/".concat(e),t).then((function(e){return e.data}))},this.createLoan=function(e,t,n,l,c,r,s,i,o){return a.service.post("/create",{_borrower:e,insurancePremium:t,collateralType:n,collateralValue:l,collateralDescription:c,loanDetails:r,useOfFunds:s,toInvest:i,currency:o}).then((function(e){return e.data})).catch((function(e){return e.response}))},this.createLoanAllActive=function(e,t,n,l,c,r,s,i,o){return a.service.post("/create/all-active-invest",{_borrower:e,insurancePremium:t,collateralType:n,collateralValue:l,collateralDescription:c,loanDetails:r,useOfFunds:s,currency:i,country:o}).then((function(e){return e.data})).catch((function(e){return e}))},this.makePayment=function(e){return a.service.patch("/installmentpmt/".concat(e.paymentId),{payment:e}).then((function(e){return e.data}))},this.deletePayments=function(e){return a.service.delete("/deletepmt/".concat(e)).then((function(e){return e.data}))},this.deleteLoan=function(e){return a.service.delete("/".concat(e)).then((function(e){return e.data}))},this.service=v.a.create({baseURL:"".concat("https://ribo-cap-staging.herokuapp.com","/api/loan"),withCredentials:!0})};t(72).config();var re=function e(){var a=this;Object(s.a)(this,e),this.transactionInvestor=function(e,t,n,l,c,r,s){return a.service.post("/",{_investor:e,cashAccount:t,concept:n,debit:l,credit:c,date:r,comment:s}).then((function(e){return e.data}))},this.getLoanInvestorDetails=function(e){return a.service.get("/loaninvestordetails/".concat(e)).then((function(e){return e.data}))},this.getInvestorTransactions=function(e){return a.service.get("/list/".concat(e)).then((function(e){return e.data}))},this.getTransactions=function(e){return a.service.get("/transaction-list/".concat(e)).then((function(e){return e.data}))},this.getInvestorsAvailability=function(e){return a.service.get("/totals/".concat(e)).then((function(e){return e.data}))},this.service=v.a.create({baseURL:"".concat("https://ribo-cap-staging.herokuapp.com","/api/test/transaction"),withCredentials:!0})},se=t(11),ie=t.n(se),oe=(t(660),function(e){var a=e.data,t=e.title,n=e.cash;return l.a.createElement("div",{className:"category-cards"},l.a.createElement("div",{className:"category-header"},t.toUpperCase(),n>0?l.a.createElement("span",null," / EFECTIVO DISPONIBLE: ",n.toLocaleString()):""),l.a.createElement("div",{className:"category-items-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-content"},l.a.createElement("pre",null)),l.a.createElement("p",{className:"category-title"},"CLIENTE"))),l.a.createElement("div",{className:"category-items-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-content"},l.a.createElement("pre",null)),l.a.createElement("p",{className:"category-title"},"FECHA DE PAGO"))),l.a.createElement("div",{className:"category-items-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-content"},a.interest.toLocaleString()),l.a.createElement("p",{className:"category-title"},"INGRESO ESTIMADO"))),l.a.createElement("div",{className:"category-items-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-content"},a.principal.toLocaleString()),l.a.createElement("p",{className:"category-title"},"REPAGO DE CAPITAL"))),l.a.createElement("div",{className:"category-items-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-content"},(a.principal+a.interest).toLocaleString()),l.a.createElement("p",{className:"category-title"},"TOTAL A PAGAR"))),l.a.createElement("div",{className:"category-items-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-content"},a.numberOfInstallments.toLocaleString()),l.a.createElement("p",{className:"category-title"},"# DE CUOTAS"))))}),me=(t(661),function(e){var a=e.data,t=e.title,n=e.cash;return l.a.createElement("div",{className:"category-cards"},l.a.createElement("div",{className:"category-header"},t.toUpperCase(),n>0?l.a.createElement("span",null," / EFECTIVO DISPONIBLE: ",n.toLocaleString()):""),l.a.createElement("div",{className:"category-items"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-title"},"INGRESO X INTERESES"),l.a.createElement("p",{className:"category-content"},a.interest_pmt.toLocaleString()))),l.a.createElement("div",{className:"category-items"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-title"},"CAPITAL"),l.a.createElement("p",{className:"category-content"},a.principal_pmt.toLocaleString()))),l.a.createElement("div",{className:"category-items"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-title"},"INGRESO ESTIMADO"),l.a.createElement("p",{className:"category-content"},a.interest.toLocaleString()))),l.a.createElement("div",{className:"category-items"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-title"},"REPAGO DE CAPITAL"),l.a.createElement("p",{className:"category-content"},a.principal.toLocaleString()))),l.a.createElement("div",{className:"category-items"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-title"},"# DE PRESTAMOS"),l.a.createElement("p",{className:"category-content"},a.numberOfInstallments.toLocaleString()))))}),ue=(t(234),function(e){var a=e.data;return l.a.createElement("div",{className:"item-cards"},l.a.createElement("div",{className:"item-content"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},(a.firstName.split().length>=1&&a.lastName.split().length>=1?a.firstName.split(" ")[0]+" "+a.lastName.split(" ")[0]:a.firstName+" "+a.lastName).slice(0,23)))),l.a.createElement("div",{className:"item-content"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},ie()(a.date).format("YYYY-MM-DD")))),l.a.createElement("div",{className:"item-content"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},a.interest.toLocaleString()+" "+a.currency))),l.a.createElement("div",{className:"item-content"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},a.principal.toLocaleString()+" "+a.currency))),l.a.createElement("div",{className:"item-content"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},l.a.createElement(b.a,{to:"/admin/loan/".concat(a._loan)},"+")))))}),de=t(30),pe=(t(662),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleChange=function(e){var a=e.target,n=a.name,l=a.value;t.setState(Object(g.a)({},n,l))},t.handleChangePayment=function(e){var a=e.target,n=a.name,l=a.value;"amount"===n&&(l=parseFloat(l)),t.setState(Object(g.a)({},n,l))},t.componentDidMount=function(){var e=t.props,a=e.installment,n=e.loan,l=e.fullPayment;console.log(a),t.setState({date_pmt:a.date,amount:l?n.capitalRemaining:Math.round(100*a.balanceDue)/100,_loan:a._loan,_loanSchedule:a._id,cashAccount:void 0})},t.state={date_pmt:(new Date).toISOString().substring(0,10),amount:void 0,_loan:void 0,_loanSchedule:void 0,cashAccount:void 0},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.receivePayment,n=a.closePaymentOption,c=a.fullPayment,r=a.loan;return l.a.createElement("div",{className:"loan-schedule-holder"},l.a.createElement("div",{className:"loan-payment-holder"},l.a.createElement("div",{className:"detail-schedule details-date"},l.a.createElement("label",{className:"acc-title"},"FECHA"),l.a.createElement("input",{type:"date",name:"date_pmt",className:"form-control",value:new Date(this.state.date_pmt).toISOString().substring(0,10),onChange:this.handleChange})),l.a.createElement("div",{className:"detail-schedule acc-fees"},l.a.createElement("label",{className:"acc-title"},"MONTO"),l.a.createElement("input",{label:"Monto",name:"amount",min:c?r.capitalRemaining:0,className:"form-control input-sm",value:this.state.amount?this.state.amount:void 0,onChange:this.handleChangePayment,type:"number"})),l.a.createElement("div",{className:"detail-schedule acc-fees"},l.a.createElement("label",{className:"acc-title"},"CUENTA"),l.a.createElement("select",{className:"form-control input-sm",name:"cashAccount",id:"cashAccount",value:this.state.cashAccount,onChange:function(a){return e.handleChange(a)}},l.a.createElement("option",null),de.accounts.map((function(e,a){return l.a.createElement("option",{key:a,value:e},e)})))),l.a.createElement("div",{className:"detail-schedule"},l.a.createElement("label",{className:"acc-title"},"*"),l.a.createElement("div",{className:"payment-operations"},l.a.createElement("div",{className:"acc-total"},l.a.createElement("i",{className:"material-icons",onClick:function(){return t(e.state)}},"add_box")),l.a.createElement("div",{className:"acc-total"},l.a.createElement("i",{className:"material-icons",onClick:function(){return n()}},"remove_circle"))))))}}]),a}(n.Component)),Ee=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={openPayment:!1},t.PaymentService=new z,t.openPaymentOption=function(e){t.setState({openPayment:!0,installment:e})},t.closePaymentOption=function(){t.setState({openPayment:!1,installment:null})},t.paymentReceiver=function(e){t.PaymentService.newPayment(e).then((function(e){t.props.loader(),t.setState({openPayment:!1})})).catch((function(e){t.setState({error:e})}))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props.data,t=this.state.installment;return l.a.createElement("div",null,l.a.createElement("div",{className:"item-cards"},l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},(a.firstName.split().length>=1&&a.lastName.split().length>=1?a.firstName.split(" ")[0]+" "+a.lastName.split(" ")[0]:a.firstName+" "+a.lastName).slice(0,23)))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},-1*ie()(a.date).diff(ie()(),"d")>0?ie()(a.date).format("YYYY-MM-DD")+"  |  "+-1*ie()(a.date).diff(ie()(),"d")+"d":ie()(a.date).format("YYYY-MM-DD")))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content number-content"},a.interest.toLocaleString()))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content number-content"},a.principal.toLocaleString()))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content number-content"},(a.principal+a.interest).toLocaleString()+" "+a.currency))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},l.a.createElement(b.a,{to:"/admin/loan/".concat(a._loan)},"Detalle")," | ",l.a.createElement("span",{className:"payment-option",onClick:function(){return e.openPaymentOption(a)}},"Pagar"))))),this.state.openPayment&&l.a.createElement(pe,{installment:t,receivePayment:this.paymentReceiver,closePaymentOption:this.closePaymentOption}))}}]),a}(n.Component),he=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={openPayment:!1},t.PaymentService=new z,t.openPaymentOption=function(e){t.setState({openPayment:!0,installment:e})},t.closePaymentOption=function(){t.setState({openPayment:!1,installment:null})},t.paymentReceiver=function(e){t.PaymentService.newPayment(e).then((function(e){t.props.loader(),t.setState({openPayment:!1})})).catch((function(e){t.setState({error:e})}))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props.data,t=this.state.installment;return l.a.createElement("div",null,l.a.createElement("div",{className:"item-cards"},l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},(a.firstName.split().length>=1&&a.lastName.split().length>=1?a.firstName.split(" ")[0]+" "+a.lastName.split(" ")[0]:a.firstName+" "+a.lastName).slice(0,23)))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},ie()(a.date).format("YYYY-MM-DD")+" | "+-1*ie()(a.date).diff(ie()(),"d")))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content number-content"},(a.interest-a.interest_pmt).toLocaleString()))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content number-content"},(a.principal-a.principal_pmt).toLocaleString()))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content number-content"},a.balanceDue.toLocaleString()+" "+a.currency))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},l.a.createElement(b.a,{to:"/admin/loan/".concat(a._loan)},"Detalle")," | ",l.a.createElement("span",{className:"payment-option",onClick:function(){return e.openPaymentOption(a)}},"Pagar"))))),this.state.openPayment&&l.a.createElement(pe,{installment:t,receivePayment:this.paymentReceiver,closePaymentOption:this.closePaymentOption}))}}]),a}(n.Component),ve=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={loans:[],getLoan:!0,startDate:ie()().subtract(7,"days").toISOString().substring(0,10),endDate:ie()().add(7,"days").toISOString().substring(0,10),country:"Todos",countries:["Todos","Venezuela","Peru"]},t.service=new ce,t.TransactionService=new re,t.handleChange=function(e){var a=e.target,n=a.name,l=a.value;t.setState(Object(g.a)({},n,l))},t.componentDidMount=function(){t.fetchLoans(),t.fetchAccountsTotals()},t.loader=Object(U.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.fetchAccountsTotals(),t.fetchLoans();case 2:case"end":return e.stop()}}),e)}))),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"fetchAccountsTotals",value:function(){var e=this;if(!this.state.accounts){var a=this.props.userLocation;this.TransactionService.getInvestorsAvailability(a).then((function(a){var t=a.reduce((function(e,a){return e+a.accumTotal}),0);e.setState({total:t})})).catch((function(a){e.setState({total:!1})}))}}},{key:"fetchLoans",value:function(e){var a=this;e&&e.preventDefault(e);var t=this.state,n=t.startDate,l=t.endDate,c=this.props.userLocation;this.service.getPortfolioStatus(c,n,l).then(function(){var e=Object(U.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t,a.setState({getLoan:!1,portfolio:n.portfolio,paid:n.paid,due:n.due,overdue:n.overdue,outstanding:n.outstanding});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){a.setState({loans:!1})}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.overdue,n=a.due,c=a.paid,r=a.outstanding;return l.a.createElement("div",{className:"content"},l.a.createElement("div",null,t?l.a.createElement("div",null,l.a.createElement(oe,{data:t,title:"Cobranza atrasada (+7d)"}),t.installments.map((function(a,t){return l.a.createElement(Ee,{key:t,data:a,loader:e.loader})}))):"",n?l.a.createElement("div",null,l.a.createElement(oe,{data:n,title:"Cobranza pendiente (\xb17d)"}),n.installments.map((function(a,t){return l.a.createElement(Ee,{key:t,data:a,loader:e.loader})}))):"",r?l.a.createElement("div",null,l.a.createElement(oe,{data:r,title:"Cobranza de pagos Incompletos"}),r.installments.map((function(a,t){return l.a.createElement(he,{key:t,data:a,loader:e.loader})}))):"",c?l.a.createElement("div",null,l.a.createElement(me,{data:c,title:"Cobranza realizada del mes corriente"}),c.installments.map((function(e,a){return l.a.createElement(ue,{key:a,data:e})}))):""))}}]),a}(n.Component);t(337);t(72).config();var fe=function e(){var a=this;Object(s.a)(this,e),this.getCashAccountTotals=function(e){return a.service.get("/cash-available/accounts/".concat(e)).then((function(e){return e.data}))},this.getCashflow=function(e){return a.service.get("/cashflow/".concat(e)).then((function(e){return e.data}))},this.getStats=function(e){return a.service.get("/general/stats/".concat(e)).then((function(e){return e.data}))},this.cashAccountMovements=function(e){return a.service.get("/cash-movements/account/".concat(e)).then((function(e){return e.data}))},this.service=v.a.create({baseURL:"".concat("https://ribo-cap-staging.herokuapp.com","/api/financials"),withCredentials:!0})},ge=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={getAccounts:!0},t.FinancialService=new fe,t.componentDidMount=function(){t.fetchAccounts()},t.fetchAccounts=Object(U.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state.getAccounts&&(console.log(t.props.cashAccount),t.setState({cashAccount:t.props.cashAccount}),t.FinancialService.cashAccountMovements(t.props.cashAccount).then((function(e){console.log(e),t.setState({movements:e})})).catch((function(e){return console.log(e.message)})));case 1:case"end":return e.stop()}}),e)}))),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state,a=e.cashAccount,t=e.movements,n=0;return l.a.createElement("div",{className:"content"},a?l.a.createElement("caption",{className:""},a):null,l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Fecha"),l.a.createElement("th",null,"Prestamo"),l.a.createElement("th",null,"Inversionista"),l.a.createElement("th",null,"Concepto"),l.a.createElement("th",null,"Debito"),l.a.createElement("th",null,"Credito")),t?t.map((function(e){return n+=e.debit-e.credit,l.a.createElement("tr",null,l.a.createElement("td",null,ie()(e.date).format("YYYY-MM-DD")),l.a.createElement("td",null,e._loan),l.a.createElement("td",null,e._investor),l.a.createElement("td",null,e.concept),l.a.createElement("td",null,e.debit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),l.a.createElement("td",null,e.credit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),l.a.createElement("td",null,n.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})))})):null))}}]),a}(n.Component),Ne=y.object().shape({firstName:y.string().nullable().required("Debe de introducir sus nombres"),lastName:y.string().nullable().required("Debe de introducir sus apellidos"),DOB:y.date("Debe de introducir una fecha valida").nullable().required("Debe seleccionar su fecha de nacimiento"),email:y.string().email("Email no v\xe1lido").required("Debe de introducir un email v\xe1lido"),gender:y.string().oneOf(["MALE","FEMALE"]).required(),nationality:y.string().required("Debe de introducir su nacionalidad"),nationalIdType:y.string().required("Debe de introducir su tipo de documento"),nationalId:y.string().required("Debe de introducir su n\xfamero de documento"),cellphoneNumber:y.string().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Debe de introducir un numero valido"),address:y.string().nullable().required("Debe de introducir su direcci\xf3n completa"),city:y.string().nullable().required("Debe de introducir su ciudad"),country:y.string().required("Debe de seleccionar su pa\xeds"),employmentStatus:y.string().required(" Debe de seleccionar su estatus laboral"),monthlyIncome:y.number().nullable().required("Debe de intrudicr su ingreso mensual")});t(663);t(72).config();var be=function e(){var a=this;Object(s.a)(this,e),this.updateAccount=function(e,t){return a.service.patch("/update/details/".concat(e),{details:t}).then((function(e){return e.data}))},this.updateDocumentID=function(e,t){var n=new FormData;return n.append("photo",t),a.service.post("/update/documentID/".concat(e),n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},this.updateDocumentIncome=function(e,t){var n=new FormData;return n.append("photo",t),a.service.post("/update/documentIncome/".concat(e),n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},this.createAccount=function(e){return a.service.post("/create-account",{details:e}).then((function(e){return e.data}))},this.getClients=function(e,t){return a.service.get("/all-clients/".concat(e,"/").concat(t)).then((function(e){return e.data}))},this.getClient=function(e){return a.service.get("/detail/".concat(e)).then((function(e){return e.data}))},this.getInvAccounts=function(){return a.service.get("/get-accounts").then((function(e){return e.data}))},this.service=v.a.create({baseURL:"".concat("https://ribo-cap-staging.herokuapp.com","/api/test/client"),withCredentials:!0})},ye=new be,Oe=Object(N.d)({mapPropsToValues:function(e){var a=e.firstName,t=e.lastName,n=e.email,l=e.DOB,c=e.placeOfBirth,r=e.cellphoneNumber,s=e.gender;return{firstName:a||"",lastName:t||"",email:n||"",DOB:l||"",placeOfBirth:c||"",personalReference:e.personalReference||"",cellphoneNumber:r||"",gender:s||"MALE",civilStatus:e.civilStatus||"SINGLE",nationality:e.nationality||"",nationalId:e.nationalId||"",nationalIdType:e.nationalIdType||"PASSPORT",academicLevel:e.academicLevel||"",address:e.address||"",city:e.city||"",country:e.country||"PERU",employmentStatus:e.employmentStatus||"EMPLOYED",businessName:e.businessName||"",startDate:e.startDate||"",businessAddress:e.businessAddress||"",businessPhoneNumber:e.businessPhoneNumber||"",monthlyIncome:e.monthlyIncome||""}},validationSchema:Ne,handleSubmit:function(e,a){var t=a.resetForm,n=a.setSubmitting,l=a.setStatus;ye.createAccount(e).then((function(){t(),n(!1),l({success:"El usuario fue registrado existosamente!"})}))}})((function(e){e.values;var a=e.errors,t=e.status,n=e.touched,c=e.handleSubmit,r=e.isSubmitting;return l.a.createElement("div",{className:"contentForm"},l.a.createElement(N.b,{onSubmit:c},l.a.createElement("div",{className:"formHeaderHolder"},l.a.createElement("div",{className:"formHeader"},l.a.createElement("h1",null,l.a.createElement("b",null,"Creaci\xf3n de cuenta")))),l.a.createElement("div",{className:"formSectionHolder"},l.a.createElement("div",{className:"formTitleHolder"},l.a.createElement("p",null,l.a.createElement("b",null,"Informaci\xf3n General:"))),l.a.createElement("div",{className:"formInputsHolder"},l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Nombres"),l.a.createElement(N.a,{className:"input-field",type:"text",name:"firstName"}),a.firstName&&n.firstName?l.a.createElement("p",{className:"form-error"},a.firstName):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Apellidos"),l.a.createElement(N.a,{className:"input-field",type:"text",name:"lastName"}),a.lastName&&n.lastName?l.a.createElement("p",{className:"form-error"},a.lastName):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Email"),l.a.createElement(N.a,{className:"input-field",type:"email",name:"email"}),a.email&&n.email?l.a.createElement("p",{className:"form-error"},a.email):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Fecha de Nacimiento"),l.a.createElement(N.a,{className:"input-field",type:"date",name:"DOB"}),a.DOB&&n.DOB?l.a.createElement("p",{className:"form-error"},a.DOB):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Lugar de Nacimiento"),l.a.createElement(N.a,{className:"input-field",type:"text",name:"placeOfBirth"})),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"G\xe9nero"),l.a.createElement(N.a,{className:"select-field",component:"select",name:"gender"},de.gender.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)}))),a.gender&&n.gender?l.a.createElement("p",{className:"form-error"},a.gender):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Estado civil"),l.a.createElement(N.a,{className:"select-field",component:"select",name:"civilStatus"},de.civilStatus.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)})))),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Nacionalidad"),l.a.createElement(N.a,{className:"input-field",type:"text",name:"nationality"}),a.nationality&&n.nationality?l.a.createElement("p",{className:"form-error"},a.nationality):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"N\xfamero de Identidad"),l.a.createElement(N.a,{className:"input-field",type:"text",name:"nationalId"}),a.nationalId&&n.nationalId?l.a.createElement("p",{className:"form-error"},a.nationalId):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Tipo de documento"),l.a.createElement(N.a,{className:"select-field",component:"select",name:"nationalIdType"},de.nationalIdType.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)}))),a.nationalIdType&&n.nationalIdType?l.a.createElement("p",{className:"form-error"},a.nationalIdType):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Nivel Academico"),l.a.createElement(N.a,{className:"select-field",component:"select",name:"academicLevel"},de.academicLevel.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)})))),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Referencia personal"),l.a.createElement(N.a,{className:"input-field",type:"text",name:"personalReference"})))),l.a.createElement("div",{className:"formSectionHolder"},l.a.createElement("div",{className:"formTitleHolder"},l.a.createElement("p",null,l.a.createElement("b",null,"Datos de Contacto:"))),l.a.createElement("div",{className:"formInputsHolder"},l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"N\xfamero Telef\xf3nico")," ",l.a.createElement(N.a,{className:"input-field",type:"text",name:"cellphoneNumber"}),a.cellphoneNumber&&n.cellphoneNumber?l.a.createElement("p",{className:"form-error"},a.cellphoneNumber):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null," Direcci\xf3n"),l.a.createElement(N.a,{className:"input-field",type:"text",name:"address"}),a.address&&n.address?l.a.createElement("p",{className:"form-error"},a.address):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Ciudad"),l.a.createElement(N.a,{className:"input-field",type:"text",name:"city"}),a.city&&n.city?l.a.createElement("p",{className:"form-error"},a.city):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Pa\xeds"),l.a.createElement(N.a,{className:"select-field",component:"select",name:"country"},de.countries.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)}))),a.country&&n.country?l.a.createElement("p",{className:"form-error"},a.country):null))),l.a.createElement("div",{className:"formSectionHolder"},l.a.createElement("div",{className:"formTitleHolder"},l.a.createElement("p",null,l.a.createElement("b",null,"Informaci\xf3n de Laboral:"))),l.a.createElement("div",{className:"formInputsHolder"},l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Estatus laboral"),l.a.createElement(N.a,{className:"select-field",component:"select",name:"employmentStatus"},de.employmentStatus.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)}))),a.employmentStatus&&n.employmentStatus?l.a.createElement("p",{className:"form-error"},a.employmentStatus):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Empresa"),l.a.createElement(N.a,{className:"input-field",type:"text",name:"businessName"})),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Fecha de Inicio"),l.a.createElement(N.a,{className:"input-field",type:"date",name:"startDate"})),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Direccion de la empresa"),l.a.createElement(N.a,{className:"input-field",type:"text",name:"businessAddress"})),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"N\xfaumero de t\xe9lefono"),l.a.createElement(N.a,{className:"input-field",type:"text",name:"businessPhoneNumber"})),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Ingreso"),l.a.createElement(N.a,{className:"input-field",type:"number",name:"monthlyIncome"}),a.monthlyIncome&&n.monthlyIncome?l.a.createElement("p",{className:"form-error"},a.monthlyIncome):null))),l.a.createElement("div",{className:"formSectionHolder"},l.a.createElement("div",{className:"formTitleHolder"}),l.a.createElement("div",{className:"formOptionsHolder"},t?t.success?l.a.createElement("div",{className:"form-response success"},"El usuario fue registrado exitosamente"):l.a.createElement("div",{className:"form-response failure"},"El usuario no pudo ser registrado con exito, intente nuevamente!"):"",l.a.createElement("div",null,l.a.createElement("button",{disabled:r,type:"submit",className:"btn btn-info"},"Enviar"))))))})),Se=y.object().shape({businessName:y.string().nullable().required("Debe de introducir el nombre de la compa\xf1\xeda"),country:y.string().required("Debe de seleccionar su pa\xeds"),ownership:y.string().oneOf(["PUBLIC","PRIVATE"]).required(),activeYears:y.number().nullable().required("Debe introducir cantidad de a\xf1os operativa"),employeeAmount:y.number().nullable().required("Debe introducir cantidad de empleados"),contactEmployee:y.string().required("Debe introducir un empleado de contacto"),phoneNumber:y.string().required("Debe introducir un n\xfamero de tel\xe9fono"),address:y.string().required("Debe de introducir la direcci\xf3n"),city:y.string().required("Debe de introducir la ciudad")});t(664);t(72).config();var Ce=new function e(){var a=this;Object(s.a)(this,e),this.createCompany=function(e){return a.service.post("/",e).then((function(e){return e.data}))},this.getClients=function(e,t){return a.service.get("/all-clients/".concat(e,"/").concat(t)).then((function(e){return e.data}))},this.getClient=function(e){return a.service.get("/detail/".concat(e)).then((function(e){return e.data}))},this.getInvAccounts=function(){return a.service.get("/get-accounts").then((function(e){return e.data}))},this.service=v.a.create({baseURL:"".concat("https://ribo-cap-staging.herokuapp.com","/api/company"),withCredentials:!0})},Ie=Object(N.d)({mapPropsToValues:function(e){return{businessName:e.businessName||"",taxID:e.taxID||"",sector:e.sector||"",country:e.country||"PERU",ownership:e.ownership||"PRIVATE",activeYears:e.activeYears||"",website:e.website||"",contactEmployee:e.contactEmployee||"",phoneNumber:e.phoneNumber||"",email:e.email||"",address:e.address||"",city:e.city||""}},validationSchema:Se,handleSubmit:function(e,a){var t=a.resetForm,n=a.setSubmitting,l=a.setStatus;Ce.createCompany(e).then((function(){t(),n(!1),l({success:"Compa\xf1ia registrada existosamente!"})}))}})((function(e){e.values;var a=e.errors,t=e.status,n=e.touched,c=e.handleSubmit,r=e.isSubmitting;return l.a.createElement("div",{className:"contentForm"},l.a.createElement(N.b,{onSubmit:c},l.a.createElement("div",{className:"formHeaderHolder"},l.a.createElement("div",{className:"formHeader"},l.a.createElement("h1",null,l.a.createElement("b",null,"Creaci\xf3n de cuenta - Compa\xf1\xeda")))),l.a.createElement("div",{className:"formSectionHolder"},l.a.createElement("div",{className:"formTitleHolder"},l.a.createElement("p",null,l.a.createElement("b",null,"Informaci\xf3n General:"))),l.a.createElement("div",{className:"formInputsHolder"},l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Nombre del negocio"),l.a.createElement(N.a,{className:"input-field",type:"text",name:"businessName"}),a.businessName&&n.businessName?l.a.createElement("p",{className:"form-error"},a.businessName):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Identificador Fiscal"),l.a.createElement(N.a,{className:"input-field",type:"text",name:"taxID"}),a.taxID&&n.taxID?l.a.createElement("p",{className:"form-error"},a.taxID):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Sector"),l.a.createElement(N.a,{className:"input-field",type:"text",name:"sector"}),a.sector&&n.sector?l.a.createElement("p",{className:"form-error"},a.sector):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Pa\xeds"),l.a.createElement(N.a,{className:"select-field",component:"select",name:"country"},de.countries.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)}))),a.country&&n.country?l.a.createElement("p",{className:"form-error"},a.country):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"P\xfablica/Privada"),l.a.createElement(N.a,{className:"select-field",component:"select",name:"ownership"},de.ownership.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)}))),a.ownership&&n.ownership?l.a.createElement("p",{className:"form-error"},a.ownership):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"A\xf1os de operaci\xf3n"),l.a.createElement(N.a,{className:"input-field",type:"number",name:"activeYears"}),a.activeYears&&n.activeYears?l.a.createElement("p",{className:"form-error"},a.activeYears):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Cantidad de empleados"),l.a.createElement(N.a,{className:"input-field",type:"number",name:"employeeAmount"}),a.employeeAmount&&n.employeeAmount?l.a.createElement("p",{className:"form-error"},a.employeeAmount):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Pagina Web"),l.a.createElement(N.a,{className:"input-field",type:"text",name:"website"}),a.website&&n.website?l.a.createElement("p",{className:"form-error"},a.website):null))),l.a.createElement("div",{className:"formSectionHolder"},l.a.createElement("div",{className:"formTitleHolder"},l.a.createElement("p",null,l.a.createElement("b",null,"Datos de Contacto:"))),l.a.createElement("div",{className:"formInputsHolder"},l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Persona Contacto")," ",l.a.createElement(N.a,{className:"input-field",type:"text",name:"contactEmployee"}),a.contactEmployee&&n.contactEmployee?l.a.createElement("p",{className:"form-error"},a.contactEmployee):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"N\xfamero Telef\xf3nico")," ",l.a.createElement(N.a,{className:"input-field",type:"text",name:"phoneNumber"}),a.phoneNumber&&n.phoneNumber?l.a.createElement("p",{className:"form-error"},a.phoneNumber):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Email"),l.a.createElement(N.a,{className:"input-field",type:"email",name:"email"}),a.email&&n.email?l.a.createElement("p",{className:"form-error"},a.email):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Direcci\xf3n"),l.a.createElement(N.a,{className:"input-field",type:"text",name:"address"}),a.address&&n.address?l.a.createElement("p",{className:"form-error"},a.address):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Ciudad"),l.a.createElement(N.a,{className:"input-field",type:"text",name:"city"}),a.city&&n.city?l.a.createElement("p",{className:"form-error"},a.city):null))),l.a.createElement("div",{className:"formSectionHolder"},l.a.createElement("div",{className:"formTitleHolder"}),l.a.createElement("div",{className:"formOptionsHolder"},t?t.success?l.a.createElement("div",{className:"form-response success"},"Compa\xf1ia registrada exitosamente"):l.a.createElement("div",{className:"form-response failure"},"Compa\xf1ia no pudo ser registrada con exito, intente nuevamente!"):"",l.a.createElement("div",null,l.a.createElement("button",{disabled:r,type:"submit",className:"btn btn-info"},"Enviar"))))))})),De=t(99),Pe=t(129),xe=t(365),Te=t(381),we=t.n(Te);t(665);var Ae=function(e){var a=e.country;return l.a.createElement("span",{role:"img","aria-label":"country-flag"},"DOMINICAN_REPUBLIC"===a?l.a.createElement("i",{className:"em em-flag-do"}):"VENEZUELA"===a?l.a.createElement("i",{className:"em em-flag-ve"}):"PERU"===a?l.a.createElement("i",{className:"em em-flag-pe"}):"USA"===a?l.a.createElement("i",{className:"em em-flag-us"}):"")};var je=Object(w.a)((function(e){return{root:{width:1e3,marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}}))((function(e){var a=e.classes,t=e.data,n=e.onChange,c=e.bulkPayment;return l.a.createElement(Pe.a,{className:a.root},l.a.createElement("table",{className:a.table,id:"table-to-xls"},l.a.createElement("thead",{className:"table-header"},l.a.createElement("tr",null,l.a.createElement("th",{className:"header header-name"},"CLIENTE"),l.a.createElement("th",{className:"header header-company"},"COMPA\xd1\xcdA"),l.a.createElement("th",{className:"header header-loan-number"},"#"),l.a.createElement("th",{className:"header header-capital"},"PRESTAMO"),l.a.createElement("th",{className:"header header-remaining"},"X REPAGAR"),l.a.createElement("th",{className:"header header-payment"},"CUOTA"),l.a.createElement("th",{className:"header header-date"},"FECHA"))),l.a.createElement("tbody",{className:"table-body"},t.length>0?t.map((function(e,a){var t=we()(e.loans).groupBy("_id").size(),r=Object(De.a)(Array(t).keys());return t>1?r.map((function(a,r){return 0===r?l.a.createElement("tr",{className:"ser-item-holder",key:e.loans[r]?e.loans[r]._id:r},l.a.createElement("td",{className:"ser-name-country"},l.a.createElement(Ae,{country:e.country}),l.a.createElement("h4",{className:"ser-client"},l.a.createElement(b.a,{to:"/admin/client/".concat(e._id)},e.firstName+" "+e.lastName))),l.a.createElement("td",{className:"ser-businessName"},l.a.createElement("p",null,e.businessName?e.businessName:"")),l.a.createElement("td",{className:"ser-loanAmount"},l.a.createElement("p",null,t)),l.a.createElement("td",{className:"ser-loan-detail loan-amount"},e.loans[r]?l.a.createElement(b.a,{to:"/admin/loan/".concat(e.loans[r]._id)},e.loans[r].capital.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})):""),l.a.createElement("td",{className:"ser-loan-detail"},e.loans[r]?e.loans[r].capitalRemaining.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""),l.a.createElement("td",{className:"ser-loan-detail"},e.loans[r]?l.a.createElement(l.a.Fragment,null,l.a.createElement(xe.a,{className:"pure-material-checkbox",type:"checkbox",name:e.loans[r].nextPayment._id,value:JSON.stringify({_loan:e.loans[r]._id,client:e.firstName+" "+e.lastName,payment:e.loans[r].nextPayment.interest+e.loans[r].nextPayment.principal,date:ie()(e.loans[r].nextPayment.date).format("YYYY-MM-DD")}),checked:c._id,onChange:function(e){return n(e)}}),(e.loans[r].nextPayment.interest+e.loans[r].nextPayment.principal).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})):""),l.a.createElement("td",{className:"ser-loan-detail"},ie()(e.loans[r].nextPayment.date).format("YYYY-MM-DD"))):l.a.createElement("tr",{className:"ser-item-holder"},l.a.createElement("td",{className:"ser-name-country"},""),l.a.createElement("td",{className:"ser-businessName"},""),l.a.createElement("td",{className:"ser-loanAmount"},""),l.a.createElement("td",{className:"ser-loan-detail loan-amount"},l.a.createElement(b.a,{to:"/admin/loan/".concat(e.loans[r]._id)},e.loans[r].capital.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}))),l.a.createElement("td",{className:"ser-loan-detail"},e.loans[r]?e.loans[r].capitalRemaining.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""),l.a.createElement("td",{className:"ser-loan-detail"},e.loans[r]?l.a.createElement(l.a.Fragment,null,l.a.createElement(xe.a,{className:"pure-material-checkbox",type:"checkbox",name:e.loans[r].nextPayment._id,value:JSON.stringify({_loan:e.loans[r]._id,client:e.firstName+" "+e.lastName,payment:e.loans[r].nextPayment.interest+e.loans[r].nextPayment.principal,date:ie()(e.loans[r].nextPayment.date).format("YYYY-MM-DD")}),checked:c._id,onChange:function(e){return n(e)}}),(e.loans[r].nextPayment.interest+e.loans[r].nextPayment.principal).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})):""),l.a.createElement("td",{className:"ser-loan-detail"},e.loans[r]?ie()(e.loans[r].nextPayment.date).format("YYYY-MM-DD"):""))})):l.a.createElement("tr",{className:"ser-item-holder",key:e.loans[0]?e.loans[0]._id:a},l.a.createElement("td",{className:"ser-name-country"},l.a.createElement(Ae,{country:e.country}),l.a.createElement("h4",{className:"ser-client"},l.a.createElement(b.a,{to:"/admin/client/".concat(e._id)},e.firstName+" "+e.lastName))),l.a.createElement("td",{className:"ser-businessName"},l.a.createElement("p",null,e.businessName?e.businessName:"")),l.a.createElement("td",{className:"ser-loanAmount"},l.a.createElement("p",null,t)),l.a.createElement("td",{className:"ser-loan-detail loan-amount"},e.loans[0]?l.a.createElement(b.a,{to:"/admin/loan/".concat(e.loans[0]._id)},e.loans[0].capital.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})):""),l.a.createElement("td",{className:"ser-loan-detail"},e.loans[0]?e.loans[0].capitalRemaining.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""),l.a.createElement("td",{className:"ser-loan-detail"},e.loans[0]?l.a.createElement(l.a.Fragment,null,l.a.createElement(xe.a,{className:"pure-material-checkbox",type:"checkbox",name:e.loans[0].nextPayment._id,value:JSON.stringify({_loan:e.loans[0]._id,client:e.firstName+" "+e.lastName,payment:e.loans[0].nextPayment.interest+e.loans[0].nextPayment.principal,date:ie()(e.loans[0].nextPayment.date).format("YYYY-MM-DD")}),checked:c._id,onChange:function(e){return n(e)}}),(e.loans[0].nextPayment.interest+e.loans[0].nextPayment.principal).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})):""),l.a.createElement("td",{className:"ser-loan-detail"},e.loans[0]?ie()(e.loans[0].nextPayment.date).format("YYYY-MM-DD"):""))})):"")))})),Le=t(199),ke=t.n(Le),Fe=t(382),Re=t.n(Fe),_e=t(257),Me=t.n(_e),Ue=(t(338),t(383)),Be=t(188),Ye=t(392),Ge=t(801),We=t(802),He=t(798),Ve=t(252),ze=t(312),qe=t(328),$e=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={clients:[],getClients:!1,bulkPayment:[],cashAccount:null,paymentDate:null},t.service=new be,t.paymentService=new z,t.handleChange=function(e){var a,n=e.target,l=n.name,c=n.value;""===c?t.setState({getClients:!1,clients:[]}):t.setState((a={},Object(g.a)(a,l,c),Object(g.a)(a,"getClients",!0),a))},t.handleSelect=function(e){var a=e.target,n=a.name,l=a.value;t.setState(Object(g.a)({},n,l))},t.handleClickOpen=function(){t.setState({open:!0})},t.handleClose=function(){t.setState({open:!1})},t.handleSubmit=function(){var e=t.state,a=e.bulkPayment,n=e.paymentDate,l=e.cashAccount;t.paymentService.newBulkPayment({bulkPayment:a,paymentDate:n,cashAccount:l}).then((function(e){"success"===e.status&&(t.setState({open:!1,cashAccount:null,paymentDate:null,bulkPayment:[],paymentStatus:"success"}),t.fetchClients(t.state.clientName))})).catch((function(e){t.setState({open:!1,cashAccount:null,paymentDate:null,bulkPayment:[],paymentStatus:"failure"})}))},t.toggleChange=function(e){var a=e.target,n=a.name,l=a.value,c=a.checked,r=JSON.parse(l),s=n;if(c)t.setState({bulkPayment:[].concat(Object(De.a)(t.state.bulkPayment),[{_loanSchedule:s,_loan:r._loan,amount:Object(Ue.rounder)(r.payment),client:r.client,date:r.date}])});else{var i=t.state.bulkPayment,o=i.findIndex((function(e){return e._loanSchedule===s}));o>-1&&i.splice(o,1),t.setState({bulkPayment:i})}},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidUpdate",value:function(){var e=Me.a.parse(this.props.location.search);this.state.getClients&&void 0!==e.clientName&&this.fetchClients(e.clientName)}},{key:"componentDidMount",value:function(){var e=Me.a.parse(this.props.location.search);void 0!==e.clientName&&(this.setState({getClients:!0,clientName:e.clientName}),this.fetchClients(e.clientName))}},{key:"fetchClients",value:function(e){var a=this;this.service.getClients(this.props.userLocation,e).then((function(e){a.setState({getClients:!1,clients:e})})).catch((function(e){a.setState({clients:!1,getClients:!1})}))}},{key:"onKeyPress",value:function(e){13===e.which&&(this.props.history.push({pathname:"/admin/client/list",search:"?"+new URLSearchParams({clientName:this.state.inputValue}).toString()}),this.setState({getClients:!0}),this.fetchClients(this.state.inputValue))}},{key:"render",value:function(){var e=this,a=this.state,t=a.clients,n=a.bulkPayment,c=a.clientName,r=a.open,s=a.cashAccount,i=a.paymentDate,o=a.paymentStatus;return l.a.createElement("div",{className:"content"},"success"===o?l.a.createElement("div",{class:"alert alert-success alert-dismissible"},l.a.createElement("button",{href:"#",class:"close","data-dismiss":"alert","aria-label":"close"},"\xd7"),l.a.createElement("strong",null,"Exito!")," El pago se ha procesado correctamente."):"failure"===o?l.a.createElement("div",{class:"alert alert-success alert-dismissible"},l.a.createElement("button",{href:"#",class:"close","data-dismiss":"alert","aria-label":"close"},"\xd7"),l.a.createElement("strong",null,"Fallo!")," La operaci\xf3n no se ha procesado correctamente"):"",l.a.createElement(Pe.a,{className:"root"},l.a.createElement(Be.a,{className:"iconButton",disabled:!0,"aria-label":"menu"},l.a.createElement("i",{className:"material-icons"},"account_circle")),l.a.createElement(Ye.a,{className:"input",placeholder:"Buscar cliente",name:"inputValue",onKeyDown:function(a){return e.onKeyPress(a)},onChange:function(a){return e.handleChange(a)},inputProps:{"aria-label":"buscar cliente"}}),l.a.createElement(Be.a,{disabled:!0,className:"iconButton","aria-label":"search"},l.a.createElement(ke.a,null)),l.a.createElement(Ge.a,{className:"divider",orientation:"vertical"}),l.a.createElement(Be.a,{color:"secondary",className:"iconButton","aria-label":"directions"},l.a.createElement("i",{className:"material-icons"},l.a.createElement(b.a,{to:"/admin/client/create"},"create")))),l.a.createElement(P.a,{className:"button-client-search",variant:"contained"},l.a.createElement(Re.a,{id:"test-table-xls-button",className:"download-table-xls-button",table:"table-to-xls",filename:c?"".concat(c," - ").concat(new Date):"resultados-busqueda-".concat(new Date),sheet:"tablexls",buttonText:"DESCARGAR"})),l.a.createElement(We.a,{color:"primary",badgeContent:n.length},l.a.createElement(P.a,{onClick:function(){return e.handleClickOpen()},className:"button-client-search",variant:"contained"},"PAGOS")),l.a.createElement(He.a,{onClose:function(){return e.handleClose()},open:r},l.a.createElement(Pe.a,{className:"payment-modal"},l.a.createElement("h6",null,"LISTADO DE PAGOS POR PROCESAR"),l.a.createElement(C.a,{className:"input-date-cash",required:!0},l.a.createElement(I.a,{htmlFor:"filled-age-simple"},"Cuenta"),l.a.createElement(Ve.a,{value:s,name:"cashAccount",type:"string",label:"Cuenta",onChange:function(a){return e.handleSelect(a)},InputLabelProps:{shrink:!0}},l.a.createElement(ze.a,{value:""},l.a.createElement("em",null,"None")),de.accounts.map((function(e){return l.a.createElement(ze.a,{value:e},e)}))),l.a.createElement(qe.a,{id:"date",name:"paymentDate",label:"Fecha de Pago",type:"date",value:i,className:"paymentDate",onChange:function(a){return e.handleSelect(a)},InputLabelProps:{shrink:!0}})),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"table-client head"},"Cliente"),l.a.createElement("th",{className:"table-date"},"Fecha"),l.a.createElement("th",{className:"table-amount"},"Monto"))),l.a.createElement("tbody",null,n.length>0?n.map((function(e,a){return l.a.createElement("tr",null,l.a.createElement("td",{className:"content"},"".concat(a+1,".- ").concat(e.client)),l.a.createElement("td",{className:"date"},e.date),l.a.createElement("td",{className:"table-amount"},Z()(e.amount).format({thousandSeparated:!0,mantissa:2})))})):"",l.a.createElement("tr",null,l.a.createElement("td",{className:"table-client totals head"},"Total"),l.a.createElement("td",{className:"table-client totals head"}),l.a.createElement("td",{className:"table-amount totals"},n.length>0?Z()(n.reduce((function(e,a){return e+a.amount}),0)).format({thousandSeparated:!0,mantissa:2}):"")))),l.a.createElement(P.a,{onClick:function(){return e.handleClose()},className:"button-client-search",variant:"contained"},"CANCELAR"),l.a.createElement(P.a,{onClick:function(){return e.handleSubmit()},className:"button-client-search",variant:"contained"},"PROCESAR"))),t.length>0?l.a.createElement(je,{data:t,onChange:this.toggleChange,bulkPayment:n}):"")}}]),a}(n.Component),Xe=Object(E.a)($e),Ze=t(815),Je=t(799);t(235);function Ke(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Qe(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Ke(t,!0).forEach((function(a){Object(g.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ke(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var ea=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleChange=function(e){var a=e.target,n=a.name,l=a.value;t.setState({details:Qe({},t.state.details,Object(g.a)({},n,l))})},t.handleSubmit=function(){var e=t.state.details,a=e._id;t.service.updateAccount(a,e).then((function(e){"updated"===e.status?t.props.closeModal("updated"):t.props.closeModal("failed")})).catch((function(e){return t.props.closeModal("failed")}))},t.state={details:e.details},t.service=new be,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props.classes,t=this.state.details;return l.a.createElement("div",{className:"modal-holder"},l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Personal"))),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(qe.a,{label:"Nombres legales *",value:t.firstName,name:"firstName",type:"text",className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}}),l.a.createElement(qe.a,{label:"Apellidos legales",name:"lastName",type:"text",value:t.lastName,className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}}),l.a.createElement(qe.a,{id:"email",name:"email",label:"Email",value:t.email,type:"text",className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}}),l.a.createElement(qe.a,{id:"date",name:"DOB",label:"Fecha de Nacimiento",value:ie()(t.DOB).format("YYYY-MM-DD"),type:"date",className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}}),l.a.createElement(qe.a,{name:"cellphoneNumber",label:"N\xfamero de Tel\xe9fono",value:t.cellphoneNumber,type:"text",onChange:function(a){return e.handleChange(a)},className:a.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(qe.a,{name:"nationalId",label:"Documento de Identidad",type:"text",value:t.nationalId,onChange:function(a){return e.handleChange(a)},className:a.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(qe.a,{name:"nationalIdType",label:"Tipo de Documento",select:!0,type:"text",value:t.nationalIdType,onChange:function(a){return e.handleChange(a)},className:a.textField,InputLabelProps:{shrink:!0},margin:"normal"},de.nationalIdType.map((function(e){return l.a.createElement(ze.a,{key:e.value,value:e.value},e.label)}))),l.a.createElement(qe.a,{name:"personalReference",label:"Referencia personal",type:"text",value:t.personalReference,onChange:function(a){return e.handleChange(a)},className:a.textField,InputLabelProps:{shrink:!0},margin:"normal"})),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Direcci\xf3n Personal"))),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(qe.a,{select:!0,name:"country",label:"Pa\xeds",type:"text",value:t.country,className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}},de.countries.map((function(e){return l.a.createElement(ze.a,{key:e.value,value:e.value},e.label)}))),l.a.createElement(qe.a,{name:"city",label:"Ciudad",type:"text",value:t.city,className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}}),l.a.createElement(qe.a,{name:"address",label:"Direcci\xf3n",type:"text",value:t.address,className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}}),l.a.createElement(qe.a,{name:"zipCode",label:"C\xf3digo Postal",type:"text",value:t.zipCode,className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}})),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Laboral"))),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(qe.a,{name:"businessName",label:"Empresa",type:"text",value:t.businessName||"",className:a.textField,onChange:function(a){return e.handleChange(a)},InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(qe.a,{name:"businessPhoneNumber",label:"Numero de Telefono",type:"text",value:t.businessPhoneNumber,className:a.textField,onChange:function(a){return e.handleChange(a)},InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(qe.a,{name:"businessAddress",label:"Direcci\xf3n",type:"text",value:t.businessAddress,className:a.textField,onChange:function(a){return e.handleChange(a)},InputLabelProps:{shrink:!0},margin:"normal"})),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Financiera"))),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(qe.a,{name:"bank",label:"Banco",type:"text",value:t.bank,className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}}),l.a.createElement(qe.a,{name:"accountNumber",label:"Numero de cuenta",type:"text",value:t.accountNumber,className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}}),l.a.createElement(qe.a,{name:"monthlyIncome",label:"Ingresos",type:"number",value:t.monthlyIncome,className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}})),l.a.createElement("div",{className:"edit-form-submit"},l.a.createElement("button",{onClick:function(){return e.handleSubmit()},className:"btn btn-info"},"Editar Detalles")))}}]),a}(n.Component),aa=Object(w.a)((function(e){return{name:{width:440},citizenInfo:{width:300},container:{display:"flex",flexWrap:"wrap"},textField:{minWidth:225},formControl:{margin:e.spacing.unit}}}))(ea),ta=t(391);function na(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function la(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?na(t,!0).forEach((function(a){Object(g.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):na(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var ca=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleChange=function(e){var a=e.target.name,n=e.target.files[0];t.setState({details:la({},t.state.details,Object(g.a)({},a,n))})},t.handleSubmit=function(){var e=t.state.details,a=e._id,n=e.documentIncomeOrPayslip;t.service.updateDocumentIncome(a,n).then((function(e){"updated"===e.status?t.props.closeModal("updated"):t.props.closeModal("failed")})).catch((function(e){return t.props.closeModal("failed")}))},t.state={details:e.details},t.service=new be,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"modal-holder"},l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Certificaci\xf3n de Ingresos o N\xf3mina"))),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement("label",{className:"btn"},l.a.createElement("input",{type:"file",name:"documentIncomeOrPayslip",className:"",placeholder:"Certificaci\xf3n de Ingresos o Nomina",onChange:function(a){return e.handleChange(a)}}))),l.a.createElement("div",{className:"edit-form-submit"},l.a.createElement("button",{onClick:function(){return e.handleSubmit()},className:"btn btn-info"},"Enviar Documento")))}}]),a}(n.Component),ra=Object(w.a)((function(e){return{name:{width:440},citizenInfo:{width:300},container:{display:"flex",flexWrap:"wrap"},textField:{minWidth:225},formControl:{margin:e.spacing.unit}}}))(ca);function sa(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function ia(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?sa(t,!0).forEach((function(a){Object(g.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):sa(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var oa=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleChange=function(e){var a=e.target.name,n=e.target.files[0];t.setState({details:ia({},t.state.details,Object(g.a)({},a,n))})},t.handleSubmit=function(){var e=t.state.details,a=e._id,n=e.documentID;t.service.updateDocumentID(a,n).then((function(e){"updated"===e.status?t.props.closeModal("updated"):t.props.closeModal("failed")})).catch((function(e){return t.props.closeModal("failed")}))},t.state={details:e.details},t.service=new be,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"modal-holder"},l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Documentos"))),l.a.createElement("div",{className:"form-inputs-holder"},"Documento de Identidad",l.a.createElement("label",{className:"btn"},l.a.createElement("input",{type:"file",name:"documentID",className:"",placeholder:"documentID",onChange:function(a){return e.handleChange(a)}}))),l.a.createElement("div",{className:"edit-form-submit"},l.a.createElement("button",{onClick:function(){return e.handleSubmit()},className:"btn btn-info"},"Editar Documentos")))}}]),a}(n.Component),ma=Object(w.a)((function(e){return{name:{width:440},citizenInfo:{width:300},container:{display:"flex",flexWrap:"wrap"},textField:{minWidth:225},formControl:{margin:e.spacing.unit}}}))(oa);function ua(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var da=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).componentDidMount=function(){var e=t.props.match.params.clientId;t.service.getClient(e).then((function(e){t.setState({client:e})}))},t.capitalize=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},t.handleOpen=function(){t.setState({open:!0})},t.handleClose=function(e){var a=t.props.match.params.clientId;t.setState({open:!1,openDocID:!1,openDocInc:!1,editStatus:e}),"updated"===e&&t.service.getClient(a).then((function(e){t.setState({client:e})}))},t.handleOpen=function(){t.setState({open:!0})},t.handleOpenDocID=function(){t.setState({openDocID:!0})},t.handleOpenDocInc=function(){t.setState({openDocInc:!0})},t.state=de.initialState,t.service=new be,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state.client,a=this.props.classes;return l.a.createElement("div",{className:"main-holder"},l.a.createElement("div",{className:"borrower-profile"},"updated"===this.state.editStatus?l.a.createElement("div",{className:"alert alert-success",role:"alert"},"Operaci\xf3n realizada exitosamente!"):"failed"===this.state.editStatus?l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"La operaci\xf3n a fallado."):"",l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Personal"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Primer y segundo nombre legal *"),l.a.createElement("p",{className:"content-details"},e.firstName)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Apellidos legales *"),l.a.createElement("p",{className:"content-details"},e.lastName)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Fecha de nacimiento"),l.a.createElement("p",{className:"content-details"},ie()(e.DOB).format("DD/MM/YY"))),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Documento de Identidad"),l.a.createElement("p",{className:"content-details"},e.nationalId)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Tipo de Documento"),l.a.createElement("p",{className:"content-details"},e.nationalIdType)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Tel\xe9fono"),l.a.createElement("p",{className:"content-details"},e.cellphoneNumber)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Email"),l.a.createElement("p",{className:"content-details"},e.email)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Referencia personal"),l.a.createElement("p",{className:"content-details"},e.personalReference))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Direcci\xf3n personal"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Pa\xeds"),l.a.createElement("p",{className:"content-details"},this.capitalize(e.country))),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Ciudad"),l.a.createElement("p",{className:"content-details"},this.capitalize(e.city))),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Direcci\xf3n"),l.a.createElement("p",{className:"content-details"},e.address)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"C\xf3digo postal"),l.a.createElement("p",{className:"content-details"},e.zipCode))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Laboral"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Empresa"),l.a.createElement("p",{className:"content-details"},e.businessName)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Direcci\xf3n"),l.a.createElement("p",{className:"content-details"},e.businessAddress)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Numero de Telefono"),l.a.createElement("p",{className:"content-details"},e.businessPhoneNumber))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Financiera"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Banco"),l.a.createElement("p",{className:"content-details"},e.bank)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"N\xfamero de cuenta"),l.a.createElement("p",{className:"content-details"},e.accountNumber)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Ingresos"),l.a.createElement("p",{className:"content-details"},e.monthlyIncome))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Documentaci\xf3n"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},l.a.createElement(P.a,{variant:"outlined",onClick:this.handleOpenDocID,className:a.buttonDocID},"Documento de Identidad"),l.a.createElement(ta.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openDocID,onClose:this.handleClose},l.a.createElement("div",{style:ua(),className:a.paper},l.a.createElement(ma,{details:e,closeModal:this.handleClose})))),l.a.createElement("p",{className:"content-details"},e.documentID&&l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.documentID},"Visualiza tu Identicaci\xf3n"))),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},l.a.createElement(P.a,{variant:"outlined",onClick:this.handleOpenDocID,className:a.buttonDocID},"N\xf3mina o Certificaci\xf3n de Ingresos"),l.a.createElement(ta.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openDocInc,onClose:this.handleClose},l.a.createElement("div",{style:ua(),className:a.paper},l.a.createElement(ra,{details:e,closeModal:this.handleClose})))),l.a.createElement("p",{className:"content-details"},e.documentIncomeOrPayslip&&l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.documentIncomeOrPayslip},"Visualiza tu documento")))),l.a.createElement("div",{className:"profile-actions"},l.a.createElement(P.a,{variant:"outlined",onClick:this.handleOpen,className:a.button},"Editar perfil"),l.a.createElement(ta.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.handleClose},l.a.createElement("div",{style:ua(),className:a.paper},l.a.createElement(aa,{details:e,closeModal:this.handleClose}))))))}}]),a}(n.Component),pa=Object(w.a)((function(e){return{button:{fontSize:12,margin:0,fontWeight:600,textDecoration:"none",textTransform:"none",borderRadius:2,color:"rgb(145, 145, 145)"},name:{width:440},citizenInfo:{width:300},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:330},formControl:{margin:e.spacing.unit},paper:{position:"absolute",maxWidth:1e3,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none",maxHeight:"100%",overflowY:"auto"}}}))(Object(E.a)(da)),Ea=t(803),ha=t(98),va=t.n(ha);t(339);function fa(e){var a=e.data,t=e.clientId;return l.a.createElement("div",{className:"main-holder"},l.a.createElement("div",{className:"client-loan-summary-head"},l.a.createElement("div",{className:"detail-summary first"},l.a.createElement("p",{className:"title fc"}," PRESTAMO "))," ",l.a.createElement("div",{className:"detail-summary pct"},l.a.createElement("p",{className:"title"}," INICIO ")," "),l.a.createElement("div",{className:"detail-summary pct"},l.a.createElement("p",{className:"title"}," TASA ")," "),l.a.createElement("div",{className:"detail-summary pct"},l.a.createElement("p",{className:"title"}," DURACI\xd3N ")," "),l.a.createElement("div",{className:"detail-summary pct"},l.a.createElement("p",{className:"title"}," CUOTA ")," "),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"}," AMORTIZADO ")," "),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"}," POR PAGAR ")," "),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"}," STATUS ")," "),l.a.createElement("div",{className:"detail-summary last"},l.a.createElement("p",{className:"title"}))),a.loans?a.loans.map((function(e,a){var t=e.capital/e.duration,n=e.interest/100*e.capital;return l.a.createElement("div",{key:a,className:"client-loan-summary"},l.a.createElement("div",{className:"detail-summary first"},l.a.createElement("p",{className:"acc-total fc"},"$ ",parseFloat(e.capital).toLocaleString(void 0,{maximumFractionDigits:2})," ")," "),l.a.createElement("div",{className:"detail-summary pct"},l.a.createElement("p",{className:"acc-total"}," ",ie()(e.startDate).format("YY-MM-DD")," ")," "),l.a.createElement("div",{className:"detail-summary pct"},l.a.createElement("p",{className:"acc-total"}," ",parseFloat(e.interest)," % ")," "),l.a.createElement("div",{className:"detail-summary pct"},l.a.createElement("p",{className:"acc-total"}," ",parseFloat(e.duration)," ")," "),l.a.createElement("div",{className:"detail-summary pct"},l.a.createElement("p",{className:"acc-total"},"$ ",(n+t).toLocaleString(void 0,{maximumFractionDigits:2})," ")," "),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-total"},"$ ",e.totalPaid.toLocaleString(void 0,{maximumFractionDigits:2})," ")," "),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-total"},"$ ",(e.capital-e.totalPaid).toLocaleString(void 0,{maximumFractionDigits:2})," ")," "),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-total"}," ","CLOSED"===e.status?"CERRADO":"ABIERTO"," ")," ")," ",l.a.createElement("div",{className:"detail-summary last"},l.a.createElement(b.a,{to:"/admin/loan/".concat(e._id)},l.a.createElement("i",{className:"material-icons info"}," info ")," ")))})):""," ",l.a.createElement("div",{className:"client-loan-summary create"},l.a.createElement("div",{className:"detail-summary first"},l.a.createElement(b.a,{to:"/admin/create-loan/".concat(t)},l.a.createElement(Ea.a,{size:"small",color:"secondary","aria-label":"Add"},l.a.createElement(va.a,null))))))}function ga(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var Na=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).componentDidMount=function(){var e=t.props.match.params.clientId;t.service.getClient(e).then((function(e){t.setState({client:e})}))},t.handleTabChange=function(e,a){t.setState({value:a})},t.handleOpen=function(){t.setState({open:!0})},t.handleClose=function(e){var a=t.props.match.params.clientId;t.setState({open:!1,editStatus:e}),"updated"===e&&t.service.getClient(a).then((function(e){t.setState({client:e})}))},t.state=function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ga(t,!0).forEach((function(a){Object(g.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ga(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},de.initialState,{value:0}),t.service=new be,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state,a=e.client,t=e.value,n=this.props.classes;return l.a.createElement("div",{className:"main-holder"},l.a.createElement("div",{className:"client-header"},l.a.createElement("div",{className:"client-fullname"},a.firstName?(a.firstName+" "+a.lastName).toUpperCase():"Loading...")),l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"loan-content-holder"},l.a.createElement("div",{className:n.root},l.a.createElement(Ze.a,{value:t,onChange:this.handleTabChange,classes:{root:n.tabsRoot,indicator:n.tabsIndicator}},l.a.createElement(Je.a,{disableRipple:!0,classes:{root:n.tabRoot,selected:n.tabSelected},label:"PRESTAMOS"}),l.a.createElement(Je.a,{disableRipple:!0,classes:{root:n.tabRoot,selected:n.tabSelected},label:"DETALLES"}))),0===t&&l.a.createElement(fa,{data:a,clientId:a._id}),1===t&&l.a.createElement(pa,null))))}}]),a}(n.Component),ba=Object(w.a)((function(e){return{tabsIndicator:{backgroundColor:"#1890ff"},tabRoot:{textTransform:"initial",fontSize:"0.8rem",minWidth:72,fontWeight:500,marginRight:4*e.spacing.unit,"&:hover":{color:"#40a9ff",opacity:1,outline:"none"},"&$tabSelected":{color:"#1890ff",fontWeight:600,outline:"none"},"&:focus":{color:"#40a9ff",outline:"none"}},tabSelected:{}}}))(Object(E.a)(Na));function ya(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}t(72).config();var Oa=function e(){var a=this;Object(s.a)(this,e),this.createInvestor=function(e,t,n,l){return a.service.post("/",{firstName:e,lastName:t,location:n,investor:l}).then((function(e){return e.data}))},this.getInvestors=function(){return a.service.get("/list").then((function(e){return e.data}))},this.getInvestorInvestments=function(e){return a.service.get("/investments/".concat(e)).then((function(e){return e.data}))},this.getCashDetails=function(e){return a.service.get("/cash-details/".concat(e)).then((function(e){return e.data}))},this.getInvestmentDetails=function(e){return a.service.get("/investment-details/".concat(e)).then((function(e){return e.data}))},this.getPLDetails=function(e){return a.service.get("/pl/".concat(e)).then((function(e){return e.data}))},this.getCashMovements=function(e){return a.service.get("/cash-movements/".concat(e)).then((function(e){return e.data}))},this.getInvestorOptions=function(e){return a.service.get("/detail/investmentStatus/".concat(e)).then((function(e){return e.data}))},this.getInvestmentsSummary=function(e){return a.service.get("/investment-summary/".concat(e)).then((function(e){return e.data}))},this.toggleInvestorAutoInvest=function(e){return a.service.post("/detail/investmentStatus/".concat(e)).then((function(e){return e.data}))},this.getInvestorFees=function(e){return a.service.get("/management-fee/".concat(e)).then((function(e){return e.data}))},this.addInvestorFees=function(e){return a.service.post("/management-fee",e).then((function(e){return e.data}))},this.deleteInvestorFees=function(e){return a.service.delete("/management-fee/".concat(e)).then((function(e){return e.data}))},this.changeInvestorType=function(e){return a.service.put("/type",function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ya(t,!0).forEach((function(a){Object(g.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ya(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},e)).then((function(e){return e.data}))},this.service=v.a.create({baseURL:"".concat("https://ribo-cap-staging.herokuapp.com","/api/investor"),withCredentials:!0,headers:{"Content-Type":"application/json"}})},Sa=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var a=t.state.firstName,n=t.state.lastName,l=t.state.location;t.service.createInvestor(a,n,l,!0).then((function(e){t.setState({firstName:"",lastName:"",location:"",investor:!0})})).catch((function(e){t.setState({error:e})}))},t.handleChange=function(e){var a=e.target,n=a.name,l=a.value;t.setState(Object(g.a)({},n,l))},t.state={firstName:"",lastName:"",location:"PERU",investo:!0},t.service=new Oa,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"content"},l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{for:"name"},"Nombre:"),l.a.createElement("input",{type:"text",className:"form-control",name:"firstName",value:this.state.firstName,onChange:function(a){return e.handleChange(a)}})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{for:"lastName"},"Apellido:"),l.a.createElement("input",{type:"text",className:"form-control",name:"lastName",value:this.state.lastName,onChange:function(a){return e.handleChange(a)}})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{for:"location"},"Region:"),l.a.createElement("select",{className:"form-control",name:"location",value:this.state.location,onChange:function(a){return e.handleChange(a)}},l.a.createElement("option",{value:"PERU"},"Peru"),l.a.createElement("option",{value:"USA"},"USA"),l.a.createElement("option",{value:"DOMINICAN_REPUBLIC"},"Rep\xfablica Dominicana")))),l.a.createElement("button",{type:"submit",className:"btn btn-info"},"Crear Cuenta de Inversi\xf3n")))}}]),a}(n.Component),Ca=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var a=t.state._investor,n=t.state.cashAccount,l=t.state.concept,c=t.state.txDate,r=t.state.txAmount,s=t.state.comment,i=0,o=0;"WITHDRAWAL"===l||"COST"===l||"INSURANCE_COST"===l?(i=0,o=r):(i=r,o=0),t.TransactionService.transactionInvestor(a,n,l,i,o,c,s).then((function(e){t.setState({_investor:"",cashAccount:"",concept:"",date:null,amount:0,comment:""})})).catch((function(e){t.setState({error:e})}))},t.handleChange=function(e){var a=e.target,n=a.name,l=a.value;t.setState(Object(g.a)({},n,l))},t.state={_investor:"",cashAccount:"",concept:"",debit:0,credit:0},t.TransactionService=new re,t.InvestorService=new Oa,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"fetchInvestors",value:function(){var e=this;this.state.investors||this.InvestorService.getInvestors().then((function(a){"peru"===e.props.location.toLowerCase()&&(a=a.filter((function(e){return"peru"===e.location.toLowerCase()}))),e.setState({investors:a})})).catch((function(a){e.setState({clients:!1})}))}},{key:"render",value:function(){var e=this;this.fetchInvestors();var a=["RBPERU","GCUS","GFUS","GCDR"];return l.a.createElement("div",{className:"content"},l.a.createElement("h2",{className:"display-6"},"Nueva Transacci\xf3n:"),l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6",id:"account_holder"},l.a.createElement("label",null,"Inversionista:"),l.a.createElement("select",{className:"form-control",name:"_investor",id:"investor",value:this.state._investor,onChange:function(a){return e.handleChange(a)}},l.a.createElement("option",null,"Seleccionar Inversionista"),this.state.investors?this.state.investors.map((function(e){return l.a.createElement("option",{key:e._id,value:e._id},e.location+" - "+e.firstName+" "+e.lastName)})):"")),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Numero de Cuenta:"),l.a.createElement("select",{className:"form-control",name:"cashAccount",id:"cashAccount",value:this.state.cashAccount,onChange:function(a){return e.handleChange(a)}},l.a.createElement("option",null,"Cuenta de efectivo:"),a?a.map((function(e,a){return l.a.createElement("option",{key:a,value:e},e)})):"")),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Fecha:"),l.a.createElement("input",{className:"form-control",type:"date",step:"any",name:"txDate",value:this.state.txDate,onChange:function(a){return e.handleChange(a)}})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Concepto:"),l.a.createElement("select",{className:"form-control",name:"concept",id:"concept",value:this.state.concept,onChange:function(a){return e.handleChange(a)}},l.a.createElement("option",null,"Seleccionar concepto"),l.a.createElement("option",{value:"DEPOSIT"},"Deposito"),l.a.createElement("option",{value:"WITHDRAWAL"},"Retiro"),l.a.createElement("option",{value:"COST"},"Costo"),l.a.createElement("option",{value:"INSURANCE_COST"},"Seguro"))),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Cantidad:"),l.a.createElement("input",{className:"form-control",type:"number",step:"any",name:"txAmount",value:this.state.txAmount,onChange:function(a){return e.handleChange(a)}})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Comentario:"),l.a.createElement("input",{className:"form-control",type:"string",step:"any",name:"comment",value:this.state.comment,onChange:function(a){return e.handleChange(a)}})),l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"btn btn-info",id:"submit_button"},"Insertar Transacci\xf3n")))))}}]),a}(n.Component);t(676);var Ia=function(e){var a=e.data,t=0;return l.a.createElement("div",{className:"personal-transactions-holder"},l.a.createElement("div",{className:"loan-schedule-head "},l.a.createElement("div",{className:"detail-schedule head-date"},l.a.createElement("p",{className:"title-date"},"FECHA")),l.a.createElement("div",{className:"detail-schedule head-name"},l.a.createElement("p",{className:"title-date"},"CLIENTE")),l.a.createElement("div",{className:"detail-schedule head-concept"},l.a.createElement("p",{className:"title-date"},"CONCEPTO")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"DEBITO")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"CREDITO")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"SALDO")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"CUENTA")),l.a.createElement("div",{className:"detail-schedule last head-comment"},l.a.createElement("p",{className:"title"},"COMENTARIO"))),a.map((function(e,a){return t+=e.debit-e.credit,l.a.createElement("div",{key:a,className:"loan-schedule-content"},l.a.createElement("div",{className:"detail-schedule details-date"},l.a.createElement("p",{className:"acc-date"},ie()(e.date).format("YYYY-MM-DD"))),l.a.createElement("div",{className:"detail-schedule details-name"},l.a.createElement("p",{className:"acc-date"},"INSURANCE_PREMIUM"===e.concept?"PRIMA":e._loan?e._loan._borrower.firstName+" "+e._loan._borrower.lastName:"PERSONAL")),l.a.createElement("div",{className:"detail-schedule details-concept"},l.a.createElement("p",{className:"acc-date"},e.concept)),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.debit.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.credit.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},t.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.cashAccount)),l.a.createElement("div",{className:"detail-schedule details-comment"},l.a.createElement("p",null,e.comment)))})))},Da=t(334),Pa=t(804),xa=t(816),Ta=t(821),wa=t(758),Aa=(t(340),t(329)),ja=function(e){var a=e.feeReceivers,t=e.newPct,n=e.newManager,c=e.handleNewFee,r=e.saveNewFee;return l.a.createElement("div",{className:"modal-fee"},l.a.createElement("h1",{className:"modal-title"},"AGREGAR NUEVO GESTOR"),l.a.createElement(C.a,{className:"fee-input-form"},l.a.createElement("div",null,l.a.createElement(qe.a,{select:!0,label:"Gestor",className:"management",name:"newManager",value:n,onChange:function(e){return c(e)}},a?a.map((function(e,a){return l.a.createElement(ze.a,{value:e._id,key:a},e.firstName+" "+e.lastName+" - "+e.location)})):"")),l.a.createElement("div",null,l.a.createElement(qe.a,{className:"fee",label:"Porcentaje",value:t||null,onChange:function(e){return c(e)},name:"newPct",type:"number",InputProps:{startAdornment:l.a.createElement(Aa.a,{position:"start"},"%")}})),l.a.createElement(P.a,{disabled:!t||!n,variant:"contained",color:"primary",className:"button-save",onClick:function(){return r()}},"Agregar")))},La=function(){var e=Object(n.useState)(!1),a=Object(H.a)(e,2),t=a[0],l=a[1];return{isShowing:t,toggle:function(){l(!t)}}},ka=function(e){var a=La(),t=a.isShowing,n=a.toggle,c=e.investorFees,r=e.investorType,s=e.isAutoInvesting,i=e.toggleAutoInvest,o=e.changeInvestorType,m=e.feeReceivers,u=e.handleNewFee,d=e.newPct,p=e.newManager,E=e.saveNewFee,h=e.deleteFee;return l.a.createElement("div",{className:"account-options"},l.a.createElement("div",{className:"investment-options"},l.a.createElement("div",{className:"option-holder"},l.a.createElement(C.a,{component:"fieldset"},l.a.createElement(wa.a,{component:"legend"},"Auto Invertir Fondos"),l.a.createElement("div",{className:"toggle-holder"},l.a.createElement("p",{className:"detail-on"},"Off"),l.a.createElement(Pa.a,{className:"toggle",checked:s,inputProps:{"aria-label":"secondary checkbox"},onChange:function(){return i()},value:"checkedA"}),l.a.createElement("p",{className:"detail-off"},"On")))),l.a.createElement("div",{className:"option-holder"},l.a.createElement(C.a,{component:"fieldset"},l.a.createElement(wa.a,{component:"legend"},"Tipo de Inversionista"),l.a.createElement(Ta.a,{"aria-label":"Tipo de Inversionista",name:"investorType",value:r,onChange:function(e){return o(e)}},l.a.createElement(Da.a,{className:"selection",value:"FIXED_INTEREST",control:l.a.createElement(xa.a,null),label:"Fijo"}),l.a.createElement(Da.a,{className:"selection",value:"VARIABLE_INTEREST",control:l.a.createElement(xa.a,null),label:"Variable"}))))),l.a.createElement("div",{className:"option-holder"},l.a.createElement(C.a,{component:"fieldset"},l.a.createElement(wa.a,{component:"legend"},"Esquema de Fees de Gesti\xf3n"),c?c.map((function(e,a){return l.a.createElement("div",{key:a,className:"fee-scheme line"},l.a.createElement("div",{className:"mg-accounts"},e._managementAccount.firstName+" "+e._managementAccount.lastName),l.a.createElement("div",{className:"mg-fee"},Z()(e.pct).format({output:"percent",mantissa:2})),l.a.createElement("div",{className:"mg-icon",onClick:function(){return h(e._id)}},l.a.createElement("i",{className:"material-icons"},"delete")))})):"",l.a.createElement(Ea.a,{className:"line",size:"small",color:"primary","aria-label":"add"},l.a.createElement(va.a,{onClick:n})))),l.a.createElement(ta.a,{open:t,onClose:n,style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement(ja,{feeReceivers:m,handleNewFee:u,newPct:d,newManager:p,saveNewFee:E})))},Fa=function(e){var a=e.summary,t=a.cashAvailable,n=a.cashAccounts,c=a.paidBackCapital,r=a.totalInvestments,s=a.divestments,i=a.interestReceived,o=a.feeIncome,m=a.feeExpenses,u=a.totalCosts,d=a.totalDeposits,p=a.totalWithdrawals;return l.a.createElement("div",{className:"investment-acc-summary"},l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"DISPONIBLE"),l.a.createElement("p",{className:"total"},"$ ",t.toLocaleString(void 0,{maximumFractionDigits:2})),n.length>0?n.map((function(e,a){return l.a.createElement("div",{key:a},l.a.createElement("p",{className:"acc-title"},e.cashAccount),l.a.createElement("p",{className:"acc-total"},e.total.toLocaleString(void 0,{maximumFractionDigits:2}))," ")})):""),l.a.createElement("div",{className:"detail-summary center"},l.a.createElement("p",{className:"title"},"INVERSIONES"),l.a.createElement("p",{className:"total"},"$",(r-c-s).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"REPAGADO"),l.a.createElement("p",{className:"acc-total"},"$",c.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"HISTORICO INVERTIDO"),l.a.createElement("p",{className:"acc-total"},"$",r.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"VENTAS"),l.a.createElement("p",{className:"acc-total"},"$",s.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-summary center"},l.a.createElement("p",{className:"title"},"UTILIDAD"),l.a.createElement("p",{className:"total"},"$",(i+o-m-u).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"INTERESES"),l.a.createElement("p",{className:"acc-total"},"$+",i.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"FEE NETO"),l.a.createElement("p",{className:"acc-total"},"$",(o-m).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"COST"),l.a.createElement("p",{className:"acc-total"},"$-",u.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"DEPOSITOS"),l.a.createElement("p",{className:"total"},"$",d.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"RETIROS"),l.a.createElement("p",{className:"acc-total"},"$",p.toLocaleString(void 0,{maximumFractionDigits:2}))))};t(677);var Ra=function(e){var a=e.investments;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"personal-inv-summary-holder"},l.a.createElement("div",{className:"loan-schedule-head "},l.a.createElement("div",{className:"detail-schedule head-date"},l.a.createElement("p",{className:"title-date"},"FECHA")),l.a.createElement("div",{className:"detail-schedule head-name"},l.a.createElement("p",{className:"title-date"},"PRESTAMO")),l.a.createElement("div",{className:"detail-schedule head-concept"},l.a.createElement("p",{className:"title"},"MONTO")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"%")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"TOTAL")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"VENTA")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"CAPITAL")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"INGRESO")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"ESTATUS"))),Array.isArray(a)?a.map((function(e,a){return l.a.createElement("div",{key:a,className:"loan-schedule-content"},l.a.createElement("div",{className:"detail-schedule details-date"},l.a.createElement("p",{className:"acc-date"},ie()(e.startDate).format("YYYY-MM-DD"))),l.a.createElement("div",{className:"detail-schedule details-name"},l.a.createElement("p",{className:"acc-date"},l.a.createElement(b.a,{className:"acc-date",to:"/admin/loan/".concat(e._loan)},e.firstName+" "+e.lastName))),l.a.createElement("div",{className:"detail-schedule details-concept"},l.a.createElement("p",{className:"acc-total"},Z()(e.investment/e.pct).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},parseFloat(100*e.pct).toFixed(2)+"%")),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},Z()(e.investment).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},Z()(e.divestment).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},Z()(e.capital).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},Z()(e.interest+e.feeIncome-e.feeExpenses+e.commissionIncome+e.managementFeeIncome-e.commissionExpense-e.managementFeeExpense).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},"OPEN"===e.status?"ACTIVO":"CERRADO")))})):""))};t(678);var _a=function(e){var a=e.loanDetails;return l.a.createElement("div",{className:"personal-loan-holder"},l.a.createElement("div",{className:"loan-schedule-head "},l.a.createElement("div",{className:"detail-schedule head-name"},l.a.createElement("p",{className:"title-date"},"NOMBRE")),l.a.createElement("div",{className:"detail-schedule last head-pct"},l.a.createElement("p",{className:"title"},"%")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"INVERSION")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"INTERESES")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"CAPITAL")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"INGRESO (F)")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"EGRESO (F)")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"INGRESO "))),a?a.map((function(e,a){return l.a.createElement("div",{key:a,className:"loan-schedule-content"},l.a.createElement("div",{className:"detail-schedule details-name"},l.a.createElement("p",{className:"acc-date"},e.name," ")),l.a.createElement("div",{className:"detail-schedule details-pct"},l.a.createElement("p",{className:"acc-total"},Z()(e.ownership).format({output:"percent",mantissa:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.investment.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.interest.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.capital.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.feeIncome.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.feeExpense.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},(e.interest+e.feeIncome-e.feeExpense).toLocaleString(void 0,{maximumFractionDigits:2}))))})):"")},Ma=(t(679),t(680),function(e){var a=e.investors,t=e._investor,n=e.handleChange;return l.a.createElement(Pe.a,{className:"select-bar"},l.a.createElement(Be.a,{className:"iconButton",disabled:!0,"aria-label":"menu"},l.a.createElement("i",{className:"material-icons"},"account_circle")),l.a.createElement(C.a,{variant:"standard",className:"formControl"},l.a.createElement(Ve.a,{value:t||"Seleccione un inversionista",onChange:function(e){return n(e)},className:"menu-item",inputProps:{name:"_investor",id:"outlined-age-simple"}},a?a.map((function(e){return l.a.createElement(b.a,{to:"/admin/investor/details/".concat(e._id),key:e._id,value:e._id},l.a.createElement(ze.a,{className:"menu-item",value:e._id},l.a.createElement(Ae,{country:e.location})," "+e.firstName+" "+e.lastName))})):"")),l.a.createElement(Be.a,{disabled:!0,className:"iconButton","aria-label":"search"},l.a.createElement(ke.a,null)),l.a.createElement(Ge.a,{className:"divider",orientation:"vertical"}),l.a.createElement(Be.a,{color:"secondary",className:"iconButton","aria-label":"directions"},l.a.createElement("i",{className:"material-icons"},l.a.createElement(b.a,{to:"/admin/investor/create"},"create"))))});function Ua(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Ba(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Ua(t,!0).forEach((function(a){Object(g.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ua(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var Ya={summary:{totalDeposits:0,totalWithdrawals:0,cashAvailable:0,debitTotal:0,totalInvestments:0,divestments:0,creditTotal:0,cashAccounts:[],paidBackCapital:0,interestReceived:0,feeExpenses:0,totalCosts:0,feeIncome:0},getDetails:!1,getInvestor:!1,loanDetails:null,fetchInvestors:!0,transactions:[],investments:[],display:!1,newManager:"",value:0},Ga=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleTabChange=function(e,a){var n=t.props.investorId;t.setState({value:a}),1===a&&t.InvestorService.getInvestmentsSummary(n).then((function(e){t.setState({investments:e})}))},t.investorDetails=function(){var e=Object(U.a)(M.a.mark((function e(a){var n,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState(Ba({},Ya,{_investor:a})),t.fetchInvestor(a),e.next=4,t.TransactionService.getTransactions(a);case 4:return n=e.sent,e.next=7,t.TransactionService.getLoanInvestorDetails(a);case 7:return l=e.sent,e.abrupt("return",Promise.all([l,n]).then((function(e){return t.setState({display:!0,transactions:e[1],loanDetails:e[0],getDetails:!1}),e})).catch((function(e){t.setState({error:e})})));case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),t.fetchInvestor=function(e){t.setState({display:!0}),t.state.getCashDetails||t.InvestorService.getCashDetails(e).then((function(e){t.setState({summary:Ba({},t.state.summary,{},e),getCashDetails:!1})})),t.state.getInvestmentOptions||t.InvestorService.getInvestorOptions(e).then((function(e){t.setState(Ba({},t.state,{isAutoInvesting:e.isAutoInvesting,investorType:e.investorType,getInvestmentOptions:!1}))})),t.state.getInvestmentFees||t.InvestorService.getInvestorFees(e).then((function(e){t.setState(Ba({},t.state,{investorFees:e.data,getInvestmentFees:!1}))})),t.state.getInvestmentDetails||t.InvestorService.getInvestmentDetails(e).then((function(e){t.setState({summary:Ba({},t.state.summary,{},e),getInvestmentDetails:!1})})),t.state.getPLDetails||t.InvestorService.getPLDetails(e).then((function(e){t.setState({summary:Ba({},t.state.summary,{},e),getPLDetails:!1})})),t.state.getCashMovements||t.InvestorService.getCashMovements(e).then((function(e){t.setState({summary:Ba({},t.state.summary,{},e),getCashMovements:!1})}))},t.changeInvestorType=function(e){var a=e.target.value,n={investorId:t.state._investor,investorType:a};t.InvestorService.changeInvestorType(n).then((function(e){console.log(e),"success"===e.status?t.setState({investorType:e.data.investorType}):t.setState({investorType:t.state.investorType})}))},t.toggleAutoInvest=function(){var e=t.state._investor;t.InvestorService.toggleInvestorAutoInvest(e).then((function(e){console.log(e),"success"===e.status?t.setState({isAutoInvesting:e.isAutoInvesting}):t.setState({isAutoInvesting:t.state.isAutoInvesting})}))},t.handleChange=function(e){var a,n=e.target,l=n.name,c=n.value;t.setState((a={},Object(g.a)(a,l,c),Object(g.a)(a,"getDetails",!0),Object(g.a)(a,"getInvestor",!0),a))},t.handleNewFee=function(e){var a=e.target,n=a.name,l=a.value;"newPct"===n?(console.log(l),l>100?t.setState({newPct:100}):l<0?t.setState({newPct:0}):t.setState({newPct:l})):t.setState(Object(g.a)({},n,l))},t.saveNewFee=function(){var e=t.state,a=e.newPct,n=e.newManager,l=e._investor,c={investorId:l,managementAccountId:n,pct:a/=100};return t.InvestorService.addInvestorFees(c).then(function(){var e=Object(U.a)(M.a.mark((function e(a){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("success"!==a.status){e.next=7;break}return e.next=3,t.InvestorService.getInvestorFees(l);case 3:n=e.sent,t.setState({investorFees:n.data,newPct:0,newManager:null}),e.next=7;break;case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())},t.deleteFee=function(e){var a=t.state._investor;t.InvestorService.deleteInvestorFees(e).then(function(){var e=Object(U.a)(M.a.mark((function e(n){var l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("success"!==n.status){e.next=7;break}return e.next=3,t.InvestorService.getInvestorFees(a);case 3:l=e.sent,t.setState({investorFees:l.data}),e.next=7;break;case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())},t.state=Ya,t.TransactionService=new re,t.InvestorService=new Oa,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidUpdate",value:function(){var e=this.props.investorId,a=this.state,t=a.getDetails,n=a.getInvestor;e&&t&&n&&(this.investorDetails(e),this.fetchInvestor(e))}},{key:"componentDidMount",value:function(){var e=this,a=this.props.investorId;a&&this.setState({getDetails:!0,getInvestor:!0,_investor:a}),this.state.fetchInvestors&&this.InvestorService.getInvestors().then(function(){var a=Object(U.a)(M.a.mark((function a(t){var n,l;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return"peru"===e.props.location.toLowerCase()&&(t=t.filter((function(e){return"peru"===e.location.toLowerCase()}))),a.next=3,t.sort((function(e,a){return e.lastName.localeCompare(a.lastName)}));case 3:return n=a.sent,a.next=6,n.sort((function(e,a){return e.location.localeCompare(a.location)}));case 6:l=a.sent,e.setState({investors:l,fetchInvestors:!1});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(a){e.setState({error:a})}))}},{key:"render",value:function(){var e=this.props,a=e.classes,t=e.investorId,n=this.state,c=n.transactions,r=n.investments,s=n.loanDetails,i=n.display,o=n.value,m=n.summary,u=n.isAutoInvesting,d=n.investorFees,p=n.investorType,E=n.newPct,h=n.newManager,v=n.investors;return l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"form-row"},l.a.createElement(Ma,{investors:v,_investor:t,handleChange:this.handleChange})),i&&l.a.createElement("div",null,l.a.createElement(Fa,{summary:m}),l.a.createElement("div",null,l.a.createElement("div",{className:"loan-content-holder"},l.a.createElement("div",{className:a.root},l.a.createElement(Ze.a,{value:o,onChange:this.handleTabChange,classes:{root:a.tabsRoot,indicator:a.tabsIndicator}},l.a.createElement(Je.a,{disableRipple:!0,classes:{root:a.tabRoot,selected:a.tabSelected},label:"DETALLES"}),l.a.createElement(Je.a,{disableRipple:!0,classes:{root:a.tabRoot,selected:a.tabSelected},label:"INVERSIONES"}),l.a.createElement(Je.a,{disableRipple:!0,classes:{root:a.tabRoot,selected:a.tabSelected},label:"MOVIMIENTOS"}),l.a.createElement(Je.a,{disableRipple:!0,classes:{root:a.tabRoot,selected:a.tabSelected},label:"OPCIONES"}))),0===o&&l.a.createElement(_a,{loanDetails:s}),1===o&&l.a.createElement(Ra,{investments:r}),2===o&&l.a.createElement(Ia,{data:c}),3===o&&l.a.createElement(ka,{feeReceivers:this.state.investors,changeInvestorType:this.changeInvestorType,toggleAutoInvest:this.toggleAutoInvest,investorFees:d,investorType:p,isAutoInvesting:u,handleNewFee:this.handleNewFee,newPct:E,newManager:h,saveNewFee:this.saveNewFee,deleteFee:this.deleteFee})))))}}]),a}(n.Component),Wa=Object(w.a)((function(e){return{root:{flexGrow:1,display:"flex",flexWrap:"wrap"},tabsIndicator:{backgroundColor:"#1890ff"},tabRoot:{textTransform:"initial",minWidth:72,fontWeight:500,marginRight:e.spacing(4),"&:hover":{color:"#40a9ff",opacity:1,outline:"none"},"&$tabSelected":{color:"#1890ff",fontWeight:600,outline:"none"},"&:focus":{color:"#40a9ff",outline:"none"}},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},tabSelected:{}}}))(Ga),Ha=[{value:"vehicle",text:"Vehiculo"},{value:"motorcycle",text:"Moto"},{value:"personal",text:"Personal"},{value:"capitalGoods",text:"Bienes de Capital"},{value:"vehicleWithInsurance",text:"Vehiculo con seguro"},{value:"motorcycleWithInsurance",text:"Moto con seguro"},{value:"personalWithInsurance",text:"Personal con seguro"},{value:"capitalGoodsWithInsurance",text:"Bienes de Capital con Seguro"},{value:"payroll",text:"Nomina"},{value:"workingCapital",text:"Capital Trabajo"},{value:"refinancing",text:"Refinanciamiento"},{value:"debtConsolidation",text:"Consolidaci\xf3n de Deuda"},{value:"factoring",text:"Factoring"},{value:"creditLine",text:"Linea de credito"}],Va=["vehicleWithInsurance","motorcycleWithInsurance","personalWithInsurance","capitalGoodsWithInsurance"];var za=function(e){var a=e.details,t=a.useOfFunds,n=a.currency,c=a.insurancePremium;return l.a.createElement("div",{className:"form-row general-loan-details"},l.a.createElement("div",{className:"card col-md-12"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},"Datos b\xe1sicos"),l.a.createElement("div",{className:"form-row col-md-12"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Uso de los fondos"),l.a.createElement("select",{id:"loan_type",className:"form-control",name:"useOfFunds",value:t,onChange:function(a){return e.handleChange(a)},required:!0},Ha.map((function(e){return l.a.createElement("option",{value:e.value},e.text)})))),l.a.createElement("div",{className:"form-group col-md-3 col-sm-3"},l.a.createElement("label",null,"Monto de la prima"),l.a.createElement("input",{id:"loan_type",className:"form-control",name:"insurancePremium",value:c,type:"number",onChange:function(a){return e.handleChange(a)},required:-1!==Va.indexOf(t),disabled:-1===Va.indexOf(t)})),l.a.createElement("div",{className:"form-group col-md-3 col-sm-3"},l.a.createElement("label",null,"Moneda"),l.a.createElement("select",{id:"loan_type",className:"form-control",name:"currency",value:n,onChange:function(a){return e.handleChange(a)},required:!0},l.a.createElement("option",{value:"USD"},"USD"),l.a.createElement("option",{value:"DOP"},"DOP"),l.a.createElement("option",{value:"PEN"},"PEN")))))))};var qa=function(e){var a=e.loanDetails,t=e.investmentEqCapital;return l.a.createElement("div",{className:"form-row general-loan-details"},l.a.createElement("div",{className:"card col-md-12"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},"Detalles del prestamo"),l.a.createElement("div",{className:"form-row col-md-12"},l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Esquema:"),l.a.createElement("select",{id:"loan_type",className:"form-control",name:"loanType",value:a.loanType,onChange:function(a){return e.handleLoanDetailsChange(a)},required:!0},l.a.createElement("option",{value:"linear"},"Pagos Iguales"),l.a.createElement("option",{value:"linearIntFirst"},"Interest + Pagos Iguales"),l.a.createElement("option",{value:"monday"},"Dia de pago lunes"),l.a.createElement("option",{value:"payDay"},"Dia de pago"),l.a.createElement("option",{value:"lumpSum"},"Final PMTs + Interest + No Amort"),l.a.createElement("option",{value:"factoring"},"Factoring"),l.a.createElement("option",{value:"amort"},"Amortizado"),l.a.createElement("option",{value:"amort2"},"Amortizado (Customizado)"))),"factoring"===a.loanType?l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"D\xedas"),l.a.createElement("input",{type:"number",className:"form-control",id:"days",name:"days",value:a.days,onChange:function(a){return e.handleLoanDetailsChange(a)},required:!0})):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form-group col-md-3 col-sm-3"},l.a.createElement("label",null,"Frequencia:"),l.a.createElement("select",{id:"loan_type",className:"form-control",name:"period",value:a.period,onChange:function(a){return e.handleLoanDetailsChange(a)},required:!0},l.a.createElement("option",{defaultValue:"monthly"},"Mensual"),l.a.createElement("option",{value:"biWeekly"},"Bisemanal"),l.a.createElement("option",{value:"payDay"},"Quincenal"),l.a.createElement("option",{value:"weekly"},"Semanal"))),l.a.createElement("div",{className:"form-group col-md-3 col-sm-3"},l.a.createElement("label",null,"Periodos de solo interes :"),l.a.createElement("input",{type:"number",className:"form-control",id:"startAmortPeriod",name:"startAmortPeriod",value:a.startAmortPeriod,onChange:function(a){return e.handleLoanDetailsChange(a)},disabled:"amort2"!==a.loanType})))),l.a.createElement("div",{className:"form-row col-md-12"},l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Fecha de Inicio"),l.a.createElement("input",{type:"date",className:"form-control",id:"startDate",name:"startDate",value:a.startDate,onChange:function(a){return e.handleLoanDetailsChange(a)},required:!0})),l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Fecha de Pago"),l.a.createElement("input",{type:"date",className:"form-control",id:"paymentDate",name:"paymentDate",min:a.startDate?a.startDate:null,value:a.paymentDate,onChange:function(a){return e.handleLoanDetailsChange(a)},required:!0}))),l.a.createElement("div",{className:"form-row col-md-12"},l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Principal:"),l.a.createElement("input",{className:"form-control",type:"number",step:"any",id:"capital",name:"capital",value:a.capital,onChange:function(a){return e.handleLoanDetailsChange(a)},required:!0})),l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Desembolso:"),l.a.createElement("input",{className:"form-control",type:"number",disabled:!!t,step:"any",id:"investedCapital",name:"investedCapital",value:a.investedCapital,onChange:function(a){return e.handleLoanDetailsChange(a)},required:!0})),l.a.createElement("div",{class:"form-group col-md-12"},l.a.createElement("div",{class:"form-check"},l.a.createElement("input",{class:"form-check-input",type:"checkbox",id:"gridCheck",onChange:function(a){return e.toggleInvestmentEqCapital(a)},checked:t}),l.a.createElement("label",{class:"form-check-label",for:"gridCheck"},"Capital igual a desembolso")))),l.a.createElement("div",{className:"form-row col-md-12 col-sm-6"},"factoring"!==a.loanType?l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Cuotas:"),l.a.createElement("input",{className:"form-control",type:"number",step:"any",id:"duration",name:"duration",value:a.duration,onChange:function(a){return e.handleLoanDetailsChange(a)},required:!0})):"",l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Tasa de Interes (M):"),l.a.createElement("input",{className:"form-control",type:"number",step:"any",id:"interest",name:"interest",value:a.interest,onChange:function(a){return e.handleLoanDetailsChange(a)},required:!0}))))))};function $a(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Xa(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?$a(t,!0).forEach((function(a){Object(g.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$a(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var Za=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).componentDidMount=function(){var e=t.props.match.params.clientId;t.ClientService.getClient(e).then((function(a){return t.setState({_id:e,country:a.country}),a.country})).then((function(e){t.fetchAccountsTotals(e)}))},t.handleFormSubmit=function(e){e.preventDefault();var a=t.state._id,n=t.state.insurancePremium,l=t.state.currency,c=t.state.collateralType,r=t.state.collateralValue,s=t.state.collateralDescription,i=t.state.loanDetails,o=t.state.useOfFunds,m=t.state.investors,u=t.state.country;t.state.autoInvest?t.LoanService.createLoanAllActive(a,n,c,r,s,i,o,l,u).then((function(e){"success"===e.status?t.props.history.push("/admin/loan/".concat(e.message._id)):t.setState({error:!0,message:e.response.data.message})})).catch((function(e){t.setState({error:!0,message:e.response.data.message})})):t.LoanService.createLoan(a,n,c,r,s,i,o,m,l).then((function(e){e._id?t.props.history.push("/admin/loan/".concat(e._id)):console.log(e)})).catch((function(e){t.setState({error:!0,message:e.response.data.message})}))},t.handleLoanDetailsChange=function(e){var a=e.target,n=a.name,l=a.value,c=a.type;console.log(n,l),t.state.investmentEqCapital&&"capital"===n?(console.log("aqui"),t.setState((function(e){var a;return Xa({},e,{loanDetails:Xa({},e.loanDetails,(a={},Object(g.a)(a,n,"number"===c?parseFloat(l):l),Object(g.a)(a,"investedCapital","number"===c?parseFloat(l):l),a)),openPaymentDate:!1})}))):t.setState((function(e){return Xa({},e,{loanDetails:Xa({},e.loanDetails,Object(g.a)({},n,"number"===c?parseFloat(l):l)),openPaymentDate:!1})}))},t.handleChange=function(e){var a=e.target,n=a.name,l=a.value,c=a.type;"insurancePremium"===n?t.setState(Object(g.a)({},n,parseFloat(l))):t.setState(Object(g.a)({},n,"number"===c?parseFloat(l):l))},t.toggleInvestmentEqCapital=function(){t.setState({investmentEqCapital:!t.state.investmentEqCapital,loanDetails:Xa({},t.state.loanDetails,{investedCapital:t.state.loanDetails.capital})})},t.handleAutoInvest=function(){t.setState({autoInvest:!t.state.autoInvest})},t.handleOpen=function(){t.setState({open:!0})},t.handleClose=function(){t.setState({open:!1})},t.handleSelectedInvestor=function(e){var a,n=e.target,l=n.name,c=n.value,r=c.split(","),s=t.state.accounts.findIndex((function(e){return e.investor[0]._id===r[0]&&e.cashAccount===r[1]}));t.setState((a={},Object(g.a)(a,l,c),Object(g.a)(a,"investorIndex",s),Object(g.a)(a,"openInvestmentOption",!0),Object(g.a)(a,"investorFullName",t.state.accounts[s].investor[0].firstName+" "+t.state.accounts[s].investor[0].lastName),Object(g.a)(a,"investorCashAvailable",parseFloat(t.state.accounts[s].accumTotal)),Object(g.a)(a,"investorCashRemaining",parseFloat(t.state.accounts[s].accumTotal)),Object(g.a)(a,"cashAccount",t.state.accounts[s].cashAccount),a))},t.handleInvestment=function(e){var a,n=e.target.name,l=parseFloat(e.target.value),c=isNaN(l)?0:l,r=t.state.investorIndex,s=parseFloat(t.state.accounts[r].accumTotal)-c,i=c/parseFloat(t.state.loanDetails.capital);i=isNaN(i)?0:i,t.setState((a={},Object(g.a)(a,n,c),Object(g.a)(a,"investorCashRemaining",s),Object(g.a)(a,"pct",i),a))},t.handleNewInvestor=function(){var e=t.state.investor.split(","),a=t.state.investorFullName,n=parseFloat(t.state.investmentAmount),l=t.state.pct,c=t.state.cashAccount;t.setState({openInvestmentOption:!1,investors:[].concat(Object(De.a)(t.state.investors),[{_investor:e[0],investorFullName:a,amount:n,pct:l,cashAccount:c}]),investor:"",investorCashAvailable:0,pct:0,investmentAmount:0})},t.deleteInvestor=function(e){var a=t.state.investors;a.splice(e,1),t.setState({investors:a})},t.state=de.loanInitialState,t.ClientService=new be,t.TransactionService=new re,t.LoanService=new ce,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"fetchAccountsTotals",value:function(e){var a=this;this.state.accounts||this.TransactionService.getInvestorsAvailability(e).then((function(e){a.setState({accounts:e})})).catch((function(e){a.setState({accounts:!1})}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.loanDetails,n=a.open,c=a.loanSchedule,r=a.investmentEqCapital;return l.a.createElement("div",{className:"content"},l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement(za,{details:this.state,handleChange:this.handleChange}),l.a.createElement(qa,{loanDetails:t,handleLoanDetailsChange:this.handleLoanDetailsChange,openPaymentDate:this.state.openPaymentDate,open:n,handleClose:this.handleClose,loanSchedule:c,investmentEqCapital:r,toggleInvestmentEqCapital:this.toggleInvestmentEqCapital}),l.a.createElement("div",{className:"form-row  general-loan-details"},l.a.createElement("div",{className:"card col-md-12"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},"Inversionista"),l.a.createElement(Da.a,{control:l.a.createElement(Pa.a,{checked:this.state.autoInvest,onChange:function(){return e.handleAutoInvest()},value:"checkedA"}),label:"AutoInvest"}),this.state.autoInvest?l.a.createElement("p",null,"Los inversionistas se selecctionar\xe1n de acuerdo a su disponibilidad"):l.a.createElement("div",{className:"form-row col-md-12 ",id:"participants"},l.a.createElement("div",{className:"form-group col-md-6",id:"investor-0"},l.a.createElement("label",null,"Cuenta Inversionista:"),l.a.createElement("select",{className:"form-control",name:"investor",value:this.state.investor,onChange:function(a){return e.handleSelectedInvestor(a)}},l.a.createElement("option",null,"Seleccionar Cuenta"),this.state.accounts?this.state.accounts.map((function(e,a){return l.a.createElement("option",{key:a,value:[e.investor[0]._id,e.cashAccount]},e.cashAccount+" - "+e.investor[0].firstName+" "+e.investor[0].lastName)})):"")),l.a.createElement("div",{className:"form-group col-md-6",id:"investor-0"},l.a.createElement("label",null,"Cuenta de efectivo:"),l.a.createElement("input",{disabled:!0,className:"form-control",type:"text",step:"any",name:"cashAccount",value:this.state.cashAccount||void 0}))),this.state.openInvestmentOption?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form-row col-md-12 ",id:"participants"},l.a.createElement("div",{className:"form-group col-md-3"},l.a.createElement("label",null,"Inversion:"),l.a.createElement("input",{className:"form-control",type:"number",step:"any",name:"investmentAmount",max:this.state.investorCashAvailable,value:this.state.investmentAmount||null,onChange:function(a){return e.handleInvestment(a)}})),l.a.createElement("div",{className:"form-group col-md-3"},l.a.createElement("label",null,"Disponible:"),l.a.createElement("input",{disabled:!0,className:"form-control",type:"text",step:"any",name:"availableCash",value:this.state.investorCashAvailable})),l.a.createElement("div",{className:"form-group col-md-3"},l.a.createElement("label",null,"Restante:"),l.a.createElement("input",{disabled:!0,className:"form-control",type:"text",step:"any",name:"availableCash",value:this.state.investorCashRemaining})),l.a.createElement("div",{className:"form-group col-md-3"},l.a.createElement("label",null,"Porcentage:"),l.a.createElement("input",{disabled:!0,className:"form-control",type:"text",step:"any",name:"pct",value:this.state.pct}))),l.a.createElement("div",{className:"add_inv col-md-12 form-group align-bottom"},l.a.createElement("button",{type:"button",className:"btn btn-success align-bottom",onClick:function(){return e.handleNewInvestor()}},"Agregar Inversionista"))):"",this.state.investors.length>=1?l.a.createElement("div",{className:"card-body table-holder"},l.a.createElement("table",{className:"table investors"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Inversionista"),l.a.createElement("th",{scope:"col"},"Efectivo"),l.a.createElement("th",{scope:"col"},"Monto"),l.a.createElement("th",{scope:"col"},"Porcentaje"),l.a.createElement("th",{scope:"col"},"Acci\xf3n"))),l.a.createElement("tbody",null,this.state.investors.length>0?this.state.investors.map((function(a,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,a.investorFullName),l.a.createElement("td",null,a.cashAccount),l.a.createElement("td",null,a.amount),l.a.createElement("td",null,a.pct),l.a.createElement("td",null,l.a.createElement("button",{type:"button",className:"btn btn-warning",onClick:function(a){return e.deleteInvestor(a)}},"X")))})):l.a.createElement("tr",null,l.a.createElement("td",null,"Agregue Inversionista"))))):""))),l.a.createElement("div",{className:"form-row general-loan-details"},l.a.createElement("div",{className:"card col-md-12"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"btn btn-info",id:"submit_button"},"Crear"),this.state.error?l.a.createElement("div",{className:"error"},this.state.message):""))))))}}]),a}(n.Component),Ja=Object(E.a)(Za),Ka=function(e){var a=e.cashAccounts;return l.a.createElement("div",{className:"sectionHolder"},l.a.createElement("h2",{className:"titleFin"},"Disponibilidad de efectivo"),l.a.createElement("div",{className:"cashAccountsHolder"},a?a.map((function(e,a){return l.a.createElement("div",{className:"cashHolder",key:a},l.a.createElement("p",{className:"accountTotal"},e.total.toLocaleString(void 0,{minimunFractionDigits:2,maximumFractionDigits:2})),l.a.createElement("p",{className:"accountName"},l.a.createElement(b.a,{to:"/admin/cash-account/".concat(e.cashAccount)},e.cashAccount)))})):""))},Qa=function(e){var a=e.cashflow;return l.a.createElement("div",{className:"sectionHolder"},l.a.createElement("h2",{className:"titleFin"},"Flujo de efectivo - 12 meses"),l.a.createElement("div",{className:"cashflowHolder"},a?a.map((function(e,t){var n=Object.keys(e);return l.a.createElement("div",{className:"countryCashflow",key:t},l.a.createElement("div",{className:"countryTitle"},l.a.createElement(Ae,{country:n[0]}),"  "+a[t][n][0].currency),l.a.createElement("div",{className:"cashHolder"},l.a.createElement("p",{className:"accountTotal"},"Fecha"),l.a.createElement("p",{className:"accountTotal"},"Interes"),l.a.createElement("p",{className:"accountTotal"},"Capital"),l.a.createElement("p",{className:"accountTotal"},"Total")),a[t][n].map((function(e,a){return l.a.createElement("div",{className:"cashHolder",key:a},l.a.createElement("p",{className:"accountTotal"},ie()("".concat(e.year,"/").concat(e.month,"/01")).format("MMM-YY")),l.a.createElement("p",{className:"accountTotal"},Z()(e.interest).format({average:!0,mantissa:2})),l.a.createElement("p",{className:"accountTotal"},Z()(e.principal).format({average:!0,mantissa:2})),l.a.createElement("p",{className:"accountTotal"},Z()(e.principal+e.interest).format({average:!0,mantissa:2})))})))})):""))},et=function(e){var a=e.stats;return console.log(a),l.a.createElement("div",{className:"sectionHolder"},l.a.createElement("h2",{className:"titleFin"},"Cartera"),l.a.createElement("div",{className:"countryStatHolder"},a?a.map((function(e,a){return l.a.createElement("div",{className:"countryStats",key:a},l.a.createElement("div",{className:"countryTitle"},l.a.createElement(Ae,{country:e.country})),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Capital Inicial:"),l.a.createElement("p",{className:"accountTotal"},Z()(e.totalInitialCapital).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Amortizado:"),l.a.createElement("p",{className:"accountTotal"},Z()(e.totalAmortized).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Por amortizar:"),l.a.createElement("p",{className:"accountTotal"},Z()(e.totalAllocated).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Prestamos:"),l.a.createElement("p",{className:"accountTotal"},e.totalLoan)),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Max Capital:"),l.a.createElement("p",{className:"accountTotal"},Z()(e.maxLoanCapital).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Min Capital:"),l.a.createElement("p",{className:"accountTotal"},Z()(e.minLoanCapital).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Avg Capital:"),l.a.createElement("p",{className:"accountTotal"},Z()(e.avgLoanCapital).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Max Tasa:"),l.a.createElement("p",{className:"accountTotal"},Z()(e.maxLoanIntRate).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Min Tasa:"),l.a.createElement("p",{className:"accountTotal"},Z()(e.minLoanIntRate).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Max Plazo:"),l.a.createElement("p",{className:"accountTotal"},Z()(e.maxLoanDuration).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Min Plazo:"),l.a.createElement("p",{className:"accountTotal"},Z()(e.minLoanDuration).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Avg Plazo:"),l.a.createElement("p",{className:"accountTotal"},Z()(e.avgLoanDuration).format({average:!0,mantissa:2}))))})):""))},at=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={getSummary:!0},t.FinancialService=new fe,t.fetchSummary=Object(U.a)(M.a.mark((function e(){var a,n,l,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.state.getSummary){e.next=12;break}return a=t.props.userLocation,e.next=4,t.FinancialService.getCashAccountTotals(a);case 4:return n=e.sent,e.next=7,t.FinancialService.getCashflow(a);case 7:return l=e.sent,e.next=10,t.FinancialService.getStats(a);case 10:c=e.sent,Promise.all([n,l,c]).then((function(e){t.setState({getSummary:!1,cashAccounts:e[0],cashflow:e[1],stats:e[2]})})).catch((function(e){t.setState({data:!1})}));case 12:case"end":return e.stop()}}),e)}))),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.fetchSummary()}},{key:"render",value:function(){var e=this.state,a=e.cashAccounts,t=e.cashflow,n=e.stats;return l.a.createElement("div",{className:"content"},l.a.createElement(Ka,{cashAccounts:a}),l.a.createElement(et,{stats:n}),l.a.createElement(Qa,{cashflow:t}))}}]),a}(n.Component);function tt(e){var a=e.data,t=e.totalPortfolio;return l.a.createElement("div",null,l.a.createElement("div",{className:"loan-summary-head "},l.a.createElement("div",{className:"detail-summary head-left"},l.a.createElement("p",{className:"title"},"PRESTAMO")),l.a.createElement("div",{className:"detail-summary center head-content"},l.a.createElement("p",{className:"title"},"PESO EN CARTERA")),l.a.createElement("div",{className:"detail-summary center head-content"},l.a.createElement("p",{className:"title"},"CUOTAS * MONTO")),l.a.createElement("div",{className:"detail-summary last head-content"},l.a.createElement("p",{className:"title"},"POR AMORTIZAR"))),a.map((function(e,a){var n=e.capital/e.duration,c=e.interest/100*e.capital;return l.a.createElement("div",{key:a,className:"loan-summary"},l.a.createElement("div",{className:"detail-summary detail-left"},l.a.createElement("p",{className:"title"},e._borrower.firstName.toUpperCase()+" "+e._borrower.lastName.toUpperCase()),l.a.createElement("p",{className:"total"},"$",parseFloat(e.capital).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-total"},parseFloat(e.interest),"%  \xa0\xa0  |   \xa0\xa0 ",ie()(e.startDate).format("LL"))),l.a.createElement("div",{className:"detail-summary center detail-content"},l.a.createElement("p",{className:"total"},((e.capital-parseFloat(e.totalPaid?e.totalPaid:0))/t*100).toLocaleString(void 0,{maximumFractionDigits:2}),"%"),l.a.createElement("p",{className:"acc-total"},(e.capital/t*100).toLocaleString(void 0,{maximumFractionDigits:2}),"%")),l.a.createElement("div",{className:"detail-summary center detail-content"},l.a.createElement("p",{className:"total"},e.totalPaid?Math.ceil((e.capital-parseFloat(e.totalPaid))/n):e.duration," * $",(c+n).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-total"},"$",c.toLocaleString(void 0,{maximumFractionDigits:2})," + $",n.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-summary last detail-content"},l.a.createElement("div",null,l.a.createElement("p",{className:"total"},"$",(parseFloat(e.capital)-(e.totalPaid?parseFloat(e.totalPaid):0)).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-total"},"$",isNaN(e.totalPaid)?0:parseFloat(e.totalPaid).toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",null,l.a.createElement(b.a,{to:"/admin/loan/".concat(e._id)},l.a.createElement("i",{className:"material-icons"},"info")))))})))}var nt=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={loans:[],getLoan:!0,getSummary:!0},t.loanService=new ce,t.summaryService=new B,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.fetchLoans(),this.fetchSummary()}},{key:"fetchLoans",value:function(){var e=this;this.state.getLoan&&this.loanService.getLoanDetails().then((function(a){"peru"===e.props.userLocation.toLowerCase()&&(a=a.filter((function(e){return"peru"===e._borrower.country.toLowerCase()}))),e.setState({getLoan:!1,loans:a})})).catch((function(a){e.setState({loans:!1})}))}},{key:"fetchSummary",value:function(){var e=this;if(this.state.getSummary){var a=this.props.userLocation;this.summaryService.totals(a).then((function(a){e.setState({getSummary:!1,data:a})})).catch((function(a){e.setState({data:!1})}))}}},{key:"render",value:function(){var e=this.state,a=e.loans,t=e.data;return l.a.createElement("div",{className:"content"},l.a.createElement("h4",null,"LISTADO DE PRESTAMOS"),a.length>0&&t?l.a.createElement(tt,{data:a,totalPortfolio:t[0][0].totalCapitalRemaining}):"")}}]),a}(n.Component),lt=t(336),ct=t(315),rt=t(311),st=t(332),it=t(316),ot=Object(w.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(rt.a);var mt=Object(w.a)((function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}}))((function(e){var a=e.classes,t=e.data;function n(e){var a=ie()(new Date),t=ie()(e);return ie.a.duration(a.diff(t)).asDays()}return l.a.createElement("div",null,l.a.createElement(Pe.a,{className:a.root},l.a.createElement(lt.a,{className:a.table},l.a.createElement(st.a,null,l.a.createElement(it.a,null,l.a.createElement(ot,{align:"right"},"Pago"),l.a.createElement(ot,null,"Prestatario"),l.a.createElement(ot,{align:"left"},"Fecha de Pago"),l.a.createElement(ot,{align:"right"},"Balance"),l.a.createElement(ot,{align:"right"},"Capital"),l.a.createElement(ot,{align:"right"},"Intereses"),l.a.createElement(ot,{align:"right"},"Mora"),l.a.createElement(ot,{align:"right"},"Total Cuota"))),l.a.createElement(ct.a,null,t.filter((function(e){return"DISBURSTMENT"!==e.tracking})).map((function(e,t){return l.a.createElement(it.a,{className:a.row,key:t},l.a.createElement(ot,{component:"th",scope:"row"},parseInt(e.interest_pmt)>0?l.a.createElement("i",{className:"material-icons"}," done_outline"):l.a.createElement("i",{className:"material-icons"},"priority_high")),l.a.createElement(ot,{align:"left"},l.a.createElement(b.a,{to:"/admin/loan/".concat(e._loan)},e.borrower[0].firstName+" "+e.borrower[0].lastName)),l.a.createElement(ot,{align:"right"},ie()(e.date).format("YYYY-MM-DD")),l.a.createElement(ot,{align:"right"},parseInt(e.balance).toFixed(2)),l.a.createElement(ot,{align:"right"},e.principal.toFixed(2)),l.a.createElement(ot,{align:"right"},e.interest.toFixed(2)),l.a.createElement(ot,{align:"right"},(c=e.date,r=e.interest_pmt,n(c)>0&&!r?function(e,a){return.01*n(e)*a}(e.date,e.principal).toFixed(2):"")," "),l.a.createElement(ot,{align:"right"},parseInt(e.payment).toFixed(2)));var c,r}))))),l.a.createElement(Pe.a,{className:a.root},l.a.createElement(lt.a,{className:a.table},l.a.createElement(st.a,null,l.a.createElement(it.a,null,l.a.createElement(ot,{align:"right"},"Aprobados"),l.a.createElement(ot,null,"Prestatario"),l.a.createElement(ot,{align:"left"},"Fecha"),l.a.createElement(ot,{align:"right"},"Monto"),l.a.createElement(ot,{align:"right"},"Capital"),l.a.createElement(ot,{align:"right"},"Intereses"),l.a.createElement(ot,{align:"right"},"Total Cuota"))),l.a.createElement(ct.a,null,t.filter((function(e){return"DISBURSTMENT"===e.status})).map((function(e,t){return l.a.createElement(it.a,{className:a.row,key:t},l.a.createElement(ot,{component:"th",scope:"row"},l.a.createElement("i",{className:"material-icons"}," done_outline")),l.a.createElement(ot,{align:"left"},l.a.createElement(b.a,{to:"/admin/loan/".concat(e._loan)},e.borrower[0].firstName+" "+e.borrower[0].lastName)),l.a.createElement(ot,{align:"right"},ie()(e.date).format("YYYY-MM-DD")),l.a.createElement(ot,{align:"right"},parseInt(e.balance).toFixed(2)),l.a.createElement(ot,{align:"right"},e.principal.toFixed(2)),l.a.createElement(ot,{align:"right"},e.interest.toFixed(2)),l.a.createElement(ot,{align:"right"},parseInt(e.payment).toFixed(2)))}))))))})),ut=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={loans:[],getLoan:!0},t.service=new ce,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"fetchLoans",value:function(){var e=this;this.state.getLoan&&this.service.getWeekSchedule().then((function(a){"peru"===e.props.location.toLowerCase()&&(a=a.filter((function(e){return"peru"===e._loan._borrower.country.toLowerCase()}))),e.setState({getLoan:!1,loans:a})})).catch((function(a){e.setState({loans:!1})}))}},{key:"render",value:function(){return this.fetchLoans(),l.a.createElement("div",{className:"content"},l.a.createElement(mt,{data:this.state.loans}))}}]),a}(n.Component),dt=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={loans:[],getLoan:!0,startDate:ie()().startOf("month").toISOString().substring(0,10),endDate:ie()().endOf("month").toISOString().substring(0,10),country:"Todos",countries:["Todos","Venezuela","Peru","Dominican_Republic"]},t.service=new ce,t.handleChange=function(e){var a=e.target,n=a.name,l=a.value;t.setState(Object(g.a)({},n,l))},t.componentDidMount=function(){t.fetchLoans()},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"fetchLoans",value:function(e){var a=this;e&&e.preventDefault(e);var t=this.state,n=t.startDate,l=t.endDate,c=this.props.userLocation;this.service.getPeriodSchedule(n,l,c).then((function(e){a.setState({getLoan:!1,loans:e})})).catch((function(e){a.setState({loans:!1})}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.country,n=a.loans.filter((function(e){return"Todos"!==t?e.borrower[0].country.includes(t.toUpperCase()):e}));return l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"form-row input-row-aligner"},l.a.createElement("div",{className:"form-group col-md-2"},l.a.createElement("label",null,"Fecha Inicial"),l.a.createElement("input",{type:"date",className:"form-control",id:"startDate",name:"startDate",value:this.state.startDate,onChange:function(a){return e.handleChange(a)},required:!0})),l.a.createElement("div",{className:"form-group col-md-2"},l.a.createElement("label",null,"Fecha Final"),l.a.createElement("input",{type:"date",className:"form-control",id:"endDate",name:"endDate",value:this.state.endDate,onChange:function(a){return e.handleChange(a)},required:!0})),l.a.createElement("div",{className:"form-group col-md-1 "},l.a.createElement("button",{className:"btn btn-info",type:"button",onClick:function(a){return e.fetchLoans(a)}},"Buscar")),"WORLD"===this.props.userLocation?l.a.createElement("div",{className:"form-group col-md-2 "},l.a.createElement("label",null,"Pa\xeds"),l.a.createElement("select",{className:"form-control",name:"country",id:"country",value:this.state.country,onChange:function(a){return e.handleChange(a)}},this.state.countries?this.state.countries.map((function(e,a){return l.a.createElement("option",{key:a,value:e},e)})):"")):""),l.a.createElement(mt,{data:n}))}}]),a}(n.Component);t(236);var pt=function(e){var a=e.investors;return l.a.createElement("div",{className:"loan-investor-holder"},l.a.createElement("div",{className:"investor-head "},l.a.createElement("div",{className:"detail-summary-left"},l.a.createElement("p",{className:"title-main"},"INVERSIONISTA")),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"MONTO")),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"%")),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"FEE")),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"INGRESOS")),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"UTILIDAD"))),a.map((function(e,a){return l.a.createElement("div",{key:a,className:"investor"},l.a.createElement("div",{className:"detail-summary-left acc-inv-main"},e._investor.firstName.toUpperCase()+" "+e._investor.lastName.toUpperCase()),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-inv"},e.amount.toLocaleString())),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-inv"},Z()(e.pct).format({output:"percent",mantissa:2}))),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-inv"})),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-inv"})),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-inv"})))})))};t(237);var Et=function(){return l.a.createElement("div",{className:"loan-schedule-head "},l.a.createElement("div",{className:"detail-schedule head-date"},l.a.createElement("p",{className:"title-date"},"FECHA")),l.a.createElement("div",{className:"detail-schedule head-content-status"},l.a.createElement("p",{className:"title"},"ESTATUS")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"INT")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"CAP")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"CUOTA")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"INT/P")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"CAP/P")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"TOTAL")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"CUENTA")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"OPCIONES")))},ht=t(817),vt=t(805),ft=t(806),gt=t(366),Nt=t(258),bt=t.n(Nt),yt=t(384),Ot=t.n(yt),St=t(110),Ct=t.n(St);var It=function(e){var a=l.a.useState(!1),t=Object(H.a)(a,2),n=t[0],c=t[1],r=e.scheduleDetails,s=r.loanSchedule,i=r.openPaymentOption,o=r.reversePayment,m=r.deletePayments;return s.map((function(e,a){return"RESTRUCTURED"!==e.status?l.a.createElement(ht.a,{expanded:n==="panel".concat(a),className:"expansion",onChange:0!==a?(t="panel".concat(a),function(e,a){c(!!a&&t)}):null},l.a.createElement(vt.a,{expandIcon:0!==a?l.a.createElement(Ct.a,null):null,"aria-controls":"panel1bh-content",id:"panel1bh-header",className:"expansion"},l.a.createElement("div",{key:a,className:"loan-schedule-content"},l.a.createElement("div",{className:"detail-schedule details-date"},l.a.createElement("p",{className:"acc-date"},ie()(e.date).format("YY-MM-DD"))),l.a.createElement("div",{className:"detail-schedule details-content-status"},l.a.createElement("p",{className:"acc-total-status"},function(e){var a;switch(e){case"DISBURSTMENT":a="INICIO";break;case"PAID":a="PAGO";break;case"DUE":a="PAGADERO";break;case"OVERDUE":a="ATRASADO";break;case"PENDING":a="PENDIENTE";break;case"OUTSTANDING":a="INCOMPLETO";break;case"UNPAID_OVERDUE":a="NP ATRASADO";break;case"UNPAID_DUE":a="NP PAGADERO";break;case"CLOSED":a="CERRADO";break;default:a=null}return a}(e.status))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.interest.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.principal.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},(e.interest+e.principal).toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.interest_pmt?e.interest_pmt.toLocaleString(void 0,{maximumFractionDigits:2}):"")),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.principal_pmt?e.principal_pmt.toLocaleString(void 0,{maximumFractionDigits:2}):"")),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.principal_pmt||e.interest_pmt?((e.principal_pmt?e.principal_pmt:0)+(e.interest_pmt?e.interest_pmt:0)).toLocaleString(void 0,{maximumFractionDigits:2}):"")),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.cashAccount?e.cashAccount:"")),l.a.createElement("div",{className:"detail-schedule last details-content"},0!==a?function(){switch(e.status){case"PAID":case"CLOSED":return l.a.createElement("p",{className:"itmt-options"},l.a.createElement("i",{className:"material-icons",onClick:function(){return m(e._id)}},"delete_box"));case"DUE":case"OUTSTANDING":case"OVERDUE":case"PENDING":return e.principal_pmt>0?l.a.createElement("p",{className:"itmt-options"},l.a.createElement("i",{className:"material-icons",onClick:function(){return m(e._id)}},"delete_box"),l.a.createElement("i",{className:"material-icons",onClick:function(){return i(e)}},"add_box")):e.principal_pmt?"":l.a.createElement("p",{className:"itmt-options"},l.a.createElement("i",{className:"material-icons",onClick:function(){return i(e)}},"add_box"));case"DISBURSTMENT":default:return null}}():""))),l.a.createElement(ft.a,null,l.a.createElement("div",{className:"payment-summary"},l.a.createElement("p",null,"Resumen de pagos "),l.a.createElement("div",{className:"payment-holder"},e.payments.length>0?e.payments.map((function(a,t){return t===e.payments.length-1?l.a.createElement(gt.a,{variant:"outlined",icon:l.a.createElement(bt.a,null),label:"".concat(ie()(a.date_pmt).format("YY-MM-DD")," - ").concat(a.cashAccount," - ").concat(a.amount),onDelete:function(){return o(a._id)},className:"chip"}):l.a.createElement(gt.a,{variant:"outlined",icon:l.a.createElement(bt.a,null),label:"".concat(ie()(a.date_pmt).format("YY-MM-DD")," - ").concat(a.cashAccount," - ").concat(a.amount),deleteIcon:l.a.createElement(Ot.a,null),className:"chip"})})):""),l.a.createElement("div",null,l.a.createElement(P.a,{className:"full-pmt-btn",variant:"contained",onClick:function(){return i(e,!0)}}," Pago Total"))))):"";var t}))};var Dt=function(e){var a={loanSchedule:e.loanSchedule,openPaymentOption:e.openPaymentOption,reversePayment:e.reversePayment,deletePayments:e.deletePayments,capitalRemaining:e.capitalRemaining};return l.a.createElement("div",{className:"loan-schedule-detail-holder"},l.a.createElement(Et,null),l.a.createElement(It,{scheduleDetails:a}))};t(681);var Pt=function(e){var a=e.transactions;return l.a.createElement("div",{className:"transactions-holder"},l.a.createElement("div",{className:"loan-schedule-head "},l.a.createElement("div",{className:"detail-schedule head-date"},l.a.createElement("p",{className:"title-date"},"FECHA")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title-date"},"INVERSIONISTA")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title-date"},"CONCEPTO")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"DEBITO")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"CREDITO"))),a.map((function(e,a){return l.a.createElement("div",{key:a,className:"loan-schedule-content"},l.a.createElement("div",{className:"detail-schedule details-date"},l.a.createElement("p",{className:"acc-date"},ie()(e.date).format("YY-MM-DD"))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-date"},e._investor?e._investor.firstName+" "+e._investor.lastName:"AAAAAAAAAA")),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-date"},e.concept)),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.debit.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.credit.toLocaleString(void 0,{maximumFractionDigits:2}))))})))};t(682);var xt=function(e){var a=e.details,t=e.interestIncome,n=e.interestProjected;return l.a.createElement("div",{className:"one-loan-details-summary"},l.a.createElement("div",{className:"loan-detail-summary loan-detail-left"},l.a.createElement("p",{className:"title name"},l.a.createElement(b.a,{className:"link",to:"/admin/client/".concat(a._borrower._id)},a._borrower.firstName.toUpperCase()+" "+a._borrower.lastName.toUpperCase())),l.a.createElement("p",{className:"total"},"$",parseFloat(a.capital).toLocaleString(void 0,{maximumFractionDigits:2})+" "+a.currency)),l.a.createElement("div",{className:"loan-detail-summary loan-detail-content"},l.a.createElement("div",null,l.a.createElement("p",{className:"title"},"INT & TME"),l.a.createElement("p",{className:"total"},parseFloat(a.interest),"% | ",parseFloat(a.IRR)?parseFloat(a.IRR):"","% "))),l.a.createElement("div",{className:"loan-detail-summary loan-detail-content"},l.a.createElement("div",null,l.a.createElement("p",{className:"title"},"POR AMORTIZAR"),l.a.createElement("p",{className:"total"},"$",(a.capitalRemaining>1?a.capitalRemaining:0).toLocaleString(void 0,{maximumFractionDigits:2})))),l.a.createElement("div",{className:"loan-detail-summary last loan-detail-content"},l.a.createElement("div",null,l.a.createElement("p",{className:"title"},"INGRESO"),l.a.createElement("p",{className:"total"},"$",t.toLocaleString(void 0,{maximumFractionDigits:2})))),l.a.createElement("div",{className:"loan-detail-summary loan-detail-left"},l.a.createElement("p",{className:"title"},"INICIO"),l.a.createElement("p",{className:"total"},l.a.createElement("span",{className:"total"},ie()(a.startDate).format("LL")))),l.a.createElement("div",{className:"loan-detail-summary loan-detail-content"},l.a.createElement("div",null,l.a.createElement("p",{className:"title"},"PLAZO & PR"),l.a.createElement("p",{className:"total"},a.duration," m | ",a.PaybackPeriod?a.PaybackPeriod.toLocaleString(void 0,{maximumFractionDigits:2}):""," m"))),l.a.createElement("div",{className:"loan-detail-summary loan-detail-content"},l.a.createElement("div",null,l.a.createElement("p",{className:"title"},"AMORTIZADO"),l.a.createElement("p",{className:"total"},"$",isNaN(a.totalPaid)?0:parseFloat(a.totalPaid).toLocaleString(void 0,{maximumFractionDigits:2})))),l.a.createElement("div",{className:"loan-detail-summary last loan-detail-content"},l.a.createElement("div",null,l.a.createElement("p",{className:"title"},"INTERES PROJECTADO"),l.a.createElement("p",{className:"total"},"$",n.toLocaleString(void 0,{maximumFractionDigits:2})))))},Tt=(t(341),function(e){var a=e.salesmen,t=e.newPct,n=e.newSalesman,c=e.handleNewCommission,r=e.saveNewCommission;return l.a.createElement("div",{className:"modal-fee"},l.a.createElement("h1",{className:"modal-title"},"AGREGAR NUEVA COMISI\xd3N"),l.a.createElement(C.a,{className:"fee-input-form"},l.a.createElement("div",null,l.a.createElement(qe.a,{select:!0,label:"Vendedor",className:"management",name:"newSalesman",value:n,onChange:function(e){return c(e)}},a.length>0?a.map((function(e,a){return l.a.createElement(ze.a,{value:e._id,key:a},e.firstName+" "+e.lastName+" - "+e.location)})):"")),l.a.createElement("div",null,l.a.createElement(qe.a,{className:"fee",label:"Porcentaje",value:t||null,onChange:function(e){return c(e)},name:"newPct",type:"number",InputProps:{startAdornment:l.a.createElement(Aa.a,{position:"start"},"%")}})),l.a.createElement(P.a,{disabled:!t||!n,variant:"contained",color:"primary",className:"button-save",onClick:function(){return r()}},"Agregar")))}),wt=function(e){var a=La(),t=a.isShowing,n=a.toggle,c=e.commissions,r=e.salesmen,s=e.handleNewCommission,i=e.newPct,o=e.newSalesman,m=e.saveNewCommission,u=e.deleteCommission;return l.a.createElement("div",{className:"account-options"},l.a.createElement("div",{className:"option-holder"},l.a.createElement(C.a,{component:"fieldset"},l.a.createElement(wa.a,{component:"legend"},"Comissiones"),c?c.map((function(e,a){return console.log("aqi"),l.a.createElement("div",{key:a,className:"fee-scheme line"},l.a.createElement("div",{className:"mg-accounts"},e._salesman.firstName+" "+e._salesman.lastName),l.a.createElement("div",{className:"mg-fee"},100*e.pct+"%"),l.a.createElement("div",{className:"mg-icon",onClick:function(){return u(e._id)}},l.a.createElement("i",{className:"material-icons"},"delete")))})):"",l.a.createElement(Ea.a,{className:"line",size:"small",color:"primary","aria-label":"add"},l.a.createElement(va.a,{onClick:n})))),l.a.createElement(ta.a,{open:t,onClose:n,style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement(Tt,{salesmen:r,handleNewCommission:s,newPct:i,newSalesman:o,saveNewCommission:m})))};var At=function(e){var a=this;return l.a.createElement("div",{className:"transactions-holder"},l.a.createElement("div",{className:"loan-schedule-head "},l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title-date"},"DOCUMENTO")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title-date"},"LINK")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"SUBIR"))),l.a.createElement("div",{className:"loan-schedule-content"},l.a.createElement("div",{className:"detail-schedule center details-content"},l.a.createElement("p",{className:"acc-date"},"PRESTAMO DE DINERO")),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"})),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},l.a.createElement("input",{type:"file",name:"documentID",className:"",placeholder:"documentID",onChange:function(e){return a.handleChange(e)}})))),l.a.createElement("div",{className:"loan-schedule-content"},l.a.createElement("div",{className:"detail-schedule center details-content"},l.a.createElement("p",{className:"acc-date"},"CONTRATO DE COMPRA-VENTA")),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-date"})),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},l.a.createElement("input",{type:"file",name:"documentID",className:"",placeholder:"documentID",onChange:function(e){return a.handleChange(e)}})))))},jt=t(385),Lt=t.n(jt),kt=t(800),Ft=t(807),Rt=t(190),_t=t(762);t(72).config();var Mt=function e(){var a=this;Object(s.a)(this,e),this.addCollateral=function(e){return a.service.post("/",e).then((function(e){return e.data}))},this.getCollaterals=function(e){return a.service.get("/".concat(e)).then((function(e){return e.data}))},this.getClient=function(e){return a.service.get("/detail/".concat(e)).then((function(e){return e.data}))},this.getInvAccounts=function(){return a.service.get("/get-accounts").then((function(e){return e.data}))},this.service=v.a.create({baseURL:"".concat("https://ribo-cap-staging.herokuapp.com","/api/collateral"),withCredentials:!0})},Ut=(t(342),t(83)),Bt=t.n(Ut);function Yt(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Gt(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Yt(t,!0).forEach((function(a){Object(g.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yt(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var Wt=function(e){var a=Object(n.useState)(Bt.a.initialCollateralState),t=Object(H.a)(a,2),c=t[0],r=t[1],s=Object(n.useState)(!0),i=Object(H.a)(s,2),o=i[0],m=i[1],u=function(e){var a=e.target,t=a.name,n=a.value;console.log(n,Bt.a.vehicleCollateralTypes.indexOf(n)),r(Gt({},c,"status"===t||"date"===t?{currentStatus:Gt({},c.currentStatus,Object(g.a)({},t,n))}:Object(g.a)({},t,n))),-1!==Bt.a.vehicleCollateralTypes.indexOf(c.type)?m(!1):m(!0)};return l.a.createElement(Pe.a,{className:"modal-col"},l.a.createElement("div",null,l.a.createElement("h2",{className:"modal-title"},"Datos b\xe1sicos del colateral:"),Bt.a.basicCollateral.map((function(e){return l.a.createElement(qe.a,{id:"standard-".concat(e.name),select:!!e.select,label:e.label,name:e.name,type:e.type,InputLabelProps:{shrink:!0},className:(e.type,"textField"),value:"status"===e.name||"date"===e.name?c.currentStatus[e.name]:c[e.name],onChange:function(e){return u(e)},margin:"normal"},e.select&&"type"===e.name?Bt.a.collateralTypes.map((function(e){return l.a.createElement(ze.a,{key:e.value,value:e.value},e.label)})):null,e.select&&"status"===e.name?Bt.a.currentStatus.map((function(e){return l.a.createElement(ze.a,{key:e.value,value:e.value},e.label)})):null)})),l.a.createElement("h2",{className:"modal-title"},"Detalles del Colateral"),Bt.a.vehicleConstants.map((function(e){return l.a.createElement(qe.a,{id:"standard-".concat(e.name),select:!!e.select,disabled:o,label:e.label,name:e.name,type:e.type,InputLabelProps:{shrink:!0},className:(e.type,"textField"),value:"status"===e.name||"date"===e.name?c.currentStatus[e.name]:c[e.name],onChange:function(e){return u(e)},margin:"normal"},e.select&&"type"===e.name?Bt.a.collateralTypes.map((function(e){return l.a.createElement(ze.a,{key:e.value,value:e.value},e.label)})):null,e.select&&"status"===e.name?Bt.a.currentStatus.map((function(e){return l.a.createElement(ze.a,{key:e.value,value:e.value},e.label)})):null)})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"optionHolder"},l.a.createElement(P.a,{variant:"contained",color:"primary",onClick:function(){return e.addCollateral(c)}},"Agregar"))))},Ht=t(253);function Vt(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var zt=function(e){var a=La(),t=a.isShowing,c=a.toggle,r=Object(n.useState)(!1),s=Object(H.a)(r,2),i=s[0],o=s[1],m=e.loanId,u=Object(n.useState)([]),d=Object(H.a)(u,2),p=d[0],E=d[1],h=new Mt;Object(n.useEffect)((function(){h.getCollaterals(m).then((function(e){console.log(e),e&&E(e)}))}),[h,m]);return l.a.createElement("div",{className:"colateralHolder"},l.a.createElement(ht.a,{expanded:!1},l.a.createElement(vt.a,{"aria-controls":"panel1c-content",id:"panel1c-header"},l.a.createElement("div",{className:"collateralHeader"},l.a.createElement("div",{className:"collateralType"},"Tipo"),l.a.createElement("div",{className:"collateralValue"},"Valor"),l.a.createElement("div",{className:"collateralDateNumb"},"Fecha de Registro"),l.a.createElement("div",{className:"collateralStatus"},"Ultimo Estatus"),l.a.createElement("div",{className:"collateralDateNumb"},"LTV"),l.a.createElement("div",{className:"collateralDateNumb"},"LOTV")))),p!==[]?p.map((function(e,a){return l.a.createElement(ht.a,{expanded:i==="panel".concat(a),className:"expansion",onChange:(t="panel".concat(a),function(e,a){o(!!a&&t)})},l.a.createElement(vt.a,{expandIcon:l.a.createElement(Ct.a,null),"aria-controls":"panel1c-content",id:"panel1c-header"},l.a.createElement("div",{className:"collateralContent"},l.a.createElement("div",{className:"collateralType"},e.type),l.a.createElement("div",{className:"collateralValue"},Z()(e.value).formatCurrency({mantissa:2})),l.a.createElement("div",{className:"collateralDateNumb"},Object(Ht.default)(new Date(e.registerDate),"yyyy-MM-dd")),l.a.createElement("div",{className:"collateralStatus"},e.currentStatus[e.currentStatus.length-1].status),l.a.createElement("div",{className:"collateralDateNumb"},Z()(e.loanPrincipalToValue).format({output:"percent",mantissa:2})),l.a.createElement("div",{className:"collateralDateNumb"},Z()(e.loanOutstandingToValue?e.loanOutstandingToValue:null).format({output:"percent",mantissa:2})))),l.a.createElement(ft.a,null,l.a.createElement("div",null,l.a.createElement("h4",null,"Detalles"),e.condition,"-",e.model,"-",e.serialNumber,"-",e.dateOfManufacture)));var t})):null,l.a.createElement(ht.a,{expanded:!1},l.a.createElement(vt.a,{"aria-controls":"panel1c-content",id:"panel1c-header",onClick:c},"Agregar nuevo colateral",l.a.createElement(va.a,null))),l.a.createElement(ta.a,{open:t,onClose:c,style:{padding:"30px 30px",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement(Wt,{addCollateral:function(e){h.addCollateral(function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Vt(t,!0).forEach((function(a){Object(g.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vt(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},e,{_loan:m})).then((function(e){E([].concat(Object(De.a)(p),[e.response]))})).then((function(){c()}))}})))};t(683);function qt(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function $t(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?qt(t,!0).forEach((function(a){Object(g.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qt(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var Xt=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).componentDidMount=Object(U.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loader();case 1:case"end":return e.stop()}}),e)}))),t.handleChange=function(e,a){t.setState({value:a})},t.loader=Object(U.a)(M.a.mark((function e(){var a,n,l,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.loanId,e.next=3,t.loanService.getLoanCompleteDetails(a);case 3:return n=e.sent,e.next=6,t.loanService.getLoanCommissions(a);case 6:return l=e.sent,e.next=9,t.loanService.getSalesmen();case 9:c=e.sent,t.setState({loan:n,commissions:l.data,salesmen:c.data}),t.detailsCalc();case 12:case"end":return e.stop()}}),e)}))),t.detailsCalc=function(){var e=t.state.loan.details.loanSchedule,a=e.reduce((function(e,a){return"RESTRUCTURED"!==a.status?e+(a.interest_pmt?a.interest_pmt:0):e}),0),n=e.reduce((function(e,a){return"RESTRUCTURED"!==a.status?e+(a.interest?a.interest:0):e}),0);t.setState({interestIncome:a,interestProjected:n})},t.handleNewCommission=function(e){var a=e.target,n=a.name,l=a.value;console.log(n,l),"newPct"===n?(console.log(l),l>100?t.setState({newPct:100}):l<0?t.setState({newPct:0}):t.setState({newPct:l})):t.setState(Object(g.a)({},n,l))},t.saveNewCommission=function(){var e=t.props.loanId,a=t.state,n=a.newPct,l=a.newSalesman,c={_loan:e,_salesmen:l,pct:n/=100};return t.loanService.addCommission(c).then(function(){var a=Object(U.a)(M.a.mark((function a(n){var l;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("success"!==n.status){a.next=7;break}return a.next=3,t.loanService.getLoanCommissions(e);case 3:l=a.sent,t.setState({commissions:l.data}),a.next=7;break;case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},t.deleteCommission=function(e){var a=t.props.loanId;t.loanService.deleteCommission(e).then(function(){var e=Object(U.a)(M.a.mark((function e(n){var l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("success"!==n.status){e.next=7;break}return e.next=3,t.loanService.getLoanCommissions(a);case 3:l=e.sent,t.setState({commissions:l.data}),e.next=7;break;case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())},t.compare=function(e,a){return e.date<a.date?-1:e.date>a.date?1:0},t.reversePayment=function(e){t.PaymentService.deletePayment(e).then((function(e){t.loader()})).catch((function(e){t.setState({error:e})}))},t.deletePayments=function(e){t.loanService.deletePayments(e).then((function(e){t.loader()})).catch((function(e){t.setState({error:e})}))},t.openPaymentOption=function(e,a){t.setState({openPayment:!0,installment:e,fullPayment:a})},t.loanRestructure=function(){var e=t.state,a=e.restructuringDetails,n=e.loan,l=n.details,c=t.props.loanId;t.loanService.restructure(c,a).then((function(e){t.setState({open:!1,status:"success",loan:$t({},n,{details:$t({},l,{loanSchedule:e.loanSchedule.sort(t.compare)})})})})).catch((function(e){t.setState({status:"failure"})}))},t.closePaymentOption=function(){t.setState({openPayment:!1,installment:null,fullPayment:!1})},t.onChangeRestructuring=function(e){var a=e.target,n=a.name,l=a.value,c=a.type,r=t.state.restructuringDetails;t.setState({restructuringDetails:$t({},r,Object(g.a)({},n,"number"===c?parseFloat(l):l))})},t.paymentReceiver=function(e){t.state.fullPayment?t.PaymentService.newFullPayment(e).then((function(e){t.loader(),t.setState({openPayment:!1})})).catch((function(e){t.setState({error:e})})):t.PaymentService.newPayment(e).then((function(e){t.loader(),t.setState({openPayment:!1})})).catch((function(e){t.setState({error:e})}))},t.loanRemove=function(e){t.loanService.deleteLoan(e).then((function(){t.props.history.push("/admin/client/".concat(t.state.loan.details._borrower._id))})).catch((function(e){t.setState({error:e})}))},t.handleClickOpen=function(){t.setState({open:!0})},t.handleClose=function(){t.setState({open:!1})},t.state={loan:{details:{},investors:{}},interestIncome:0,interestProjected:0,openPayment:!1,installment:null,value:0,restructuringDetails:{}},t.loanService=new ce,t.PaymentService=new z,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.interestIncome,n=a.interestProjected,c=a.installment,r=a.value,s=a.commissions,i=a.salesmen,o=a.newPct,m=a.newSalesman,u=a.fullPayment,d=this.props.classes,p=this.state.loan,E=p.details,h=p.investors,v=p.transactions,f=this.state,g=f.open,N=f.restructuringDetails,b=f.status;return this.state.loan.details._borrower?l.a.createElement("div",{className:"content"},"success"===b?l.a.createElement("div",{class:"alert alert-success alert-dismissible"},l.a.createElement("button",{href:"#",class:"close","data-dismiss":"alert","aria-label":"close"},"\xd7"),l.a.createElement("strong",null,"Exito!")," La solicitud se ha procesado correctamente."):"failure"===b?l.a.createElement("div",{class:"alert alert-success alert-dismissible"},l.a.createElement("button",{href:"#",class:"close","data-dismiss":"alert","aria-label":"close"},"\xd7"),l.a.createElement("strong",null,"Fallo!")," La solicitud no se ha procesado correctamente"):"",l.a.createElement(xt,{details:E,interestIncome:t,interestProjected:n}),l.a.createElement("div",{className:"loan-content-holder"},l.a.createElement("div",{className:d.root},l.a.createElement(Ze.a,{value:r,onChange:this.handleChange,classes:{root:d.tabsRoot,indicator:d.tabsIndicator}},l.a.createElement(Je.a,{disableRipple:!0,classes:{root:d.tabRoot,selected:d.tabSelected},label:"CRONOGRAMA"}),l.a.createElement(Je.a,{disableRipple:!0,classes:{root:d.tabRoot,selected:d.tabSelected},label:"INVERSIONISTAS"}),l.a.createElement(Je.a,{disableRipple:!0,classes:{root:d.tabRoot,selected:d.tabSelected},label:"MOVIMIENTOS"}),l.a.createElement(Je.a,{disableRipple:!0,classes:{root:d.tabRoot,selected:d.tabSelected},label:"COMISIONES"}),l.a.createElement(Je.a,{disableRipple:!0,classes:{root:d.tabRoot,selected:d.tabSelected},label:"COLATERAL"}),l.a.createElement(Je.a,{disableRipple:!0,classes:{root:d.tabRoot,selected:d.tabSelected},label:"DOCUMENTOS"}))),0===r&&l.a.createElement("div",null,this.state.openPayment&&l.a.createElement(pe,{installment:c,loan:E,receivePayment:this.paymentReceiver,closePaymentOption:this.closePaymentOption,fullPayment:u}),l.a.createElement(Dt,{loanSchedule:E.loanSchedule.sort(this.compare),openPaymentOption:this.openPaymentOption,reversePayment:this.reversePayment,deletePayments:this.deletePayments,capitalRemaining:E.capitalRemaining}),l.a.createElement("div",{className:"loan-delete"},l.a.createElement(kt.a,{item:!0,xs:12,md:6},l.a.createElement(kt.a,{container:!0,spacing:1,direction:"column",alignItems:"center"},l.a.createElement(kt.a,{item:!0},l.a.createElement(Ft.a,{variant:"contained",color:"primary","aria-label":"full-width contained primary button group"},l.a.createElement(P.a,{onClick:function(){return e.handleClickOpen()}},"REESTRUCTURAR"),l.a.createElement(P.a,{onClick:function(){return e.loanRemove(E._id)}},"ELIMINAR PRESTAMO",l.a.createElement(Lt.a,null)))))),l.a.createElement(He.a,{onClose:function(){return e.handleClose()},open:g},l.a.createElement(Pe.a,{style:{padding:30,width:600,display:"flex",flexWrap:"wrap"}},l.a.createElement(kt.a,{item:!0,xs:!0},l.a.createElement(Rt.a,{gutterBottom:!0,variant:"h6"},"REESTRUCTURACI\xd3N DE PRESTAMO")),l.a.createElement(Ge.a,null),l.a.createElement(qe.a,{id:"standard-full-width",label:"TASA DE INTERES",style:{margin:8},helperText:"% mensual",onChange:function(a){return e.onChangeRestructuring(a)},type:"number",name:"interest",value:N.interest,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),l.a.createElement(qe.a,{id:"standard-full-width",label:"CUOTAS",type:"number",name:"duration",onChange:function(a){return e.onChangeRestructuring(a)},style:{margin:8},helperText:"numero total de cuotas a pagar",value:N.duration,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),l.a.createElement(qe.a,{id:"standard-full-width",label:"CUOTAS DE SOLO INTERES",name:"startAmortPeriod",onChange:function(a){return e.onChangeRestructuring(a)},style:{margin:8},value:N.startAmortPeriod,helperText:"cuotas de solo intereses antes de pagar capital",fullWidth:!0,type:"number",margin:"normal",InputLabelProps:{shrink:!0}}),l.a.createElement(C.a,{style:{width:"100%",marginTop:15,marginLeft:8,marginRight:8}},l.a.createElement(I.a,{shrink:!0,id:"demo-simple-select-placeholder-label-label"},"TIPO DE REESTRUCTURACI\xd3N"),l.a.createElement(Ve.a,{name:"restructuringType",value:N.restructuringType,type:"string",labelId:"demo-simple-select-label",id:"demo-simple-select",fullWidth:!0,onChange:function(a){return e.onChangeRestructuring(a)}},l.a.createElement(ze.a,{value:"capital"},"Capital"),l.a.createElement(ze.a,{value:"capitalAndDueInterest"},"Capital e Intereses Adeudados"),l.a.createElement(ze.a,{value:"capitalAndPendingInterest"},"Capital, intereses adeudados y pendientes")),l.a.createElement(_t.a,null,"indicar\xe1 el monto a reestructurar")),l.a.createElement(C.a,{style:{width:"100%",marginTop:15,marginLeft:8,marginRight:8}},l.a.createElement(I.a,{shrink:!0,id:"demo-simple-select-placeholder-label-label"},"FRECUENCIA"),l.a.createElement(Ve.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",fullWidth:!0,value:N.period,name:"period",onChange:function(a){return e.onChangeRestructuring(a)}},l.a.createElement(ze.a,{value:"weekly"},"Semanal"),l.a.createElement(ze.a,{value:"biWeekly"},"Cada 2 semanas"),l.a.createElement(ze.a,{value:"payDay"},"Dia de pago (Quincenas)"),l.a.createElement(ze.a,{value:"monthly"},"Mensual")),l.a.createElement(_t.a,null,"frequencia con la que se realizaran los pagos")),l.a.createElement(C.a,{style:{width:"100%",marginTop:15,marginLeft:8,marginRight:8}},l.a.createElement(I.a,{shrink:!0,id:"demo-simple-select-placeholder-label-label"},"TIPO DE AMORTIZACI\xd3N"),l.a.createElement(Ve.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",fullWidth:!0,onChange:function(a){return e.onChangeRestructuring(a)},value:N.loanType,name:"loanType"},l.a.createElement(ze.a,{value:"amort2"},"Amortizaci\xf3n")),l.a.createElement(_t.a,null,"esquema de repago")),l.a.createElement(qe.a,{id:"standard-full-width",type:"date",label:"FECHA DE INICIO",style:{margin:8,marginTop:15},helperText:"fecha desde la cual se empezar\xe1n a calcular los primeros intereses",fullWidth:!0,onChange:function(a){return e.onChangeRestructuring(a)},value:N.startDate,margin:"normal",name:"startDate",InputLabelProps:{shrink:!0}}),l.a.createElement(qe.a,{id:"standard-full-width",type:"date",label:"FECHA DE PAGO",style:{margin:8,marginTop:15},helperText:"fecha en la que se realizara el primer pago",fullWidth:!0,onChange:function(a){return e.onChangeRestructuring(a)},value:N.paymentDate,margin:"normal",name:"paymentDate",InputLabelProps:{shrink:!0}}),l.a.createElement("div",{className:"loan-delete"},l.a.createElement(P.a,{color:"primary",variant:"contained",onClick:function(){return e.loanRestructure()}},"reestructurar")))))),1===r&&l.a.createElement(pt,{investors:h}),2===r&&l.a.createElement(Pt,{transactions:v}),3===r&&l.a.createElement(wt,{commissions:s,salesmen:i,newPct:o,newSalesman:m,handleNewCommission:this.handleNewCommission,saveNewCommission:this.saveNewCommission,deleteCommission:this.deleteCommission}),4===r&&l.a.createElement(zt,{loanId:E._id}),5===r&&l.a.createElement(At,null))):""}}]),a}(n.Component),Zt=Object(E.a)(Object(w.a)((function(e){return{root:{flexGrow:1},tabsIndicator:{backgroundColor:"#1890ff"},tabRoot:{textTransform:"initial",minWidth:72,fontWeight:500,marginRight:4*e.spacing.unit,"&:hover":{color:"#40a9ff",opacity:1,outline:"none"},"&$tabSelected":{color:"#1890ff",fontWeight:600,outline:"none"},"&:focus":{color:"#40a9ff",outline:"none"}},tabSelected:{}}}))(Xt)),Jt=(t(744),function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={duePayments:[],pastPayments:[],totalPaid:0,toBePaid:0,amount:0},t.componentDidMount=function(){t.currentInstallments(),t.pastPayment(),t.totalPaid()},t.totalPaid=Object(U.a)(M.a.mark((function e(){var a,n,l,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.user.loans,n=[],e.next=4,a.filter((function(e){return e.loanSchedule.some((function(e){return ie()(e.date).month()===ie()(new Date).month()}))})).map((function(e){return Object.assign({},e).loanSchedule.filter((function(e){return ie()(e.date).month()===ie()(new Date).month()}))})).forEach((function(e){return e.forEach((function(e){return n.push(e)}))}));case 4:l=n.reduce((function(e,a){return e+((a.interest_pmt?a.interest_pmt:0)+(a.principal_pmt?a.principal_pmt:0))}),0),c=n.reduce((function(e,a){return e+((a.interest?a.interest:0)+(a.principal?a.principal:0))}),0),t.setState({toBePaid:l,totalPaid:c});case 7:case"end":return e.stop()}}),e)}))),t.currentInstallments=function(){var e=t.props.user.loans,a=[];e.filter((function(e){return e.loanSchedule.some((function(e){return ie()(e.date).month()===ie()(new Date).month()}))})).map((function(e){return Object.assign({},e).loanSchedule.filter((function(e){return ie()(e.date).month()===ie()(new Date).month()}))})).forEach((function(e){return e.forEach((function(e){return a.push(e)}))})),t.setState({duePayments:a})},t.pastPayment=function(){var e=t.props.user.loans,a=e.length,n=[];e.filter((function(e){return e.loanSchedule.some((function(e){return ie()(e.date).month()===ie()(new Date).subtract(1,"month").month()}))})).map((function(e){return Object.assign({},e).loanSchedule.filter((function(e){return ie()(e.date).month()===ie()(new Date).subtract(1,"month").month()}))})).forEach((function(e){return e.forEach((function(e){return n.push(e)}))})),t.setState({pastPayments:n,amount:a})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state,a=e.duePayments,t=e.pastPayments,n=e.totalPaid,c=e.toBePaid,r=e.amount;return l.a.createElement("div",{className:"testing"},l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Res\xfamen de cuenta"))),l.a.createElement("div",{className:"account-cards"},l.a.createElement("div",{className:"summary-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Total por pagar"),l.a.createElement("p",{variant:"heading",className:"heading-content"},n.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"summary-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"# de prestamos"),l.a.createElement("p",{variant:"heading",className:"heading-content"},r)),l.a.createElement("div",{className:"summary-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Pagado"),l.a.createElement("p",{variant:"heading",className:"heading-content"},c.toLocaleString(void 0,{maximumFractionDigits:2})))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Cronograma de pagos - ",ie()().format("MMMM")))),l.a.createElement("div",{className:"table-container"},l.a.createElement("ul",{className:"responsive-table"},l.a.createElement("li",{className:"table-header"},l.a.createElement("div",{className:"table-col table-col-1"},"ID"),l.a.createElement("div",{className:"table-col table-col-2"},"PR\xd3X RECIBO"),l.a.createElement("div",{className:"table-col table-col-3"},"PR\xd3X IMPORTE"),l.a.createElement("div",{className:"table-col table-col-4"},"VENCIMIENTO"),l.a.createElement("div",{className:"table-col table-col-5"},"ESTATUS")),a.map((function(e){return l.a.createElement("li",{className:"table-row"},l.a.createElement("div",{className:"table-col table-col-1","data-label":"Prestamo"},e._loan.substr(e._loan.length-7).toUpperCase()),l.a.createElement("div",{className:"table-col table-col-2","data-label":"Pr\xf3ximo Recibo"},ie()(e.date).format("DD/MM/YY")),l.a.createElement("div",{className:"table-col table-col-3","data-label":"Proximo Importe"},"$",e.payment.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-4","data-label":"Vencimiento"},ie()(e.date).format("DD/MM/YY")),l.a.createElement("div",{className:"table-col table-col-4","data-label":"Estatus"},e.principal_pmt&&e.principal_pmt>=e.principal?"PAGO":"PENDIENTE"))})))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Transacciones Recientes"))),l.a.createElement("div",{className:"table-container"},l.a.createElement("ul",{className:"responsive-table"},l.a.createElement("li",{className:"table-header"},l.a.createElement("div",{className:"table-col table-col-1"},"ID"),l.a.createElement("div",{className:"table-col table-col-2"},"RECIBO"),l.a.createElement("div",{className:"table-col table-col-3"},"IMPORTE"),l.a.createElement("div",{className:"table-col table-col-4"},"METODO"),l.a.createElement("div",{className:"table-col table-col-5"},"ESTATUS")),t.map((function(e){return l.a.createElement("li",{className:"table-row"},l.a.createElement("div",{className:"table-col table-col-1","data-label":"Prestamo"},e._loan.substr(e._loan.length-7).toUpperCase()),l.a.createElement("div",{className:"table-col table-col-2","data-label":"Recibo"},ie()(e.date).format("DD/MM/YY")),l.a.createElement("div",{className:"table-col table-col-3","data-label":"Importe"},"$",(e.principal_pmt+e.interest_pmt).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-4","data-label":"METODO"},"TRANSFERENCIA"),l.a.createElement("div",{className:"table-col table-col-4","data-label":"Estatus"},e.principal_pmt&&e.principal_pmt.toFixed(2)>=e.principal.toFixed(2)?"PAGO":"PENDIENTE"))})))))}}]),a}(n.Component)),Kt=(t(745),function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={expanded:null,totalRemaining:0,totalBorrowed:0,numberOfLoans:0},t.handleChange=function(e){return function(a,n){t.setState({expanded:!!n&&e})}},t.compare=function(e,a){return e.date<a.date?-1:e.date>a.date?1:0},t.startDateCompare=function(e,a){return e.startDate<a.startDate?-1:e.startDate>a.startDate?1:0},t.componentDidMount=function(){t.totals()},t.totals=function(){var e=t.props.user.loans,a=e.reduce((function(e,a){return e+a.capitalRemaining}),0),n=e.reduce((function(e,a){return e+a.capital}),0),l=e.length;t.setState({totalRemaining:a,totalBorrowed:n,numberOfLoans:l})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props.classes,t=this.props.user.loans,n=this.state,c=n.expanded,r=n.totalRemaining,s=n.numberOfLoans,i=n.totalBorrowed;return l.a.createElement("div",{className:"testing"},l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"General"))),l.a.createElement("div",{className:"account-cards"},l.a.createElement("div",{className:"account-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Total por pagar"),l.a.createElement("p",{variant:"heading",className:"heading-content"},r.toLocaleString())),l.a.createElement("div",{className:"account-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"# de prestamos"),l.a.createElement("p",{variant:"heading",className:"heading-content"},s.toLocaleString())),l.a.createElement("div",{className:"account-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Pagado"),l.a.createElement("p",{variant:"heading",className:"heading-content"},(i-r).toLocaleString()))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Prestamos abiertos"))),l.a.createElement("div",{className:a.root},t.sort(this.startDateCompare).filter((function(e){return"OPEN"===e.status})).map((function(t,n){return l.a.createElement(ht.a,{key:n,expanded:c==="panel".concat(n+1),onChange:e.handleChange("panel".concat(n+1))},l.a.createElement(vt.a,{expandIcon:l.a.createElement(Ct.a,null)},l.a.createElement(Rt.a,{className:a.heading},t._id.substr(t._id.length-7).toUpperCase()),l.a.createElement(Rt.a,{className:a.secondaryHeading},ie()(t.startDate).format("DD/MM/YY"))),l.a.createElement(ft.a,{className:"table-details-container"},l.a.createElement("div",{className:"table-details"},l.a.createElement("div",{className:"loan-details-card"},l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Total"),l.a.createElement("p",{variant:"heading",className:"heading-content"},t.capital.toLocaleString())),l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Tasa"),l.a.createElement("p",{variant:"heading",className:"heading-content"},t.interest,"%")),l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Plazo"),l.a.createElement("p",{variant:"heading",className:"heading-content"},t.duration)),l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Amortizado"),l.a.createElement("p",{variant:"heading",className:"heading-content"},(t.capital-t.capitalRemaining).toLocaleString()))),l.a.createElement("div",{className:"table-container"},l.a.createElement("ul",{className:"responsive-table"},l.a.createElement("li",{className:"table-header"},l.a.createElement("div",{className:"table-col table-col-1"},"FECHA"),l.a.createElement("div",{className:"table-col table-col-2"},"CUOTA"),l.a.createElement("div",{className:"table-col table-col-3"},"INTERES"),l.a.createElement("div",{className:"table-col table-col-4"},"CAPITAL"),l.a.createElement("div",{className:"table-col table-col-5"},"P.INTERES"),l.a.createElement("div",{className:"table-col table-col-6"},"P.CAPITAL"),l.a.createElement("div",{className:"table-col table-col-7"},"P.CUOTA"),l.a.createElement("div",{className:"table-col table-col-8"})),t.loanSchedule.sort(e.compare).map((function(e,a){return l.a.createElement("li",{key:a,className:"table-row"},l.a.createElement("div",{className:"table-col table-col-1","data-label":"Fecha"},ie()(e.date).format("DD/MM/YY")),l.a.createElement("div",{className:"table-col table-col-2","data-label":"Cuota"},(e.interest+e.principal).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-3","data-label":"Interes"},e.interest.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-4","data-label":"Capital"},e.principal.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-5","data-label":"Pago Interes"},(e.interest_pmt?e.interest_pmt:0).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-6","data-label":"Pago Capital"},(e.principal_pmt?e.principal_pmt:0).toLocaleString()),l.a.createElement("div",{className:"table-col table-col-7","data-label":"Total pagado"},((e.principal_pmt?e.principal_pmt:0)+(e.interest_pmt?e.interest_pmt:0)).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-8","data-label":"Estatus"},(e.principal_pmt?e.principal_pmt:0)>=e.principal?"X":""))})))))))}))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Prestamos cerrados"))),l.a.createElement("div",{className:a.root},t.sort(this.startDateCompare).filter((function(e){return"CLOSED"===e.status})).map((function(t,n){return l.a.createElement(ht.a,{key:n,expanded:c==="panel".concat(n+1),onChange:e.handleChange("panel".concat(n+1))},l.a.createElement(vt.a,{expandIcon:l.a.createElement(Ct.a,null)},l.a.createElement(Rt.a,{className:a.heading},t._id.substr(t._id.length-7).toUpperCase()),l.a.createElement(Rt.a,{className:a.secondaryHeading},ie()(t.startDate).format("DD/MM/YY"))),l.a.createElement(ft.a,{className:"table-details-container"},l.a.createElement("div",{className:"loan-details-card"},l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Total"),l.a.createElement("p",{variant:"heading",className:"heading-content"},t.capital.toLocaleString())),l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Tasa"),l.a.createElement("p",{variant:"heading",className:"heading-content"},t.interest,"%")),l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Plazo"),l.a.createElement("p",{variant:"heading",className:"heading-content"},t.duration)),l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Amortizado"),l.a.createElement("p",{variant:"heading",className:"heading-content"},(t.capital-t.capitalRemaining).toLocaleString()))),l.a.createElement("div",{className:"table-container"},l.a.createElement("ul",{className:"responsive-table"},l.a.createElement("li",{className:"table-header"},l.a.createElement("div",{className:"table-col table-col-1"},"FECHA"),l.a.createElement("div",{className:"table-col table-col-2"},"CUOTA"),l.a.createElement("div",{className:"table-col table-col-3"},"INTERES"),l.a.createElement("div",{className:"table-col table-col-4"},"CAPITAL"),l.a.createElement("div",{className:"table-col table-col-5"},"P.INTERES"),l.a.createElement("div",{className:"table-col table-col-6"},"P.CAPITAL"),l.a.createElement("div",{className:"table-col table-col-7"},"P.CUOTA"),l.a.createElement("div",{className:"table-col table-col-8"})),t.loanSchedule.sort(e.compare).map((function(e,a){return l.a.createElement("li",{key:a,className:"table-row"},l.a.createElement("div",{className:"table-col table-col-1","data-label":"Fecha"},ie()(e.date).format("DD/MM/YY")),l.a.createElement("div",{className:"table-col table-col-2","data-label":"Cuota"},(e.interest+e.principal).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-3","data-label":"Interes"},e.interest.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-4","data-label":"Capital"},e.principal.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-5","data-label":"Pago Interes"},(e.interest_pmt?e.interest_pmt:0).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-6","data-label":"Pago Capital"},(e.principal_pmt?e.principal_pmt:0).toLocaleString()),l.a.createElement("div",{className:"table-col table-col-7","data-label":"Total pagado"},((e.principal_pmt?e.principal_pmt:0)+(e.interest_pmt?e.interest_pmt:0)).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-8","data-label":"Estatus"},(e.principal_pmt?e.principal_pmt:0)>=e.principal?"X":""))}))))))}))))}}]),a}(n.Component)),Qt=Object(w.a)((function(e){return{root:{width:"100%",marginBottom:20},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}}))(Kt);t(746),t(245);function en(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function an(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?en(t,!0).forEach((function(a){Object(g.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):en(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var tn=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleChange=function(e){var a=e.target,n=a.name,l=a.value;t.setState({details:an({},t.state.details,Object(g.a)({},n,l))})},t.handleSubmit=function(){var e=t.state.details,a=e._id;t.service.updateAccount(a,e).then((function(e){"updated"===e.status?t.props.closeModal("updated"):t.props.closeModal("failed")})).catch((function(e){return t.props.closeModal("failed")}))},t.state={details:e.details},t.service=new be,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props.classes,t=this.state.details;return l.a.createElement("div",{className:"modal-holder"},l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Personal"))),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(qe.a,{label:"Nombres legales *",value:t.firstName,name:"firstName",type:"text",className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}}),l.a.createElement(qe.a,{label:"Apellidos legales",name:"lastName",type:"text",value:t.lastName,className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}}),l.a.createElement(qe.a,{id:"date",name:"DOB",label:"Fecha de Nacimiento",value:t.DOB,type:"date",className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}}),l.a.createElement(qe.a,{name:"cellphoneNumber",label:"N\xfamero de Tel\xe9fono",value:t.cellphoneNumber,type:"text",onChange:function(a){return e.handleChange(a)},className:a.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(qe.a,{name:"nationalId",label:"Documento de Identidad",type:"text",value:t.nationalId,onChange:function(a){return e.handleChange(a)},className:a.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(qe.a,{name:"nationalIdType",label:"Tipo de Documento",select:!0,type:"text",value:t.nationalIdType,onChange:function(a){return e.handleChange(a)},className:a.textField,InputLabelProps:{shrink:!0},margin:"normal"},de.nationalIdType.map((function(e){return l.a.createElement(ze.a,{key:e.value,value:e.value},e.label)})))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Direcci\xf3n Personal"))),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(qe.a,{select:!0,name:"country",label:"Pa\xeds",type:"text",value:t.country,className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}},de.countries.map((function(e){return l.a.createElement(ze.a,{key:e.value,value:e.value},e.label)}))),l.a.createElement(qe.a,{name:"city",label:"Ciudad",type:"text",value:t.city,className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}}),l.a.createElement(qe.a,{name:"address",label:"Direcci\xf3n",type:"text",value:t.address,className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}}),l.a.createElement(qe.a,{name:"zipCode",label:"C\xf3digo Postal",type:"text",value:t.zipCode,className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}})),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Financiera"))),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(qe.a,{name:"bank",label:"Banco",type:"text",value:t.bank,className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}}),l.a.createElement(qe.a,{name:"accountNumber",label:"Numero de cuenta",type:"text",value:t.accountNumber,className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}}),l.a.createElement(qe.a,{name:"monthlyIncome",label:"Ingresos",type:"number",value:t.monthlyIncome,className:a.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(a){return e.handleChange(a)}})),l.a.createElement("div",{className:"edit-form-submit"},l.a.createElement("button",{onClick:function(){return e.handleSubmit()},className:"btn btn-info"},"Editar Detalles")))}}]),a}(n.Component),nn=Object(w.a)((function(e){return{name:{width:440},citizenInfo:{width:300},container:{display:"flex",flexWrap:"wrap"},textField:{minWidth:225},formControl:{margin:e.spacing.unit}}}))(tn);function ln(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function cn(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ln(t,!0).forEach((function(a){Object(g.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ln(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var rn=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleChange=function(e){var a=e.target.name,n=e.target.files[0];t.setState({details:cn({},t.state.details,Object(g.a)({},a,n))})},t.handleSubmit=function(){var e=t.state.details,a=e._id,n=e.documentIncomeOrPayslip;t.service.updateDocumentIncome(a,n).then((function(e){"updated"===e.status?t.props.closeModal("updated"):t.props.closeModal("failed")})).catch((function(e){return t.props.closeModal("failed")}))},t.state={details:e.details},t.service=new be,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"modal-holder"},l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Certificaci\xf3n de Ingresos o N\xf3mina"))),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement("label",{className:"btn"},l.a.createElement("input",{type:"file",name:"documentIncomeOrPayslip",className:"",placeholder:"Certificaci\xf3n de Ingresos o Nomina",onChange:function(a){return e.handleChange(a)}}))),l.a.createElement("div",{className:"edit-form-submit"},l.a.createElement("button",{onClick:function(){return e.handleSubmit()},className:"btn btn-info"},"Enviar Documento")))}}]),a}(n.Component),sn=Object(w.a)((function(e){return{name:{width:440},citizenInfo:{width:300},container:{display:"flex",flexWrap:"wrap"},textField:{minWidth:225},formControl:{margin:e.spacing.unit}}}))(rn);function on(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function mn(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?on(t,!0).forEach((function(a){Object(g.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):on(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var un=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleChange=function(e){var a=e.target.name,n=e.target.files[0];t.setState({details:mn({},t.state.details,Object(g.a)({},a,n))})},t.handleSubmit=function(){var e=t.state.details,a=e._id,n=e.documentID;t.service.updateDocumentID(a,n).then((function(e){"updated"===e.status?t.props.closeModal("updated"):t.props.closeModal("failed")})).catch((function(e){return t.props.closeModal("failed")}))},t.state={details:e.details},t.service=new be,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"modal-holder"},l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Documentos"))),l.a.createElement("div",{className:"form-inputs-holder"},"Documento de Identidad",l.a.createElement("label",{className:"btn"},l.a.createElement("input",{type:"file",name:"documentID",className:"",placeholder:"documentID",onChange:function(a){return e.handleChange(a)}}))),l.a.createElement("div",{className:"edit-form-submit"},l.a.createElement("button",{onClick:function(){return e.handleSubmit()},className:"btn btn-info"},"Editar Documentos")))}}]),a}(n.Component),dn=Object(w.a)((function(e){return{name:{width:440},citizenInfo:{width:300},container:{display:"flex",flexWrap:"wrap"},textField:{minWidth:225},formControl:{margin:e.spacing.unit}}}))(un);function pn(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var En=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={open:!1,details:{}},t.service=new be,t.componentDidMount=function(){var e=t.props.user;t.setState({details:e})},t.handleOpen=function(){t.setState({open:!0})},t.handleOpenDocID=function(){t.setState({openDocID:!0})},t.handleOpenDocID=function(){t.setState({openDocInc:!0})},t.handleClose=function(e){var a=t.state.details._id;t.setState({open:!1,openDocID:!1,openDocInc:!1,editStatus:e}),"updated"===e&&t.service.getClient(a).then((function(e){t.setState({details:e})}))},t.capitalize=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.state.details;return l.a.createElement("div",{className:"main-holder"},l.a.createElement("div",{className:"profile-actions"},l.a.createElement(P.a,{variant:"outlined",onClick:this.handleOpen,className:e.button},"Editar perfil"),l.a.createElement(ta.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.handleClose},l.a.createElement("div",{style:pn(),className:e.paper},l.a.createElement(nn,{details:a,closeModal:this.handleClose})))),l.a.createElement("div",{className:"testing"},"updated"===this.state.editStatus?l.a.createElement("div",{className:"alert alert-success",role:"alert"},"Operaci\xf3n realizada exitosamente!"):"failed"===this.state.editStatus?l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"La operaci\xf3n a fallado."):"",l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Personal"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Primer y segundo nombre legal *"),l.a.createElement("p",{className:"content-details"},a.firstName)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Apellidos legales *"),l.a.createElement("p",{className:"content-details"},a.lastName)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Fecha de nacimiento"),l.a.createElement("p",{className:"content-details"},ie()(a.DOB).format("DD/MM/YY"))),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Documento de Identidad"),l.a.createElement("p",{className:"content-details"},a.nationalId)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Tipo de Documento"),l.a.createElement("p",{className:"content-details"},a.nationalIdType)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Tel\xe9fono"),l.a.createElement("p",{className:"content-details"},a.cellphoneNumber))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Direcci\xf3n personal"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Pa\xeds"),l.a.createElement("p",{className:"content-details"},this.capitalize(a.country))),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Ciudad"),l.a.createElement("p",{className:"content-details"},this.capitalize(a.city))),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Direcci\xf3n"),l.a.createElement("p",{className:"content-details"},a.address)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"C\xf3digo postal"),l.a.createElement("p",{className:"content-details"},a.zipCode))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Financiera"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Banco"),l.a.createElement("p",{className:"content-details"},a.bank)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"N\xfamero de cuenta"),l.a.createElement("p",{className:"content-details"},a.accountNumber)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Ingresos"),l.a.createElement("p",{className:"content-details"},a.monthlyIncome))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Documentaci\xf3n"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},l.a.createElement(P.a,{variant:"outlined",onClick:this.handleOpenDocID,className:e.buttonDocID},"Documento de Identidad"),l.a.createElement(ta.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openDocID,onClose:this.handleClose},l.a.createElement("div",{style:pn(),className:e.paper},l.a.createElement(dn,{details:a,closeModal:this.handleClose})))),l.a.createElement("p",{className:"content-details"},a.documentID&&l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a.documentID},"Visualiza tu Identicaci\xf3n"))),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},l.a.createElement(P.a,{variant:"outlined",onClick:this.handleOpenDocID,className:e.buttonDocID},"N\xf3mina o Certificaci\xf3n de Ingresos"),l.a.createElement(ta.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openDocInc,onClose:this.handleClose},l.a.createElement("div",{style:pn(),className:e.paper},l.a.createElement(sn,{details:a,closeModal:this.handleClose})))),l.a.createElement("p",{className:"content-details"},a.documentIncomeOrPayslip&&l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a.documentIncomeOrPayslip},"Visualiza tu documento"))))))}}]),a}(n.Component),hn=Object(w.a)((function(e){return{button:{fontSize:12,margin:0,fontWeight:600,textDecoration:"none",textTransform:"none",borderRadius:2,color:"rgb(145, 145, 145)"},buttonDoc:{fontSize:12,margin:0,marginLeft:30,fontWeight:600,textDecoration:"none",textTransform:"none",borderRadius:2,color:"rgb(145, 145, 145)"},input:{display:"none"},paper:{position:"absolute",maxWidth:1e3,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none",maxHeight:"100%",overflowY:"auto"}}}))(En),vn=t(370),fn=t(386),gn=t.n(fn),Nn=t(812),bn=t(313),yn=t(113),On=t(747),Sn=t(795),Cn=t(808),In=t(809),Dn=t(810),Pn=t(797),xn=t(759),Tn=t(811),wn=Object(w.a)((function(){return{listContainer:{marginTop:5},popOverLinks:{display:"flex",alignItems:"center",padding:5,paddingLeft:0,width:200,textDecoration:"none"},popOverText:{padding:0,margin:0,width:200,textDecoration:"none"},orangeAvatar:{width:35,height:35,color:"#2D4369",backgroundColor:"#F2F5F7"},card:{maxWidth:345},links:{textDecoration:"none"}}}))((function(e){var a=e.classes,t=e.name,n=e.membership,c=e.logout;return l.a.createElement(Cn.a,{className:a.card},l.a.createElement(In.a,null,l.a.createElement(Dn.a,null,l.a.createElement(On.a,{className:a.orangeAvatar},t.slice(0,1)),l.a.createElement("p",{className:"title-app-bar"},t),l.a.createElement("p",{className:"id-identifier"},"Membresia - ",n),l.a.createElement(Ge.a,null),l.a.createElement(Pn.a,{className:a.listContainer},l.a.createElement(b.a,{className:a.links,to:"/"},l.a.createElement(xn.a,{button:!0,className:a.popOverLinks},l.a.createElement(Tn.a,null,l.a.createElement("i",{className:"material-icons popover-icons"},"verified_user")),l.a.createElement("p",{className:a.popOverText},"Verificaci\xf3n"))),l.a.createElement(b.a,{className:a.links,to:"/"},l.a.createElement(xn.a,{button:!0,className:a.popOverLinks},l.a.createElement(Tn.a,null,l.a.createElement("i",{className:"material-icons popover-icons"},"settings")),l.a.createElement("p",{className:a.popOverText},"Configurici\xf3n"))),l.a.createElement(b.a,{className:a.links,to:"/"},l.a.createElement(xn.a,{button:!0,className:a.popOverLinks,onClick:function(){return c()}},l.a.createElement(Tn.a,null,l.a.createElement("i",{className:"material-icons popover-icons"},"eject")),l.a.createElement("p",{className:a.popOverText},"Salir")))))))})),An=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={anchorEl:null},t.handleClick=function(e){t.setState({anchorEl:e.currentTarget})},t.handleClose=function(){t.setState({anchorEl:null})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.classes,t=e.handleDrawerToggle,n=e.BarTitle,c=e.firstName,r=e.lastName,s=e.id,i=e.logout,o=this.state.anchorEl,m=Boolean(o);return l.a.createElement(Nn.a,{position:"fixed",className:a.appBar},l.a.createElement("div",{className:a.main},l.a.createElement(bn.a,null,l.a.createElement(Be.a,{color:"inherit","aria-label":"Open drawer",onClick:function(){return t()},className:a.menuButton},l.a.createElement(gn.a,null)),l.a.createElement("ul",{className:a.navList},l.a.createElement("div",null,l.a.createElement("li",{className:a.titleAppBar},n)),l.a.createElement("div",null,l.a.createElement(yn.a,{className:a.userList,"aria-haspopup":"true",variant:"contained",onClick:this.handleClick},l.a.createElement("li",{className:a.userListElement},l.a.createElement(On.a,{className:a.orangeAvatar},c.slice(0,1))),l.a.createElement("li",{className:a.userListElement},c+" "+r),l.a.createElement("li",{className:a.userListElement},l.a.createElement("i",{className:"material-icons bar-dropdown"},"keyboard_arrow_down")))),l.a.createElement(Sn.a,{id:"simple-popper",open:m,anchorEl:o,onClose:this.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},l.a.createElement(wn,{name:c+" "+r,membership:s,logout:i}))))))}}]),a}(n.Component),jn=Object(vn.a)(Object(w.a)((function(e){return{navList:{margin:0,padding:0,width:1e3,display:"flex",listStyle:"none",alignItems:"center",color:"#2D4369",justifyContent:"space-between"},userList:{fontWeight:400,fontSize:14,display:"flex",listStyle:"none",alignItems:"center",disableRipple:!0,disableTouchRipple:!0},userListElement:{marginLeft:5},orangeAvatar:{width:35,height:35,color:"#2D4369",backgroundColor:"#F2F5F7"},appBar:Object(g.a)({backgroundColor:"#ffff",color:"#2D4369",marginLeft:240,boxShadow:"none",borderBottom:"1px solid rgb(235, 235, 235)"},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),menuButton:Object(g.a)({marginRight:20},e.breakpoints.up("sm"),{display:"none"}),titleAppBar:{fontSize:"1.5em",fontWeight:600,padding:0,margin:0,marginTop:0}}}))(An)),Ln=t(819),kn=t(364),Fn=t(259),Rn=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.classes,t=e.theme,n=e.handleDrawerToggle,c=e.mobileOpen,r=e.handleBarTitle,s=e.user,i=l.a.createElement("div",null,l.a.createElement("div",{className:a.toolbar},l.a.createElement("img",{className:a.navLogo,src:"https://res.cloudinary.com/ribo/image/upload/v1554797031/Logo_RIBO-02.png",alt:""})),l.a.createElement(Pn.a,null,s.borrower?Fn.clientUrls.map((function(e,t){return l.a.createElement(b.a,{className:"link",key:t,to:"/client/".concat(e.url)},l.a.createElement(xn.a,{className:a.items,button:!0,key:t,onClick:function(){return r(e.text)}},l.a.createElement("p",{className:a.links},e.text)))})):s.admin?Fn.adminUrls.map((function(e,t){return e.link&&e.super?s.superAdmin?l.a.createElement(b.a,{className:"link",key:t,to:"/admin/".concat(e.url)},l.a.createElement(xn.a,{className:a.items,button:!0,key:t,onClick:function(){return r(e.text)}},l.a.createElement("p",{className:a.links},e.text))):"":e.link?l.a.createElement(b.a,{className:"link",key:t,to:"/admin/".concat(e.url)},l.a.createElement(xn.a,{className:a.items,button:!0,key:t,onClick:function(){return r(e.text)}},l.a.createElement("p",{className:a.links},e.text))):l.a.createElement(xn.a,{className:a.items,button:!0,key:t},l.a.createElement("p",{className:a.titles},e.text))})):""));return l.a.createElement("nav",{className:a.drawer},l.a.createElement(kn.a,{smUp:!0,implementation:"css"},l.a.createElement(Ln.a,{container:this.props.container,variant:"temporary",anchor:"rtl"===t.direction?"right":"left",open:c,onClose:function(){return n()},classes:{paper:a.drawerPaper}},i)),l.a.createElement(kn.a,{xsDown:!0,implementation:"css"},l.a.createElement(Ln.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},i)))}}]),a}(n.Component),_n=Object(w.a)((function(e){return{drawer:Object(g.a)({},e.breakpoints.up("sm"),{backgroundColor:"#00446B",width:240,flexShrink:0}),toolbar:e.mixins.toolbar,drawerPaper:{width:240,backgroundColor:"#00446B"},content:{flexGrow:1,padding:e.spacing(3)},navLogo:{height:55,paddingLeft:30,paddingTop:5},items:{width:240,height:40,paddingLeft:30,padding:10},links:{color:"#ffff",fontSize:"1.1em",fontWeight:600,marginLeft:10},titles:{color:"#ffff",fontSize:"1.1em",fontWeight:600}}}),{withTheme:!0})(Rn),Mn=t(813),Un=(t(748),function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={mobileOpen:!1,name:"Actividad"},t.handleBarTitle=function(e){t.setState({name:e})},t.handleDrawerToggle=function(){t.setState((function(e){return{mobileOpen:!e.mobileOpen}}))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.classes,t=e.children,n=e.userInSession,c=e.logout;return l.a.createElement("div",{className:a.root},l.a.createElement(Mn.a,null),l.a.createElement(jn,{BarTitle:this.state.name,user:n,logout:c,firstName:n.firstName,id:n._id.substring(n._id.length-7,n._id.length).toUpperCase(),lastName:n.lastName,handleDrawerToggle:this.handleDrawerToggle}),l.a.createElement(_n,{user:n,handleDrawerToggle:this.handleDrawerToggle,handleBarTitle:this.handleBarTitle,mobileOpen:this.state.mobileOpen}),l.a.createElement("main",{className:a.content},l.a.createElement("div",{className:a.toolbar}),"VERIFIED"!==n.status&&!n.admin&&l.a.createElement("div",{className:"account-status-notify"},l.a.createElement("p",null,"Completa tu perfil para disfrutar de nuestro servicios")),t))}}]),a}(n.Component)),Bn=Object(w.a)((function(e){return{root:{display:"flex"},toolbar:e.mixins.toolbar,content:{backgroundColor:"#F2F5F7",flexGrow:1}}}),{withTheme:!0})(Un),Yn=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).getTheUser=function(e){t.setState({loggedInUser:e})},t.logout=function(){t.service.logout().then((function(e){"success"===e.message&&(t.setState({loggedInUser:null}),t.props.history.push("/login"))}))},t.state={loggedInUser:null},t.service=new f,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"fetchUser",value:function(){var e=this;null===this.state.loggedInUser&&this.service.loggedin().then((function(a){e.setState({loggedInUser:a})})).catch((function(a){e.setState({loggedInUser:!1}),e.props.history.push("/")}))}},{key:"render",value:function(){var e=this;return this.fetchUser(),this.state.loggedInUser&&this.state.loggedInUser.admin?l.a.createElement("div",{className:"App"},l.a.createElement(Bn,{userInSession:this.state.loggedInUser,logout:this.logout},l.a.createElement(d.a,null,l.a.createElement(p.a,{exact:!0,path:"/",render:function(){return l.a.createElement(ve,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/client/create",render:function(){return l.a.createElement(Oe,{getUser:e.getTheUser,location:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/investor/create",render:function(){return l.a.createElement(Sa,{getUser:e.getTheUser,location:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/investor/transaction",render:function(){return l.a.createElement(Ca,{getUser:e.getTheUser,location:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/investor/details",render:function(){return l.a.createElement(Wa,{getUser:e.getTheUser,location:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/financials",render:function(){return l.a.createElement(at,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/loan/list",render:function(){return l.a.createElement(nt,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/loan/period",render:function(){return l.a.createElement(dt,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/activity",render:function(){return l.a.createElement(ve,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/payments",render:function(){return l.a.createElement(ae,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/portfolio",render:function(){return l.a.createElement(W,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/company/create",render:function(){return l.a.createElement(Ie,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/evolution",render:function(){return l.a.createElement(ne,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/weekly-schedule",render:function(){return l.a.createElement(ut,{getUser:e.getTheUser,location:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{path:"/admin/client/list",render:function(){return l.a.createElement(Xe,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{path:"/admin/investor/details/:investorId",render:function(a){var t=a.match;return l.a.createElement(Wa,{investorId:t.params.investorId,getUser:e.getTheUser,location:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{path:"/admin/cash-account/:cashAccount",render:function(a){var t=a.match;return l.a.createElement(ge,{getUser:e.getTheUser,cashAccount:t.params.cashAccount})}}),l.a.createElement(p.a,{path:"/admin/loan/:loanId",render:function(e){var a=e.match;return l.a.createElement(Zt,{loanId:a.params.loanId})}}),l.a.createElement(p.a,{path:"/admin/client/:clientId",render:function(e){var a=e.match;return l.a.createElement(ba,{clientId:a.params.clientId})}}),l.a.createElement(p.a,{path:"/admin/create-loan/:clientId",render:function(a){var t=a.match;return l.a.createElement(Ja,{clientId:t.params.clientId,userLocation:e.state.loggedInUser.location})}})))):this.state.loggedInUser&&"PENDING"===this.state.loggedInUser.status?l.a.createElement("div",{className:"App-auth"},l.a.createElement("header",{className:"App-header"},l.a.createElement(d.a,null,l.a.createElement(p.a,{exact:!0,path:"/",render:function(){return l.a.createElement(R,{user:e.state.loggedInUser})}})))):this.state.loggedInUser&&this.state.loggedInUser.borrower?l.a.createElement("div",{className:"App"},l.a.createElement(Bn,{userInSession:this.state.loggedInUser,logout:this.logout},l.a.createElement(d.a,null,l.a.createElement(p.a,{exact:!0,path:"/",render:function(){return l.a.createElement(Jt,{user:e.state.loggedInUser,getUser:e.getTheUser})}}),l.a.createElement(p.a,{exact:!0,path:"/client/activity",render:function(){return l.a.createElement(Jt,{user:e.state.loggedInUser,getUser:e.getTheUser})}}),l.a.createElement(p.a,{exact:!0,path:"/client/loan",render:function(){return l.a.createElement(Qt,{user:e.state.loggedInUser,getUser:e.getTheUser})}}),l.a.createElement(p.a,{exact:!0,path:"/client/profile",render:function(){return l.a.createElement(hn,{user:e.state.loggedInUser,getUser:e.getTheUser})}})))):l.a.createElement("div",{className:"App-auth"},l.a.createElement("header",{className:"App-header"},l.a.createElement(d.a,null,l.a.createElement(p.a,{exact:!0,path:"/",render:function(){return l.a.createElement(j,{getUser:e.getTheUser})}}),l.a.createElement(p.a,{exact:!0,path:"/signup",render:function(){return l.a.createElement(T,{getUser:e.getTheUser})}}),l.a.createElement(p.a,{exact:!0,path:"/login",render:function(){return l.a.createElement(j,{getUser:e.getTheUser})}}),l.a.createElement(p.a,{path:"/confirmation/:confirmationCode",render:function(e){var a=e.match;return l.a.createElement(k,{confirmationCode:a.params.confirmationCode})}}))))}}]),a}(n.Component),Gn=Object(E.a)(Yn),Wn=t(818);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(Wn.a,null,l.a.createElement(Gn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},83:function(e,a){e.exports.initialCollateralState={type:"",registerDate:"",value:"",currentStatus:{status:"",date:""}},e.exports.collateralTypes=[{value:"automobile",label:"Carro"},{value:"motorcycle",label:"Moto"},{value:"receivables",label:"Cuentas por cobrar"},{value:"investments",label:"Inversiones"},{value:"machinaryAndEquipment",label:"Maquinaria y Equipos"},{value:"valuablesAndColletibles",label:"Coleccionables"},{value:"electronicItems",label:"Equipos Electronicos"},{value:"employmentBenefits",label:"Beneficios Laborales"}],e.exports.currentStatus=[{value:"depositedIntoBranch",label:"En control"},{value:"collateralWithBorrower",label:"Con prestatario"},{value:"returnedToBorrower",label:"devuelto al Prestatario"},{value:"reposessionInitiated",label:"En embargo"},{value:"repossed",label:"Embargada"},{value:"underAuction",label:"En subasta"},{value:"sold",label:"Vendido"},{value:"transferedOwnership",label:"transferido"},{value:"lost",label:"Perdido"},{value:"stolen",label:"Robado"},{value:"insuranceClaim",label:"En reclamaci\xf3n"}],e.exports.vehicleCollateralTypes=["automobile","motorcycle","receivables","machinaryAndEquipment","electronicItems"],e.exports.basicCollateral=[{name:"type",label:"Tipo",select:!0},{name:"registerDate",label:"Fecha de registro",type:"date"},{name:"value",label:"Valor",type:"number"},{name:"status",label:"Estatus",select:!0},{name:"date",label:"Fecha de Estatus",type:"date"}],e.exports.vehicleConstants=[{name:"serialNumber",label:"Serial",type:"text"},{name:"model",label:"Modelo",type:"text"},{name:"modelNumber",label:"Numero de Modelo o motor",type:"text"},{name:"color",label:"Color",type:"text"},{name:"dateOfManufacture",label:"Fecha de Manufactura",type:"date"},{name:"condition",label:"Condicion",select:!0},{name:"address",label:"Direcci\xf3n",type:"text"},{name:"description",label:"Descripci\xf3n",type:"text"},{name:"registrationNumber",label:"Numero de Registro",type:"text"},{name:"kilometrage",label:"Kilometraje",type:"number"},{name:"engineNumber",label:"Numero de motor",type:"text"}]}},[[413,1,2]]]);
//# sourceMappingURL=main.cba80e68.chunk.js.map
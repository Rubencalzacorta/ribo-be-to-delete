(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){var n=a(6);var l=function(e,t){var a=n(e),l=n(t);return n.duration(a.diff(l)).asDays()};e.exports={payDayLoan:function(e,t,a,l,r,c){for(var i={biWeekly:{everyOther:.5,periodicity:"d",amount:15},payDay:{everyOther:.5,periodicity:"d",amount:15},monthly:{everyOther:1,periodicity:"M",amount:1}},s=n(c,"YYYY-MM-DD").format("YYYY-MM-DD"),o=n(c,"YYYY-MM-DD"),m=n(c,"YYYY-MM-DD"),u=function(e){var t=n(e).date(),a=n(e).year(),l=n(e).month(),r=e.endOf("month").date();return console.log(t,r),t>10&&t<=15?n([a,l,r]).format("YYYY-MM-DD"):t>=1&&t<=10?n([a,l,15]).format("YYYY-MM-DD"):t>15&&t<=25?n([a,l,r]).format("YYYY-MM-DD"):t>25&&t<=r?n([a,l,15]).add(1,"M").format("YYYY-MM-DD"):void 0}(o),d=function(e){var t=e.date(),a=e.endOf("month").date();return t>10&&t<=15?1/15*(a-t):t>=1&&t<=10?1/15*(16-t):t>15&&t<=25?1/(a-15)*(a+1-t):t>25&&t<=a?1/(a-15)*(a-t+15):void 0}(m),p=i[t].everyOther,h=i[t].amount,E=i[t].periodicity,v=l*p/100*r,f=a*(1/p),g=r/f,N=v+g,b=[{_loan:e,date:s,payment:0,interest:0,principal:0,balance:r,status:"DISBURSTMENT"}],y=1;y<=f;y++)if(y<2){var C={_loan:e,date:u,payment:v*d,interest:v*d,principal:g,balance:r,status:"DUE"};b.push(C)}else{if(n(u).add((y-1)*h,E).date()<16)c=n(u).add((y-1)*h,E).set({date:15});else{var S=n(u).add((y-1)*h,E).endOf("month").date();c=n(u).add((y-1)*h,E).set({date:S})}var I={_loan:e,date:c.format("YYYY-MM-DD"),payment:N,interest:v,principal:g,balance:r-y*g,status:"PENDING"};b.push(I)}return b},linearLoan:function(e,t,a,l,r,c){for(var i={biWeekly:{everyOther:.5,periodicity:"d",amount:15},payDay:{everyOther:.5,periodicity:"d",amount:15},monthly:{everyOther:1,periodicity:"M",amount:1}},s=i[t].everyOther,o=i[t].amount,m=i[t].periodicity,u=l*s/100*r,d=a*(1/s),p=r/d,h=l+p,E=[{_loan:e,date:c,payment:0,interest:0,principal:0,balance:r,status:"DISBURSTMENT"}],v=n(c),f=1;f<=d;f++){var g=n(c).add(f,"M").diff(v,"days"),N={_loan:e,date:n(c).add(f*o,m).format("YYYY-MM-DD"),payment:h,interest:u,principal:p,balance:r-f*p,status:g>31?"PENDING":"DUE"};E.push(N)}return E},linearLoanIntFirst:function(e,t,a,r,c,i,s){for(var o={biWeekly:{everyOther:.5,periodicity:"d",amount:15},payDay:{everyOther:.5,periodicity:"d",amount:15},monthly:{everyOther:1,periodicity:"M",amount:1}},m=o[t].everyOther,u=o[t].amount,d=o[t].periodicity,p=r*m/100*c,h=a*(1/m),E=c/h,v=r+E,f=[{_loan:e,date:i,payment:0,interest:0,principal:0,balance:c,status:"DISBURSTMENT"}],g=n(i),N=1;N<=h+1;N++){var b=n(i).add(N,"M").diff(g,"days");if(N>1){var y={_loan:e,date:n(s).add((N-1)*u,d).format("YYYY-MM-DD"),payment:v,interest:p,principal:E,balance:c-(N-1)*E,status:b>31?"PENDING":"DUE"};f.push(y)}else{var C={_loan:e,date:n(s).format("YYYY-MM-DD"),payment:l(i,s)*(-p/30),interest:l(i,s)*(-p/30),principal:0,balance:c,status:b>31?"PENDING":"DUE"};f.push(C)}}return f},lumpSumLoan:function(e,t,a,l,r,c){for(var i=l/100*r,s=r,o=i,m=i+s,u=[{_loan:e,date:c,payment:0,interest:0,principal:0,balance:r,status:"DISBURSTMENT"}],d=n(c),p=1;p<=a;p++){var h=n(c).add(p,"M").diff(d,"days");if(p<a){var E={_loan:e,date:n(c).add(p,"M").format("YYYY-MM-DD"),payment:o,interest:i,principal:0,balance:s,status:h>31?"PENDING":"DUE"};u.push(E)}else{var v={_loan:e,date:n(c).add(p,"M").format("YYYY-MM-DD"),payment:m,interest:i,principal:s,balance:0,status:h>31?"PENDING":"DUE"};u.push(v)}}return u}}},183:function(e,t){e.exports={clientUrls:[{link:!0,url:"activity",text:"Actividad"},{link:!0,url:"loan",text:"Prestamos"},{link:!0,url:"profile",text:"Perfil"}],adminUrls:[{link:!1,text:"- General"},{link:!0,url:"activity",text:"Actividad"},{link:!0,url:"portfolio",text:"Portafolio"},{link:!0,super:!0,url:"evolution",text:"Evoluci\xf3n"},{link:!1,text:"- Cliente"},{link:!0,url:"client/create",text:"Crear"},{link:!0,url:"client/list",text:"Listado"},{link:!1,text:"- Inversionista"},{link:!0,url:"investor/create",text:"Crear"},{link:!0,url:"investor/details",text:"Detalle"},{link:!0,url:"investor/transaction",text:"Transacciones"},{link:!1,text:"- Prestamos"},{link:!0,url:"loan/list",text:"Listado"},{link:!0,url:"loan/period",text:"Periodo"}]}},29:function(e,t){var a={client:{gender:"MALE",civilStatus:"SINGLE",DOB:(new Date).toISOString().substring(0,10),academicLevel:"MIDDLESCHOOL",spouseDOB:"1990-01-01",country:"peru",employmentStatus:"EMPLOYED",startDate:"2015-01-01",fullName:null,firstName:"",lastName:"",nationalId:null,nationality:null,otherNationalities:null,placeOfBirth:null,immigrationCertificate:null,Occupation:null,spouseFullName:null,spouseNationalId:null,spousePlaceOfBirth:null,street:null,residenceName:null,residenceNumber:null,city:null,cellphoneNumber:null,email:null,businessName:null,businessAddress:null,businessPosition:null,businessPhoneNumber:null,businessEmail:null,monthlyIncome:null,otherIncome:null},open:!1,details:{}};e.exports={gender:[{value:"MALE",label:"Masculino"},{value:"FEMALE",label:"Femenino"}],civilStatus:[{label:"Soltero",value:"SINGLE"},{label:"Casado",value:"MARRIED"},{label:"Divorciado",value:"DIVORCED"},{label:"Viudo",value:"WIDOW"}],academicLevel:[{label:"Primaria",value:"MIDDLESCHOOL"},{label:"Secundaria",value:"HIGHSCHOOL"},{label:"Universidad",value:"UNIVERSITY"},{label:"Posgrado",value:"POSTGRADUATE"}],employmentStatus:[{label:"Empleado",value:"EMPLOYED"},{label:"Desempleado",value:"UNEMPLOYED"},{label:"Independiente",value:"INDEPENDANT"},{label:"Retirado",value:"RETIRED"},{label:"Otro",value:"OTHER"}],countries:[{label:"Per\xfa",value:"PERU"},{label:"Rep\xfablica Dominicana",value:"DOMINICAN_REPUBLIC"},{label:"Venezuela",value:"VENEZUELA"}],initialState:a,initialClientState:{gender:"MALE",civilStatus:"SINGLE",DOB:"1990-01-01",academicLevel:"MIDDLESCHOOL",spouseDOB:"1990-01-01",country:"PERU",employmentStatus:"EMPLOYED",startDate:"2015-01-01",fullName:null,nationalId:null,nationality:null,otherNationalities:null,placeOfBirth:null,immigrationCertificate:null,Occupation:null,spouseFullName:null,spouseNationalId:null,spousePlaceOfBirth:null,street:null,residenceName:null,residenceNumber:null,city:null,cellphoneNumber:null,email:null,businessName:null,businessAddress:null,businessPosition:null,businessPhoneNumber:null,businessEmail:null,monthlyIncome:null,otherIncome:null},fees:[{text:"Patricia 45%, Miguel 10%",fee:[{admin:"5c8103c1cf81366c6c0f1337",fee:.45},{admin:"5c8103d8cf81366c6c0f1339",fee:.1}]},{text:"Patricia 30%, Miguel 10%",fee:[{admin:"5c8103c1cf81366c6c0f1337",fee:.3},{admin:"5c8103d8cf81366c6c0f1339",fee:.1}]},{text:"Miguel 10%",fee:[{admin:"5c80fd19a5b4b86c15c18b8c",fee:.1}]},{text:"Carrillo 30%, Miguel 10%",fee:[{admin:"5cbded7d396ebf05b289cbbe",fee:.3},{admin:"5c8103d8cf81366c6c0f1339",fee:.1}]}],accounts:["PLPERU","REMPERU","GCUS","GFUS","GCDR"],feeDistribution:[{participants:"P",text:"Patricia 33.33%"},{participants:"PG",text:"Patricia 50%"},{participants:"PM",text:"Patricia 30%, Miguel 10%"},{participants:"GPM",text:"Patricia 45%, Miguel 10%"},{participants:"M",text:"Miguel 10%"}],loanInitialState:{_id:"",collateralType:"",collateralValue:0,collateralDescription:"",startDate:"",open:!1,loanDuration:0,loanAmount:0,loanInterest:0,loanType:"linear",loanPeriod:"monthly",openPaymentDate:!1,paymentDate:"",payment:0,interestPmt:0,capitalPmt:0,loanFinalPayment:0,loanInterestFinalPayment:0,loanCapitalFinalPayment:0,investor:"",useOfFunds:"",investmentAmount:0,investors:[]}}},329:function(e,t,a){e.exports=a(658)},334:function(e,t,a){},335:function(e,t,a){},626:function(e,t,a){},627:function(e,t,a){},633:function(e,t,a){},634:function(e,t,a){},635:function(e,t,a){},636:function(e,t,a){},637:function(e,t,a){},638:function(e,t,a){},639:function(e,t,a){},648:function(e,t,a){},650:function(e,t,a){},651:function(e,t,a){},656:function(e,t,a){},657:function(e,t,a){},658:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(33),c=a.n(r),i=(a(334),a(5)),s=a(9),o=a(11),m=a(10),u=a(12),d=(a(335),a(665)),p=a(663),h=a(662),E=a(18),v=a(272),f=a(661),g=a(51),N=a(40),b=a.n(N);a(66).config();var y=function e(){var t=this;Object(i.a)(this,e),this.signup=function(e){return console.log(e),t.service.post("/signup",e).then(function(e){return e.data})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/currentUser").then(function(e){return e.data})},this.logout=function(){return t.service.get("/logout").then(function(e){return e.data})},this.service=b.a.create({baseURL:"".concat("https://ribo-cap.herokuapp.com","/api/auth"),withCredentials:!0})},C=a(8),S=a.n(C),I=a(15),O=g.object().shape({email:g.string().email("Inserte un email v\xe1lido").required("Inserte su email"),firstName:g.string().min(2,"Inserte su nombre, m\xe1s de 2 caracteres").max(40,"Inserte su nombre, menos de 40 caracteres").required("Inserte su nombre"),lastName:g.string().min(2,"Inserte su apellido, m\xe1s de 2 caracteres").max(40,"Inserte su apellido, menos de 40 caracteres").required("Inserte su apellido"),password:g.string().min(8,"Inserte m\xe1s de 8 caracteres").max(40,"Inserte menos de 40 caracteres").required("Inserte una contrase\xf1a"),passwordConfirmation:g.string().oneOf([g.ref("password"),null],"Las contrase\xf1as deben de ser iguales")}),D=Object(h.a)(S()(function(e){return{main:Object(E.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit,border:"1px solid red"},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{height:"500px",marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit,backgroundColor:"#0F1433",color:"#F2F5F7",width:"100%",fontWeight:500,"&:hover":{backgroundColor:"#011D66",color:"#F2F5F7"}}}})(function(e){var t=new y,a=e.classes,n=e.getUser;return l.a.createElement("div",{className:"access-holder"},l.a.createElement("div",{className:"entry"}),l.a.createElement("div",{className:"access-window"},l.a.createElement("div",{className:"logo-access"}),l.a.createElement("div",{className:"user-credentials"},l.a.createElement("p",{className:"access-window-title"},"Bienvenido a Ribo"),l.a.createElement("p",{className:"access-window-subtitle"},"Ya tiene una cuenta? ",l.a.createElement(f.a,{to:"/login"},"ingrese aqui!")),l.a.createElement(v.a,{initialValues:{email:"",password:"",passwordConfirmation:"",firstName:"",lastName:""},onSubmit:function(a,l){l.setSubmitting,l.setErrors,t.signup(a).then(function(t){n(t),e.history.push("/")}).catch(function(e){console.log(e.message)})},validationSchema:O,render:function(e){var t=e.values,n=e.errors,r=e.touched,c=e.handleBlur,i=e.handleChange,s=e.handleSubmit,o=e.isSubmitting;return l.a.createElement("form",{className:a.form,onSubmit:s},l.a.createElement(I.h,{margin:"normal",fullWidth:!0},l.a.createElement(I.j,{htmlFor:"username"},"Email"),l.a.createElement(I.i,{type:"email",name:"email",onChange:i,onBlur:c,value:t.email}),n.email&&r.email&&l.a.createElement("div",{className:a.inputErrors},n.email)),l.a.createElement(I.h,{margin:"normal",fullWidth:!0},l.a.createElement(I.j,{htmlFor:"username"},"Nombre"),l.a.createElement(I.i,{type:"firstName",name:"firstName",onChange:i,onBlur:c,value:t.firstName}),n.firstName&&r.firstName&&l.a.createElement("div",{className:a.inputErrors},n.firstName)),l.a.createElement(I.h,{margin:"normal",fullWidth:!0},l.a.createElement(I.j,{htmlFor:"username"},"Apellido"),l.a.createElement(I.i,{type:"lastName",name:"lastName",onChange:i,onBlur:c,value:t.lastName}),n.lastName&&r.lastName&&l.a.createElement("div",{className:a.inputErrors},n.lastName)),l.a.createElement(I.h,{margin:"normal",fullWidth:!0},l.a.createElement(I.j,{htmlFor:"username"},"Contrase\xf1a"),l.a.createElement(I.i,{type:"password",name:"password",onChange:i,onBlur:c,value:t.password}),n.password&&r.password&&l.a.createElement("div",{className:a.inputErrors},n.password)),l.a.createElement(I.h,{margin:"normal",fullWidth:!0},l.a.createElement(I.j,{htmlFor:"username"},"Confirmar contrase\xf1a"),l.a.createElement(I.i,{type:"password",name:"passwordConfirmation",onChange:i,onBlur:c,value:t.passwordConfirmation}),n.passwordConfirmation&&r.passwordConfirmation&&l.a.createElement("div",{className:a.inputErrors},n.passwordConfirmation)),l.a.createElement("div",{className:"buttonHolder"},l.a.createElement(I.b,{variant:"contained",color:"primary",className:a.submit,type:"submit",disabled:o},"Crear cuenta"),n.error&&l.a.createElement("div",{className:a.inputErrors},n.error)))}}))))})),P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then(function(e){a.setState({username:t,password:n,error:!1}),a.props.getUser(e),a.props.history.push("/")}).catch(function(e){console.log(e.message),a.setState({username:t,password:n,error:!0})})},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(E.a)({},n,l))},a.state={username:"",password:""},a.service=new y,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return l.a.createElement("div",{className:"access-holder"},l.a.createElement("div",{className:"entry"}),l.a.createElement("div",{className:"access-window"},l.a.createElement("div",{className:"logo-access"}),l.a.createElement("div",{className:"user-credentials"},l.a.createElement("p",{className:"access-window-title"},"Bienvenido de nuevo."),l.a.createElement("p",{className:"access-window-subtitle"},"No tienes una cuenta? ",l.a.createElement(f.a,{to:"/signup"},"registrate aqui!")),l.a.createElement("form",{className:t.form,onSubmit:this.handleFormSubmit},l.a.createElement(I.h,{margin:"normal",required:!0,fullWidth:!0},l.a.createElement(I.j,{htmlFor:"username"},"Usuario"),l.a.createElement(I.i,{id:"username",name:"username",autoComplete:"username",autoFocus:!0,value:this.state.username,onChange:function(t){return e.handleChange(t)}})),l.a.createElement(I.h,{margin:"normal",required:!0,fullWidth:!0},l.a.createElement(I.j,{htmlFor:"password"},"Contrase\xf1a"),l.a.createElement(I.i,{name:"password",type:"password",id:"password",autoComplete:"current-password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),l.a.createElement(I.b,{type:"submit",fullWidth:!0,variant:"contained",className:t.submit},"Ingresar")),l.a.createElement("h1",null,this.state.error?"Error":""))))}}]),t}(n.Component),x=Object(h.a)(S()(function(e){return{main:Object(E.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit,border:"1px solid red"},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{height:"500px",marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit,backgroundColor:"#0F1433",color:"#F2F5F7",fontWeight:500,"&:hover":{backgroundColor:"#011D66",color:"#F2F5F7"}}}})(P));a(66).config();var L=function e(){var t=this;Object(i.a)(this,e),this.updateAccount=function(e,a,n,l,r,c,i,s,o,m,u,d){return console.log(e),t.service.patch("/update/".concat(e),{firstName:a,lastName:n,nationalId:l,cellphoneNumber:r,city:c,zipCode:i,street:s,email:o,bank:m,accountNumber:u,monthlyIncome:d}).then(function(e){return e.data})},this.createAccount=function(e,a,n,l,r,c,i,s,o,m,u,d,p,h,E,v,f,g,N,b,y,C,S,I,O,D,P,x,L,w,F,k,T,A){return t.service.post("/",{fullName:e,firstName:a,lastName:n,gender:l,civilStatus:r,nationalId:c,nationality:i,otherNationalities:s,placeOfBirth:o,DOB:m,immigrationCertificate:u,academicLevel:d,Occupation:p,spouseFullName:h,spouseNationalId:E,spouseDOB:v,spousePlaceOfBirth:f,street:g,residenceName:N,residenceNumber:b,city:y,country:C,cellphoneNumber:S,email:I,employmentStatus:O,businessName:D,businessAddress:P,businessPosition:x,startDate:L,businessPhoneNumber:w,businessEmail:F,monthlyIncome:k,otherIncome:T,borrowerStatus:A}).then(function(e){return e.data})},this.getClients=function(e,a){return t.service.get("/all-clients/".concat(e,"/").concat(a)).then(function(e){return e.data})},this.getClient=function(e){return t.service.get("/detail/".concat(e)).then(function(e){return e.data})},this.getInvAccounts=function(){return t.service.get("/get-accounts").then(function(e){return e.data})},this.service=b.a.create({baseURL:"".concat("https://ribo-cap.herokuapp.com","/api/test/client"),withCredentials:!0})},w=a(13),F=a(7),k=a.n(F),T=a(29),A={gender:"MALE",civilStatus:"SINGLE",DOB:"1990-01-01",academicLevel:"MIDDLESCHOOL",spouseDOB:"1990-01-01",country:"PERU",employmentStatus:"EMPLOYED",startDate:"2015-01-01",firstName:null,lastName:null,nationalId:null,nationality:null,otherNationalities:null,placeOfBirth:null,immigrationCertificate:null,Occupation:null,spouseFullName:null,spouseNationalId:null,spousePlaceOfBirth:null,street:null,residenceName:null,residenceNumber:null,city:null,cellphoneNumber:null,email:null,businessName:null,businessAddress:null,businessPosition:null,businessPhoneNumber:null,businessEmail:null,monthlyIncome:null,otherIncome:null},j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.state.firstName+" "+a.state.lastName,n=a.state.firstName,l=a.state.lastName,r=a.state.gender,c=a.state.civilStatus,i=a.state.nationalId,s=a.state.nationality,o=a.state.otherNationalities,m=a.state.placeOfBirth,u=a.state.DOB,d=a.state.immigrationCertificate,p=a.state.academicLevel,h=a.state.Occupation,E=a.state.spouseFullName,v=a.state.spouseNationalId,f=a.state.spouseDOB,g=a.state.spousePlaceOfBirth,N=a.state.street,b=a.state.residenceName,y=a.state.residenceNumber,C=a.state.city,S=a.state.country,I=a.state.cellphoneNumber,O=a.state.email,D=a.state.employmentStatus,P=a.state.businessName,x=a.state.businessAddress,L=a.state.businessPosition,w=a.state.startDate,F=a.state.businessPhoneNumber,k=a.state.businessEmail,T=a.state.monthlyIncome,A=a.state.otherIncome;a.service.createAccount(t,n,l,r,c,i,s,o,m,u,d,p,h,E,v,f,g,N,b,y,C,S,I,O,D,P,x,L,w,F,k,T,A).then(function(e){console.log(e),"success"===e.status&&a.setState({firstName:null,lastName:null,status:"success",gender:"MALE",civilStatus:"SINGLE",DOB:"1990-01-01",academicLevel:"MIDDLESCHOOL",spouseDOB:"1990-01-01",country:"PERU",employmentStatus:"EMPLOYED",startDate:"2015-01-01",fullName:null,nationalId:null,nationality:null,otherNationalities:null,placeOfBirth:null,immigrationCertificate:null,Occupation:null,spouseFullName:null,spouseNationalId:null,spousePlaceOfBirth:null,street:null,residenceName:null,residenceNumber:null,city:null,cellphoneNumber:null,email:null,businessName:null,businessAddress:null,businessPosition:null,businessPhoneNumber:null,businessEmail:null,monthlyIncome:null,otherIncome:null})}).then({status:"success"}).catch(function(e){a.setState({error:e})})},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(E.a)({},n,l))},a.state=A,a.service=new L,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onKeyPress",value:function(e){13===e.which&&e.preventDefault()}},{key:"reset",value:function(){this.setState(A)}},{key:"render",value:function(){var e=this,t=this.props.classes;return l.a.createElement("div",{className:"contentForm"},l.a.createElement("div",{className:"formHeaderHolder"},l.a.createElement("div",{className:"formHeader"},l.a.createElement("h1",null,l.a.createElement("b",null,"CREACI\xd3N DE NUEVA CUENTA")))),l.a.createElement("div",{className:"formSectionHolder"},l.a.createElement("div",{className:"formTitleHolder"},l.a.createElement("p",null,l.a.createElement("b",null,"Informaci\xf3n General:"))),l.a.createElement("div",{className:"formInputsHolder"},l.a.createElement("div",null,l.a.createElement(k.a,{label:"Nombres",value:this.state.firstName||"",name:"firstName",onChange:function(t){return e.handleChange(t)},type:"text",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",required:!0}),l.a.createElement(k.a,{label:"Apellidos",value:this.state.lastName||"",name:"lastName",onChange:function(t){return e.handleChange(t)},type:"text",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",required:!0})),l.a.createElement("div",null,l.a.createElement(k.a,{id:"date",name:"DOB",label:"Fecha de Nacimiento",type:"date",defaultValue:"1990-01-01",onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",required:!0}),l.a.createElement(k.a,{name:"placeOfBirth",label:"Lugar de Nacimiento",type:"text",value:this.state.placeOfBirth||"",onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",required:!0}),l.a.createElement(k.a,{name:"cellphoneNumber",label:"N\xfamero de Tel\xe9fono",type:"number",value:this.state.cellphoneNumber||"",onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",required:!0}),l.a.createElement(k.a,{name:"email",label:"Correo Electr\xf3nico",type:"email",value:this.state.email||"",onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",required:!0})),l.a.createElement("div",null,l.a.createElement(k.a,{select:!0,className:t.textField,name:"gender",value:this.state.gender?this.state.gender:"",onChange:function(t){return e.handleChange(t)},SelectProps:{native:!0,MenuProps:{className:t.menu}},label:"G\xe9nero",margin:"normal",required:!0},T.gender.map(function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)})),l.a.createElement(k.a,{select:!0,className:t.textField,name:"civilStatus",value:this.state.civilStatus,onChange:function(t){return e.handleChange(t)},SelectProps:{native:!0,MenuProps:{className:t.menu}},label:"Estado civil",margin:"normal"},T.civilStatus.map(function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)}))),l.a.createElement("div",null,l.a.createElement(k.a,{name:"nationalId",label:"DNI / C\xe9dula / Pasaporte",type:"text",value:this.state.nationalId||"",onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",required:!0}),l.a.createElement(k.a,{name:"nationality",label:"Nacionalidad",type:"text",value:this.state.nationality||"",onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",required:!0}),l.a.createElement(k.a,{label:"Otra Nacionalidad",name:"otherNationalities",type:"text",value:this.state.otherNationalities||"",onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{name:"immigrationCertificate",label:"Certificado Migratorio",type:"text",value:this.state.immigrationCertificate||"",onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"})),l.a.createElement("div",null,l.a.createElement(k.a,{select:!0,className:t.textField,name:"academicLevel",value:this.state.academicLevel,onChange:function(t){return e.handleChange(t)},SelectProps:{native:!0,MenuProps:{className:t.menu}},label:"Nivel acad\xe9mico",margin:"normal"},T.academicLevel.map(function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)}))))),l.a.createElement("div",{className:"formSectionHolder"},l.a.createElement("div",{className:"formTitleHolder"},l.a.createElement("p",null,l.a.createElement("b",null,"Datos del conyug\xe9:"))),l.a.createElement("div",{className:"formInputsHolder"},l.a.createElement("div",null,l.a.createElement(k.a,{label:"Nombre completo",value:this.state.spousefullName||"",name:"spouseFullName",onChange:function(t){return e.handleChange(t)},type:"text",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{id:"date",name:"spouseDOB",label:"Fecha de Nacimiento",type:"date",defaultValue:"1990-01-01",value:this.state.spouseDOB,onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{label:"Documento de Identidad",value:this.state.spouseNationalId||"",name:"spouseNationalId",onChange:function(t){return e.handleChange(t)},type:"text",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{label:"Lugar de Nacimiento",value:this.state.spousePlaceOfBirth||"",name:"spousePlaceOfBirth",onChange:function(t){return e.handleChange(t)},type:"text",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"})))),l.a.createElement("div",{className:"formSectionHolder"},l.a.createElement("div",{className:"formTitleHolder"},l.a.createElement("p",null,l.a.createElement("b",null,"Datos del domicilio:"))),l.a.createElement("div",{className:"formInputsHolder"},l.a.createElement("div",null,l.a.createElement(k.a,{label:"Calle",value:this.state.street,name:"street",onChange:function(t){return e.handleChange(t)||""},type:"text",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",required:!0}),l.a.createElement(k.a,{label:"Residencia / Condominio",value:this.state.residenceName,name:"residenceName",onChange:function(t){return e.handleChange(t)||""},type:"text",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{label:"# de Apto o Casa",value:this.state.residenceNumber,name:"residenceNumber",onChange:function(t){return e.handleChange(t)||""},type:"text",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",required:!0})),l.a.createElement("div",null,l.a.createElement(k.a,{label:"Ciudad",value:this.state.city,name:"city",onChange:function(t){return e.handleChange(t)||""},type:"text",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",required:!0}),l.a.createElement(k.a,{select:!0,label:"Pa\xeds",value:this.state.country,name:"country",onChange:function(t){return e.handleChange(t)||""},className:t.textField,SelectProps:{native:!0,MenuProps:{className:t.menu}},margin:"normal",required:!0},T.countries.map(function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)}))))),l.a.createElement("div",{className:"formSectionHolder"},l.a.createElement("div",{className:"formTitleHolder"},l.a.createElement("p",null,l.a.createElement("b",null,"Datos laborales:"))),l.a.createElement("div",{className:"formInputsHolder"},l.a.createElement("div",null,l.a.createElement(k.a,{select:!0,className:t.textField,name:"employmentStatus",value:this.state.employmentStatus,onChange:function(t){return e.handleChange(t)||""},SelectProps:{native:!0,MenuProps:{className:t.menu}},label:"Estatus laboral",margin:"normal",required:!0},T.employmentStatus.map(function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)})),l.a.createElement(k.a,{label:"Empresa",value:this.state.businessName,name:"businessName",onChange:function(t){return e.handleChange(t)||""},type:"text",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{id:"date",name:"startDate",label:"Fecha de Inicio",type:"date",defaultValue:"2015-01-01",onChange:function(t){return e.handleChange(t)||""},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{label:"Posici\xf3n",value:this.state.businessPosition,name:"businessPosition",onChange:function(t){return e.handleChange(t)||""},type:"text",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{label:"Direccion de la Empresa",value:this.state.businessAddress,name:"businessAddress",onChange:function(t){return e.handleChange(t)||""},type:"text",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement("div",null,l.a.createElement(k.a,{label:"# de tel\xe9fono",value:this.state.businessPhoneNumber,name:"businessPhoneNumber",onChange:function(t){return e.handleChange(t)||""},type:"text",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{label:"Correo Electr\xf3nico",value:this.state.businessEmail,name:"businessEmail",onChange:function(t){return e.handleChange(t)||""},type:"email",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"})),l.a.createElement(k.a,{label:"Ingreso Mensual",value:this.state.monthlyIncome,name:"monthlyIncome",onChange:function(t){return e.handleChange(t)||""},type:"number",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",required:!0}),l.a.createElement(k.a,{label:"Otros ingresos",value:this.state.otherIncome,name:"otherIncome",onChange:function(t){return e.handleChange(t)||""},type:"number",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"})))),l.a.createElement("div",{className:"formSectionHolder"},l.a.createElement("div",{className:"formLastSubmitHolder"}),l.a.createElement("div",{className:"formSubmitHolder"},"success"===this.state.status?l.a.createElement("div",{className:"alert alert-success",role:"alert"},"Cuenta creada exitosamente!"):"",this.state.error?l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"La cuenta no pudo ser creada, reintente nuevamente!"):"",l.a.createElement("button",{onClick:this.handleSubmit,className:"btn btn-info"},"Crear Cuenta"))))}}]),t}(n.Component),M=Object(w.withStyles)(function(e){return{name:{width:440},citizenInfo:{width:300},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:330},formControl:{margin:e.spacing.unit}}})(j),_=a(34),R=a.n(_),U=a(36),Y=a.n(U),B=a(39),G=a.n(B),W=a(35),H=a.n(W),q=a(26),z=a.n(q),$=a(27),V=a.n($),X=a(6),Z=a.n(X),K=Object(w.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}})(G.a);var J=Object(w.withStyles)(function(e){return{root:{width:1e3,marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(function(e){var t=e.classes,a=e.data;return l.a.createElement(V.a,{className:t.root},l.a.createElement(R.a,{className:t.table},l.a.createElement(H.a,null,l.a.createElement(z.a,null,l.a.createElement(K,null,"Clientes"),l.a.createElement(K,null),l.a.createElement(K,null),l.a.createElement(K,null))),l.a.createElement(Y.a,null,a.map(function(e,a){return l.a.createElement(z.a,{className:t.row,key:a},l.a.createElement(K,{align:"left"},l.a.createElement("div",{className:"client-summary"},l.a.createElement("h4",null,l.a.createElement(f.a,{to:"/admin/client/".concat(e._id)},e.firstName+" "+e.lastName)),l.a.createElement("p",null,"Pais: ",e.country),l.a.createElement("p",null,"Desde: ",Z()(e.created_at).format("YYYY-MM-DD")))),l.a.createElement(K,{align:"left"},l.a.createElement("div",{className:"client-summary"},l.a.createElement("h4",null,"Prestamos"),l.a.createElement("p",null,"Activos: ",e.loans.filter(function(e){return"open"===e.status}).length),l.a.createElement("p",null,"Total:",e.loans.length))),l.a.createElement(K,{align:"left"},l.a.createElement("div",{className:"client-summary"},l.a.createElement("p",null,"Prestado: ",e.loans.filter(function(e){return"open"===e.status}).reduce(function(e,t){return e+t.capital},0).toLocaleString("en-GB",{style:"currency",currency:"USD"})),l.a.createElement("p",null,"Activo:   ",e.loans.reduce(function(e,t){return e+t.capital},0).toLocaleString("en-GB",{style:"currency",currency:"USD"})))),l.a.createElement(K,{align:"left"},l.a.createElement("div",{className:"client-summary"},l.a.createElement("p",null,"Amortizado: ",parseInt(e.loans.reduce(function(e,t){return e+(t.totalPaid?t.totalPaid:0)},0)).toLocaleString("en-GB",{style:"currency",currency:"USD"})),l.a.createElement("p",null,"Por pagar:  ",(parseInt(e.loans.reduce(function(e,t){return e+t.capital},0))-parseInt(e.loans.reduce(function(e,t){return e+(t.totalPaid?t.totalPaid:0)},0))).toLocaleString("en-GB",{style:"currency",currency:"USD"})))))}))))}),Q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={clients:[],getClients:!1},a.service=new L,a.handleChange=function(e){var t,n=e.target,l=n.name,r=n.value;""===r?a.setState({getClients:!1,clients:[]}):a.setState((t={},Object(E.a)(t,l,r),Object(E.a)(t,"getClients",!0),t))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"fetchClients",value:function(){var e=this;this.service.getClients(this.props.userLocation,this.state.inputValue).then(function(t){e.setState({getClients:!1,clients:t})}).catch(function(t){e.setState({clients:!1,getClients:!1})})}},{key:"onKeyPress",value:function(e){13===e.which&&this.fetchClients()}},{key:"render",value:function(){var e=this,t=this.state.clients;return l.a.createElement("div",{className:"content"},l.a.createElement("div",{class:"input-group mb-3 search-bar"},l.a.createElement("div",{class:"input-group-prepend"},l.a.createElement("span",{class:"input-group-text",id:"basic-addon1"},"Buscar cliente")),l.a.createElement("input",{type:"text",name:"inputValue",onKeyDown:function(t){return e.onKeyPress(t)},onChange:function(t){return e.handleChange(t)},class:"form-control","aria-label":"Username","aria-describedby":"basic-addon1"})),t.length>0?l.a.createElement(J,{data:t}):"")}}]),t}(n.Component);a(66).config();var ee=function e(){var t=this;Object(i.a)(this,e),this.getLoanDetails=function(){return t.service.get("/").then(function(e){return e.data})},this.getLoanCompleteDetails=function(e){return t.service.get("/complete-details/".concat(e)).then(function(e){return e.data})},this.getPeriodSchedule=function(e,a,n){return t.service.get("/schedule/".concat(e,"/").concat(a,"/").concat(n)).then(function(e){return e.data})},this.getPortfolioStatus=function(e,a,n){return t.service.get("/portfolio-status/".concat(e,"/").concat(a,"/").concat(n)).then(function(e){return e.data})},this.getOpenLoanDetails=function(){return t.service.get("/open").then(function(e){return e.data})},this.getLoanSchedule=function(e){return t.service.get("/loanschedule/".concat(e),{loanId:e}).then(function(e){return e.data})},this.getWeekSchedule=function(){return t.service.get("/current-week").then(function(e){return e.data})},this.createLoan=function(e,a,n,l,r,c,i,s,o,m,u,d,p){return t.service.post("/create",{_borrower:e,collateralType:a,collateralValue:n,collateralDescription:l,period:r,startDate:c,paymentDate:i,duration:s,capital:o,interest:m,loanType:u,useOfFunds:d,toInvest:p}).then(function(e){return e.data})},this.makePayment=function(e){return t.service.patch("/installmentpmt/".concat(e.paymentId),{payment:e}).then(function(e){return e.data})},this.deletePayment=function(e){return t.service.delete("/deletepmt/".concat(e)).then(function(e){return e.data})},this.deleteLoan=function(e){return t.service.delete("/".concat(e)).then(function(e){return e.data})},this.service=b.a.create({baseURL:"".concat("https://ribo-cap.herokuapp.com","/api/test/loan"),withCredentials:!0})},te=a(267),ae=a.n(te),ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(E.a)({},n,l))},a.handleChangeFees=function(e){var t=e.target.value,n=a.fees[t].fee;a.setState({fee:n})},a.openPaymentOption=function(e,t,n,l,r){e.preventDefault(),a.setState({openPayment:!0,date:new Date(t).toISOString().substring(0,10),interestToPay:n.toFixed(5),capitalToPay:l.toFixed(5),paymentId:r})},a.closePaymentOption=function(e){e.preventDefault(),a.setState({openPayment:!1,date:null,interestToPay:null,capitalToPay:null,paymentId:null})},a.fees=[{text:"Patricia 33.3%",fee:[{admin:"5c8103c1cf81366c6c0f1337",fee:.333333333}]},{text:"Patricia 45%, Miguel 10%",fee:[{admin:"5c8103c1cf81366c6c0f1337",fee:.45},{admin:"5c8103d8cf81366c6c0f1339",fee:.1}]},{text:"Patricia 30%, Miguel 10%",fee:[{admin:"5c8103c1cf81366c6c0f1337",fee:.3},{admin:"5c8103d8cf81366c6c0f1339",fee:.1}]},{text:"Patricia 50%",fee:[{admin:"5c8103c1cf81366c6c0f1337",fee:.5}]},{text:"Miguel 10%",fee:[{admin:"5c80fd19a5b4b86c15c18b8c",fee:.1}]},{text:"Carrillo 30%, Miguel 10%",fee:[{admin:"5cbded7d396ebf05b289cbbe",fee:.3},{admin:"5c8103d8cf81366c6c0f1339",fee:.1}]}],a.makePayment=function(e,t,n,l,r,c,i){a.service.makePayment(t,n,l,r,c,i).then(function(e){a.fetchLoanSchedule()}).then(function(){"world"!==a.props.location?a.fetchLoans():a.fetchOpenLoans()}).then(function(){a.setState({openPayment:!1,accounts:["PLPERU","REMPERU","GCUS","GFUS","GCDR"],feeDistribution:[{participants:"P",text:"Patricia 33.33%"},{participants:"PG",text:"Patricia 50%"},{participants:"PM",text:"Patricia 30%, Miguel 10%"},{participants:"GPM",text:"Patricia 45%, Miguel 10%"},{participants:"M",text:"Miguel 10%"}],paymentId:null,cashAccount:null,date:null,capitalToPay:null,interestToPay:null,fee:[]})}).catch(function(e){a.setState({loanSchedule:!1})})},a.deletePayment=function(e){a.service.deletePayment(e).then(function(e){a.fetchOpenLoans(),a.fetchLoanSchedule(),a.setState({openPayment:!1,paymentId:null,cashAccount:null,date:null,capital:null,interest:null,fee:[]})}).catch(function(e){a.setState({loanSchedule:!1})})},a.state={loanId:"",accounts:["PLPERU","REMPERU","GCUS","GFUS","GCDR"],feeDistribution:[{participants:"P",text:"Patricia 33.33%"},{participants:"PG",text:"Patricia 50%"},{participants:"PM",text:"Patricia 30%, Miguel 10%"},{participants:"GPM",text:"Patricia 45%, Miguel 10%"},{participants:"M",text:"Miguel 10%"},{participants:"MC",text:"Miguel 10% Carrillo 30%"}],paymentId:null,cashAccount:null,interestToPay:0,capitalToPay:0,totalToPay:0,date:null,capital:null,interest:null,loans:[],openPayment:!1,fee:[]},a.service=new ee,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"fetchOpenLoans",value:function(){var e=this;0===this.state.loans.length&&this.service.getOpenLoanDetails().then(function(t){"peru"===e.props.location.toLowerCase()&&(t=t.filter(function(e){return"peru"===e._borrower.country.toLowerCase()})),e.setState({loans:t})}).catch(function(t){e.setState({loans:!1})})}},{key:"fetchLoans",value:function(){var e=this;0===this.state.loans.length&&this.service.getLoanDetails().then(function(t){e.setState({loans:t})}).catch(function(t){e.setState({loans:!1})})}},{key:"fetchLoanSchedule",value:function(e){var t=this;e&&e.preventDefault();var a=this.state.loanId;this.service.getLoanSchedule(a).then(function(e){t.setState({loanSchedule:e})}).catch(function(e){t.setState({loanSchedule:!1})})}},{key:"render",value:function(){var e=this;return"world"===this.props.location.toLowerCase()?this.fetchLoans():this.fetchOpenLoans(),l.a.createElement("div",{className:"content"},l.a.createElement("h2",{className:"display-6"},"Pago de prestamo:"),l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement("div",{className:"form-row input-row-aligner"},l.a.createElement("div",{className:"form-group col-md-4"},l.a.createElement("label",null,"Prestamo:"),l.a.createElement("select",{className:"form-control",name:"loanId",id:"loanId",value:this.state.loanId,onChange:function(t){return e.handleChange(t)}},0===this.state.loans.length?l.a.createElement("option",null,"loading..."):l.a.createElement("option",null,"Seleccione un prestamo"),this.state.loans.length>0?this.state.loans.map(function(e){return l.a.createElement("option",{key:e._id,value:e._id},e._borrower.fullName," - ",e.capital)}):"")),l.a.createElement("div",{className:"form-group col-md-4"},l.a.createElement("label",null,"Numero de Prestamo:"),l.a.createElement("input",{className:"form-control",type:"text",step:"any",name:"loanId",value:this.state.loanId,disabled:!0})),l.a.createElement("div",{className:"form-group col-md-2 "},l.a.createElement("button",{className:"btn btn-info",onClick:function(t){return e.fetchLoanSchedule(t)}},"Cronograma de pago")))),!0===this.state.openPayment?l.a.createElement("div",null,l.a.createElement("div",{className:"form-row input-row-aligner"},l.a.createElement("div",{className:"form-group col-md-4"},l.a.createElement("label",null,"Intereses a pagar:"),l.a.createElement("input",{className:"form-control",type:"number",step:"any",name:"interestToPay",value:this.state.interestToPay,onChange:function(t){return e.handleChange(t)}})),l.a.createElement("div",{className:" form-group col-md-4"},l.a.createElement("label",null,"Capital a pagar:"),l.a.createElement("input",{className:"form-control",type:"number",step:"any",name:"capitalToPay",value:this.state.capitalToPay,onChange:function(t){return e.handleChange(t)}}))),l.a.createElement("div",{className:"form-row input-row-aligner"},l.a.createElement("div",{className:"form-group col-md-4",id:"account_holder"},l.a.createElement("label",null,"Cuenta a depositar:"),l.a.createElement("select",{className:"form-control",name:"cashAccount",id:"cashAccount",value:this.state.cashAccount,onChange:function(t){return e.handleChange(t)}},l.a.createElement("option",null,"Seleccione una cuenta"),this.state.accounts.map(function(e){return l.a.createElement("option",{value:e},e)}))),l.a.createElement("div",{className:"form-group col-md-4"},l.a.createElement("label",null,"Fecha de pago"),l.a.createElement("input",{type:"date",className:"form-control",id:"date",name:"date",value:this.state.date,onChange:function(t){return e.handleChange(t)}})),l.a.createElement("div",{className:"form-group col-md-4",id:"account_holder"},l.a.createElement("label",null,"Distribucion de fees:"),l.a.createElement("select",{className:"form-control",name:"feeIndex",id:"feeIndex",value:this.state.feeIndex,onChange:function(t){return e.handleChangeFees(t)}},l.a.createElement("option",null,"Seleccione una opci\xf3n:"),this.fees.map(function(t,a){return l.a.createElement("option",{value:a,onChange:e.handleChangeFees},t.text)})))),l.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(t){return e.makePayment(t,e.state.date,e.state.capitalToPay,e.state.interestToPay,e.state.paymentId,e.state.cashAccount,e.state.fee)}},"Pagar"),l.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(t){return e.closePaymentOption(t)}},"Cancelar")):"",this.state.loanSchedule?l.a.createElement("table",{className:"table table-striped table-hover table-condensed payment-schedule"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"tracking"),l.a.createElement("th",{scope:"col"},"Fecha de Pago"),l.a.createElement("th",{scope:"col"},"Interes"),l.a.createElement("th",{scope:"col"},"Capital"),l.a.createElement("th",{scope:"col"},"Cuota"),l.a.createElement("th",{scope:"col"},"Balance"),l.a.createElement("th",{scope:"col"},"Pago Capital"),l.a.createElement("th",{scope:"col"},"Pago Intereses"),l.a.createElement("th",{scope:"col"},"Pagar"))),l.a.createElement("tbody",null,this.state.loanSchedule.map(function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("th",{scope:"row"},a),l.a.createElement("td",null,t.tracking),l.a.createElement("td",null,l.a.createElement(ae.a,{format:"YYYY-MM-DD"},t.date)),l.a.createElement("td",null,parseFloat(t.interest).toFixed(2)),l.a.createElement("td",null,parseFloat(t.principal).toFixed(2)),l.a.createElement("td",null,parseFloat(t.payment).toFixed(2)),l.a.createElement("td",null,parseFloat(t.balance).toFixed(2)),isNaN(parseFloat(t.principal_pmt))?l.a.createElement("td",null,"0"):l.a.createElement("td",null," ",parseFloat(t.principal_pmt).toFixed(2)," "),isNaN(parseFloat(t.interest_pmt))?l.a.createElement("td",null,"0"):l.a.createElement("td",null," ",parseFloat(t.interest_pmt).toFixed(2)," "),l.a.createElement("td",null,parseFloat(t.principal_pmt)>0||parseFloat(t.interest_pmt)>0||0===parseFloat(a)?0!==parseFloat(a)?l.a.createElement("i",{class:"material-icons",onClick:function(a){return e.deletePayment(t._id)}},"delete_sweep"):"":l.a.createElement("i",{class:"material-icons",onClick:function(a){return e.openPaymentOption(a,t.date,t.interest,t.principal,t._id)}},"add_circle")))}))):"")}}]),t}(n.Component),le=a(273);a(66).config();var re=function e(){var t=this;Object(i.a)(this,e),this.transactionInvestor=function(e,a,n,l,r,c,i){return t.service.post("/",{_investor:e,cashAccount:a,concept:n,debit:l,credit:r,date:c,comment:i}).then(function(e){return e.data})},this.getLoanInvestorDetails=function(e){return t.service.get("/loaninvestordetails/".concat(e)).then(function(e){return e.data})},this.getInvestorTransactions=function(e){return t.service.get("/list/".concat(e)).then(function(e){return e.data})},this.getInvestorsAvailability=function(e){return t.service.get("/totals/".concat(e)).then(function(e){return e.data})},this.service=b.a.create({baseURL:"".concat("https://ribo-cap.herokuapp.com","/api/test/transaction"),withCredentials:!0})};var ce=function(e){var t=e.loanSchedule;return l.a.createElement("div",{className:"loan-schedule-holder",style:{margin:"0 auto"}},l.a.createElement("div",{className:"loan-schedule-head "},l.a.createElement("div",{className:"detail-schedule head-date"},l.a.createElement("p",{className:"title"},"FECHA")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"INTERES")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"CAPITAL")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"CUOTA")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"STATUS"))),t.map(function(e,t){return l.a.createElement("div",{key:t,className:"loan-schedule-content"},l.a.createElement("div",{className:"detail-schedule details-date"},l.a.createElement("p",{className:"acc-total"},Z()(e.date).format("YY-MM-DD"))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.interest.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.principal.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},(e.interest+e.principal).toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.status)))}))},ie=a(58),se=a.n(ie),oe=a(101),me=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.fetchAccountsTotals();var e=a.props.match.params.clientId;a.setState({_id:e})},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state._id,n=a.state.collateralType,l=parseFloat(a.state.collateralValue),r=a.state.collateralDescription,c=a.state.loanPeriod,i=a.state.startDate,s=a.state.paymentDate,o=parseFloat(a.state.loanDuration),m=parseFloat(a.state.loanAmount),u=parseFloat(a.state.loanInterest),d=a.state.loanType,p=a.state.useOfFunds,h=a.state.investors;console.log(u),a.LoanService.createLoan(t,n,l,r,c,i,s,o,m,u,d,p,h).then(function(e){a.props.history.push("/admin/loan/".concat(e._id))}).catch(function(e){a.setState({error:e})})},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;"loanType"===n&&"linearIntFirst"===l?a.setState({loanType:l,openPaymentDate:!0}):"loanType"===n&&"linearIntFirst"!==l?a.setState({loanType:l,openPaymentDate:!1}):a.setState(Object(E.a)({},n,l))},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleSelectedInvestor=function(e){var t=e.target,n=t.name,l=t.value,r=a.state.accounts.map(function(e){return e._id}).indexOf(l);a.setState(Object(E.a)({},n,l)),a.setState({investorAvailability:parseFloat(a.state.accounts[r].accumTotal)})},a.handleInvestment=function(e){var t=e.target,n=t.name,l=t.value;console.log(l),isNaN(l)&&(l=0);var r=a.state.accounts.map(function(e){return e._id}).indexOf(a.state.investor),c=parseFloat(a.state.accounts[r].accumTotal)-parseFloat(l),i=parseFloat(l)/parseFloat(a.state.loanAmount);a.setState(Object(E.a)({},n,l)),a.setState({investorAvailability:c}),a.setState({pct:i})},a.handleNewInvestor=function(){var e=a.state.investor,t=parseFloat(a.state.investmentAmount),n=a.state.pct,l=a.state.cashAccount;a.setState({investors:[].concat(Object(le.a)(a.state.investors),[{_investor:e,amount:t,pct:n,cashAccount:l}]),investor:"",investorAvailability:0,pct:0,investmentAmount:0})},a.deleteInvestor=function(e){var t=a.state.investors;t.splice(e,1),a.setState({investors:t})},a.calcLoanSchedule=function(){var e=a.state,t=e._id,n=e.loanPeriod,l=e.loanDuration,r=e.loanInterest,c=e.loanAmount,i=e.startDate,s=e.paymentDate;if(console.log("aqui",a.state.loanType),"linear"===a.state.loanType){var o=Object(oe.linearLoan)(t,n,l,r,c,i);a.setState({loanSchedule:o,open:!0})}else if("lumpSum"===a.state.loanType){var m=Object(oe.lumpSumLoan)(t,n,l,r,c,i);a.setState({loanSchedule:m,open:!0})}else if("linearIntFirst"===a.state.loanType){console.log("aqui");var u=Object(oe.linearLoanIntFirst)(t,n,l,r,c,i,s);a.setState({loanSchedule:u,open:!0})}else if("payDay"===a.state.loanType){var d=Object(oe.payDayLoan)(t,n,l,r,c,i);a.setState({loanSchedule:d,open:!0})}},a.state=T.loanInitialState,a.ClientService=new L,a.TransactionService=new re,a.LoanService=new ee,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"fetchAccountsTotals",value:function(){var e=this;if(!this.state.accounts){var t=this.props.userLocation;console.log(t),this.TransactionService.getInvestorsAvailability(t).then(function(t){e.setState({accounts:t})}).catch(function(t){e.setState({accounts:!1})})}}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"content"},l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement("div",{className:"form-row general-loan-details"},l.a.createElement("div",{className:"card col-md-6"},l.a.createElement("div",{class:"card-body"},l.a.createElement("h5",{class:"card-title"},"Datos b\xe1sicos"),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("label",null,"Uso de los fondos:"),l.a.createElement("input",{className:"form-control",type:"text",step:"any",name:"useOfFunds",value:this.state.useOfFunds,onChange:function(t){return e.handleChange(t)},required:!0}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Colateral:"),l.a.createElement("select",{className:"form-control",name:"collateralType",value:this.state.collateralType,onChange:function(t){return e.handleChange(t)},required:!0},l.a.createElement("option",{value:"NoCollateral"},"Sin Colateral"),l.a.createElement("option",{value:"automobiles"},"Autom\xf3vil"),l.a.createElement("option",{value:"electronic_items"},"Equipos electronicos"),l.a.createElement("option",{value:"insurance_policies"},"Poliza de Seguro"),l.a.createElement("option",{value:"investments"},"Inversiones"),l.a.createElement("option",{value:"machinery_and_equipment"},"Maquinaria y Equipos"),l.a.createElement("option",{value:"real_estate"},"Bienes Raices"),l.a.createElement("option",{value:"valuables_and_collectibles"},"Valuables y coleccionables"))),l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Valor del Colateral:"),l.a.createElement("input",{className:"form-control",type:"number",step:"any",name:"collateralValue",value:this.state.collateralValue,onChange:function(t){return e.handleChange(t)},required:!0}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{form:"collateral_description"},"Descripci\xf3n del Colateral"),l.a.createElement("textarea",{className:"form-control col-md-12",name:"collateralDescription",id:"collateralDescription",rows:"4",value:this.state.collateralDescription,onChange:function(t){return e.handleChange(t)}}))))),l.a.createElement("div",{className:"form-row general-loan-details"},l.a.createElement("div",{className:"card col-md-6"},l.a.createElement("div",{class:"card-body"},l.a.createElement("h5",{class:"card-title"},"Detalles del prestamo"),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Fecha de Inicio"),l.a.createElement("input",{type:"date",className:"form-control",id:"startDate",name:"startDate",value:this.state.startDate,onChange:function(t){return e.handleChange(t)},required:!0})),l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Frequencia:"),l.a.createElement("select",{id:"loan_type",className:"form-control",name:"loanPeriod",value:this.state.loanPeriod,onChange:function(t){return e.handleChange(t)},required:!0},l.a.createElement("option",{defaultValue:"monthly"},"Mensual"),l.a.createElement("option",{value:"biWeekly"},"Quincenal"),l.a.createElement("option",{value:"payDay"},"Dia de pago")))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Esquema:"),l.a.createElement("select",{id:"loan_type",className:"form-control",name:"loanType",value:this.state.loanType,onChange:function(t){return e.handleChange(t)},required:!0},l.a.createElement("option",{value:"linear"},"Pagos Iguales"),l.a.createElement("option",{value:"linearIntFirst"},"Interest + Pagos Iguales"),l.a.createElement("option",{value:"payDay"},"Dia de pago"),l.a.createElement("option",{value:"lumpSum"},"Final PMTs + Interest + No Amort"))),this.state.openPaymentDate?l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Fecha de Pago"),l.a.createElement("input",{type:"date",className:"form-control",id:"paymentDate",name:"paymentDate",min:this.state.paymentDate,value:this.state.paymentDate,onChange:function(t){return e.handleChange(t)},required:!0})):"",l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Principal:"),l.a.createElement("input",{className:"form-control",type:"number",step:"any",id:"loanAmount",name:"loanAmount",value:this.state.loanAmount,onChange:function(t){return e.handleChange(t)},required:!0}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Duracion:"),l.a.createElement("input",{className:"form-control",type:"number",step:"any",id:"loanDuration",name:"loanDuration",value:this.state.loanDuration,onChange:function(t){return e.handleChange(t)},required:!0})),l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Tasa de Interes (M):"),l.a.createElement("input",{className:"form-control",type:"number",step:"any",id:"loanInterest",name:"loanInterest",value:this.state.loanInterest,onChange:function(t){return e.handleChange(t)},required:!0}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"calc-button"},l.a.createElement("button",{type:"button",className:"btn btn-info",onClick:function(t){return e.calcLoanSchedule(t)}},"Cronograma"),l.a.createElement(se.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.handleClose},l.a.createElement(ce,{loanSchedule:this.state.loanSchedule}))))))),l.a.createElement("div",{className:"form-row general-loan-details"},l.a.createElement("div",{className:"card col-md-6"},l.a.createElement("div",{class:"card-body"},l.a.createElement("h5",{class:"card-title"},"Inversionista"),l.a.createElement("div",{className:"form-row ",id:"participants"},l.a.createElement("div",{className:"form-group col-md-6",id:"investor-0"},l.a.createElement("label",null,"Cuenta Inversionista:"),l.a.createElement("select",{className:"form-control",name:"investor",value:this.state.investor,onChange:function(t){return e.handleSelectedInvestor(t)}},l.a.createElement("option",null,"Seleccionar Cuenta"),this.state.accounts?this.state.accounts.map(function(e,t){return l.a.createElement("option",{key:t,value:e._id},e.investor[0].firstName+" "+e.investor[0].lastName+" "+e.investor[0].location)}):"")),l.a.createElement("div",{className:"form-group col-md-6",id:"investor-0"},l.a.createElement("label",null,"Cuenta de efectivo:"),l.a.createElement("select",{className:"form-control",name:"cashAccount",value:this.state.cashAccount,onChange:function(t){return e.handleChange(t)}},l.a.createElement("option",null,"Seleccionar Cuenta"),T.accounts?T.accounts.map(function(e,t){return l.a.createElement("option",{key:t,value:e},e)}):"")),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Inversion:"),l.a.createElement("input",{className:"form-control",type:"text",step:"any",name:"investmentAmount",value:this.state.investmentAmount,onChange:function(t){return e.handleInvestment(t)}})),l.a.createElement("div",{className:"form-group col-md-3"},l.a.createElement("label",null,"Disponible:"),l.a.createElement("input",{disabled:!0,className:"form-control",type:"text",step:"any",name:"availableCash",value:this.state.investorAvailability})),l.a.createElement("div",{className:"form-group col-md-3"},l.a.createElement("label",null,"Porcentage:"),l.a.createElement("input",{disabled:!0,className:"form-control",type:"text",step:"any",name:"pct",value:this.state.pct}))),l.a.createElement("div",{className:"add_inv form-group align-bottom"},l.a.createElement("button",{type:"button",className:"btn btn-success align-bottom",onClick:function(){return e.handleNewInvestor()}},"Agregar Inversionista"))),l.a.createElement("div",{class:"card-body"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Inversionista"),l.a.createElement("th",{scope:"col"},"Efectivo"),l.a.createElement("th",{scope:"col"},"Monto"),l.a.createElement("th",{scope:"col"},"Porcentaje"),l.a.createElement("th",{scope:"col"},"Acci\xf3n"))),l.a.createElement("tbody",null,this.state.investors.length>0?this.state.investors.map(function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t._investor),l.a.createElement("td",null,t.cashAccount),l.a.createElement("td",null,t.amount),l.a.createElement("td",null,t.pct),l.a.createElement("td",null,l.a.createElement("button",{type:"button",className:"btn btn-warning",onClick:function(t){return e.deleteInvestor(t)}},"X")))}):l.a.createElement("tr",null,l.a.createElement("td",null,"Agregue Inversionista"))))))),l.a.createElement("div",{className:"form-row general-loan-details"},l.a.createElement("div",{className:"card col-md-6"},l.a.createElement("div",{class:"card-body"},l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"btn btn-info",id:"submit_button"},"Crear")))))))}}]),t}(n.Component),ue=Object(h.a)(me);a(66).config();var de=function e(){var t=this;Object(i.a)(this,e),this.createInvestor=function(e,a,n,l){return t.service.post("/",{firstName:e,lastName:a,location:n,investor:l}).then(function(e){return e.data})},this.getInvestors=function(){return t.service.get("/investor/list").then(function(e){return e.data})},this.getInvestorInvestments=function(e){return t.service.get("/investments/".concat(e)).then(function(e){return e.data})},this.service=b.a.create({baseURL:"".concat("https://ribo-cap.herokuapp.com","/api/test/investor"),withCredentials:!0})},pe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.firstName,n=a.state.lastName,l=a.state.location;a.service.createInvestor(t,n,l,!0).then(function(e){a.setState({firstName:"",lastName:"",location:"",investor:!0})}).catch(function(e){a.setState({error:e})})},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(E.a)({},n,l))},a.state={firstName:"",lastName:"",location:"PERU",investo:!0},a.service=new de,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{class:"content"},l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement("div",{class:"form-row"},l.a.createElement("div",{class:"form-group col-md-6"},l.a.createElement("label",{for:"name"},"Nombre:"),l.a.createElement("input",{type:"text",class:"form-control",name:"firstName",value:this.state.firstName,onChange:function(t){return e.handleChange(t)}})),l.a.createElement("div",{class:"form-group col-md-6"},l.a.createElement("label",{for:"lastName"},"Apellido:"),l.a.createElement("input",{type:"text",class:"form-control",name:"lastName",value:this.state.lastName,onChange:function(t){return e.handleChange(t)}})),l.a.createElement("div",{class:"form-group col-md-6"},l.a.createElement("label",{for:"location"},"Region:"),l.a.createElement("select",{class:"form-control",name:"location",value:this.state.location,onChange:function(t){return e.handleChange(t)}},l.a.createElement("option",{value:"PERU"},"Peru"),l.a.createElement("option",{value:"USA"},"USA"),l.a.createElement("option",{value:"DOMINICAN_REPUBLIC"},"Rep\xfablica Dominicana")))),l.a.createElement("button",{type:"submit",class:"btn btn-info"},"Crear Cuenta de Inversi\xf3n")))}}]),t}(n.Component),he=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state._investor,n=a.state.cashAccount,l=a.state.concept,r=a.state.txDate,c=a.state.txAmount,i=a.state.comment,s=0,o=0;"WITHDRAWAL"===l||"COST"===l?(s=0,o=c):(s=c,o=0),a.TransactionService.transactionInvestor(t,n,l,s,o,r,i).then(function(e){a.setState({_investor:"",cashAccount:"",concept:"",date:null,amount:0,comment:""})}).catch(function(e){a.setState({error:e})})},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(E.a)({},n,l))},a.state={_investor:"",cashAccount:"",concept:"",debit:0,credit:0},a.TransactionService=new re,a.InvestorService=new de,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"fetchInvestors",value:function(){var e=this;this.state.investors||(console.log("fetching"),this.InvestorService.getInvestors().then(function(t){"peru"===e.props.location.toLowerCase()&&(t=t.filter(function(e){return"peru"===e.location.toLowerCase()})),e.setState({investors:t})}).catch(function(t){e.setState({clients:!1})}))}},{key:"render",value:function(){var e=this;this.fetchInvestors();var t=["PLPERU","REMPERU","GCUS","GFUS","GCDR"];return l.a.createElement("div",{className:"content"},l.a.createElement("h2",{className:"display-6"},"Nueva Transacci\xf3n:"),l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6",id:"account_holder"},l.a.createElement("label",null,"Inversionista:"),l.a.createElement("select",{className:"form-control",name:"_investor",id:"investor",value:this.state._investor,onChange:function(t){return e.handleChange(t)}},l.a.createElement("option",null,"Seleccionar Inversionista"),this.state.investors?this.state.investors.map(function(e){return l.a.createElement("option",{key:e._id,value:e._id},e.location+" - "+e.firstName+" "+e.lastName)}):"")),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Numero de Cuenta:"),l.a.createElement("select",{className:"form-control",name:"cashAccount",id:"cashAccount",value:this.state.cashAccount,onChange:function(t){return e.handleChange(t)}},l.a.createElement("option",null,"Cuenta de efectivo:"),t?t.map(function(e,t){return l.a.createElement("option",{key:t,value:e},e)}):"")),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Fecha:"),l.a.createElement("input",{className:"form-control",type:"date",step:"any",name:"txDate",value:this.state.txDate,onChange:function(t){return e.handleChange(t)}})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Concepto:"),l.a.createElement("select",{className:"form-control",name:"concept",id:"concept",value:this.state.concept,onChange:function(t){return e.handleChange(t)}},l.a.createElement("option",null,"Seleccionar concepto"),l.a.createElement("option",{value:"DEPOSIT"},"Deposito"),l.a.createElement("option",{value:"WITHDRAWAL"},"Retiro"),l.a.createElement("option",{value:"COST"},"Costo"))),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Cantidad:"),l.a.createElement("input",{className:"form-control",type:"number",step:"any",name:"txAmount",value:this.state.txAmount,onChange:function(t){return e.handleChange(t)}})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Comentario:"),l.a.createElement("input",{className:"form-control",type:"string",step:"any",name:"comment",value:this.state.comment,onChange:function(t){return e.handleChange(t)}})),l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"btn btn-info",id:"submit_button"},"Insertar Transacci\xf3n")))))}}]),t}(n.Component),Ee=a(32),ve=a.n(Ee),fe=a(45),ge=a(75),Ne=a.n(ge),be=a(76),ye=a.n(be),Ce=a(92),Se=a.n(Ce),Ie=a(50),Oe=a.n(Ie),De=a(46),Pe=a.n(De),xe=Object(w.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}})(G.a);var Le=Object(w.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(function(e){var t=e.classes,a=e.data,n=0;return l.a.createElement(V.a,{className:t.root},l.a.createElement(R.a,{className:t.table},l.a.createElement(H.a,null,l.a.createElement(z.a,null,l.a.createElement(xe,{align:"right"},"Fecha de Pago"),l.a.createElement(xe,null,"Prestatario"),l.a.createElement(xe,{align:"right"},"Concepto"),l.a.createElement(xe,{align:"right"},"Debito"),l.a.createElement(xe,{align:"right"},"Credito"),l.a.createElement(xe,{align:"right"},"Total"),l.a.createElement(xe,{align:"right"},"Cuenta"),l.a.createElement(xe,{align:"right"},"Comentario"))),l.a.createElement(Y.a,null,a.map(function(e,a){return n+=e.debit-e.credit,l.a.createElement(z.a,{className:t.row,key:a},l.a.createElement(xe,{align:"right"},Z()(e.date).format("YYYY-MM-DD")),l.a.createElement(xe,{component:"th",scope:"row"},e._loan?e._loan._borrower.fullName+" - "+e._loan.capital:""),l.a.createElement(xe,{align:"right"},e.concept),l.a.createElement(xe,{align:"right"},e.debit.toFixed(4)),l.a.createElement(xe,{align:"right"},e.credit.toFixed(4)),l.a.createElement(xe,{align:"right"},n.toFixed(4)),l.a.createElement(xe,{align:"right"},e.cashAccount),l.a.createElement(xe,{align:"right"},e.comment))}))))}),we=Object(w.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}})(G.a);var Fe=Object(w.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(function(e){var t=e.classes,a=e.investments;return l.a.createElement(V.a,{className:t.root},l.a.createElement(R.a,{className:t.table},l.a.createElement(H.a,null,l.a.createElement(z.a,null,l.a.createElement(we,{align:"right"},"Fecha"),l.a.createElement(we,{align:"left"},"Prestamo"),l.a.createElement(we,null,"Monto"),l.a.createElement(we,{align:"right"}," % "),l.a.createElement(we,{align:"right"},"Total invertido"))),l.a.createElement(Y.a,null,a.map(function(e,a){return l.a.createElement(z.a,{className:t.row,key:a},l.a.createElement(we,{align:"right"},Z()(e._loan.startDate).format("YYYY-MM-DD")),l.a.createElement(we,{align:"left",component:"th",scope:"row"},e._loan?e._loan._borrower.fullName+" - "+e._loan.capital:""),l.a.createElement(we,{align:"right"},parseInt(e.amount/e.pct)),l.a.createElement(we,{align:"right"},parseFloat(100*e.pct).toFixed(2)+"%"),l.a.createElement(we,{align:"right"},e.amount.toFixed(2)))}))))}),ke=Object(w.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}})(G.a);var Te=Object(w.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(function(e){var t=e.classes,a=e.loanDetails;return l.a.createElement(V.a,{className:t.root},l.a.createElement(R.a,{className:t.table},l.a.createElement(H.a,null,l.a.createElement(z.a,null,l.a.createElement(ke,{align:"left"},"Nombre"),l.a.createElement(ke,{align:"right"},"Inversi\xf3n"),l.a.createElement(ke,{align:"right"},"%"),l.a.createElement(ke,{align:"right"},"Intereses"),l.a.createElement(ke,{align:"right"},"Capital"),l.a.createElement(ke,{align:"right"},"Ingreso Fee"),l.a.createElement(ke,{align:"right"},"Egreso Fee"),l.a.createElement(ke,{align:"right"},"Ingreso Total"))),l.a.createElement(Y.a,null,a.map(function(e,a){return l.a.createElement(z.a,{className:t.row,key:a},l.a.createElement(ke,{align:"left",component:"th",scope:"row"},e.name," "),l.a.createElement(ke,{align:"right"},e.investment.toFixed(2)),l.a.createElement(ke,{align:"right"},100*parseFloat(e.ownership.toFixed(2)),"%"),l.a.createElement(ke,{align:"right"},e.interest.toFixed(2)),l.a.createElement(ke,{align:"right"},e.capital.toFixed(2)),l.a.createElement(ke,{align:"right"},e.feeIncome.toFixed(2)),l.a.createElement(ke,{align:"right"},e.feeExpense.toFixed(2)),l.a.createElement(ke,{align:"right"},e.interest+e.feeIncome-e.feeExpense))}))))});function Ae(e){return l.a.createElement(Pe.a,{component:"div",style:{padding:24}},e.children)}function je(e){return l.a.createElement(Oe.a,Object.assign({component:"a",onClick:function(e){return e.preventDefault()}},e))}var Me=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={value:0},a.handleChange=function(e,t){a.setState({value:t})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.data,n=e.investments,r=e.loanDetails,c=this.state.value;return l.a.createElement(Se.a,null,l.a.createElement("div",{className:t.root},l.a.createElement(Ne.a,{position:"static"},l.a.createElement(ye.a,{variant:"fullWidth",value:c,onChange:this.handleChange},l.a.createElement(je,{label:"Resumen por Inversion",href:"page1"}),l.a.createElement(je,{label:"Inversiones",href:"page2"}),l.a.createElement(je,{label:"Transacciones",href:"page3"}))),0===c&&l.a.createElement(Ae,null,r?l.a.createElement(Te,{loanDetails:r}):""),1===c&&l.a.createElement(Ae,null,n.length>0&&l.a.createElement(Fe,{investments:n})),2===c&&l.a.createElement(Ae,null,a.length>0&&l.a.createElement(Le,{data:a}))))}}]),t}(l.a.Component),_e=Object(w.withStyles)(function(e){return{root:{marginTop:25,flexGrow:1,backgroundColor:e.palette.background.paper}}})(Me),Re=a(42),Ue=a.n(Re),Ye=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleOnClick=function(){var e=Object(fe.a)(ve.a.mark(function e(t){var n,l,r,c;return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state._investor,e.next=4,a.TransactionService.getInvestorTransactions(n);case 4:return l=e.sent,e.next=7,a.InvestorService.getInvestorInvestments(n);case 7:return r=e.sent,e.next=10,a.TransactionService.getLoanInvestorDetails(n);case 10:return c=e.sent,e.abrupt("return",Promise.all([l,r,c]).then(function(e){return a.setState({display:!0,transactions:e[0],investments:e[1],loanDetails:e[2]}),e}).then(function(e){a.investorDetails(e[0])}).then(function(e){}).catch(function(e){a.setState({error:e})}));case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(E.a)({},n,l))},a.state={_investor:"",totalDeposits:0,totalWithdrawals:0,totalCosts:0,cashAvailable:0,debitTotal:0,totalInvestments:0,creditTotal:0,totalGCUS:0,totalGFUS:0,paidBackCapital:0,interestReceived:0,feeExpenses:0,feeIncome:0,transactions:[],cashAccounts:[],display:!1},a.TransactionService=new re,a.InvestorService=new de,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"fetchInvestors",value:function(){var e=this;this.state.investors||this.InvestorService.getInvestors().then(function(t){"peru"===e.props.location.toLowerCase()&&(t=t.filter(function(e){return"peru"===e.location.toLowerCase()})),e.setState({investors:t})}).catch(function(t){e.setState({error:t})})}},{key:"investorDetails",value:function(e){var t=e.filter(function(e){return"CAPITAL"===e.concept}).reduce(function(e,t){return e+t.debit},0),a=e.filter(function(e){return"INTEREST"===e.concept}).reduce(function(e,t){return e+t.debit},0),n=e.filter(function(e){return"FEE"===e.concept}).reduce(function(e,t){return e+t.credit},0),l=e.filter(function(e){return"FEE"===e.concept}).reduce(function(e,t){return e+t.debit},0),r=e.filter(function(e){return"DEPOSIT"===e.concept}).reduce(function(e,t){return e+t.debit},0),c=e.filter(function(e){return"WITHDRAWAL"===e.concept}).reduce(function(e,t){return e+t.credit},0),i=e.filter(function(e){return"COST"===e.concept}).reduce(function(e,t){return e+t.credit},0),s=e.filter(function(e){return"INVESTMENT"===e.concept}).reduce(function(e,t){return e+t.credit},0);console.log(function(e){var t=[],a=[],n=e.filter(function(e){return"FEE"===e.concept});return console.log(n),Ue.a.map(Ue.a.uniqBy(n,"_investor"),Ue.a.partial(Ue.a.pick,Ue.a,["_investor"])).forEach(function(e){t.push(e._investor.firstName)}),console.log(t),t.forEach(function(e){var t=n.filter(function(t){return t._investor.firstName===e}).reduce(function(e,t){return e+t.debit-t.credit},0),l={cashAccount:e,total:t};a.push(l)}),a}(e));var o=function(e){var t=[],a=[];return Ue.a.map(Ue.a.uniqBy(e,"cashAccount"),Ue.a.partial(Ue.a.pick,Ue.a,["cashAccount"])).forEach(function(e){t.push(e.cashAccount)}),t.forEach(function(t){var n=e.filter(function(e){return e.cashAccount===t}).reduce(function(e,t){return e+t.debit-t.credit},0),l={cashAccount:t,total:n};a.push(l)}),a}(e),m=e.reduce(function(e,t){return e+t.debit},0),u=e.reduce(function(e,t){return e+t.credit},0);this.setState({paidBackCapital:t,interestReceived:a,totalInvestments:s,totalCosts:i,feeExpenses:n,feeIncome:l,totalDeposits:r,totalWithdrawals:c,debitTotal:m,creditTotal:u,cashAvailable:m-u,cashAccounts:o})}},{key:"render",value:function(){var e=this;this.fetchInvestors();var t=this.state,a=t.cashAvailable,n=t.totalDeposits,r=t.totalInvestments,c=t.totalCosts,i=t.paidBackCapital,s=t.interestReceived,o=t.feeExpenses,m=t.feeIncome,u=t.totalWithdrawals,d=t.cashAccounts,p=t.transactions,h=t.investments,E=t.loanDetails,v=t.display;return l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group",id:"account_holder"},l.a.createElement("select",{className:"form-control select-size",name:"_investor",id:"investor",value:this.state._investor,onChange:function(t){return e.handleChange(t)}},l.a.createElement("option",null,"Seleccionar Inversionista"),this.state.investors?this.state.investors.map(function(e){return l.a.createElement("option",{key:e._id,value:e._id},e.firstName+" "+e.lastName+"-"+e.location)}):"")),l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"btn btn-info",onClick:function(t){return e.handleOnClick(t)}},"Buscar Inversionista"))),v&&l.a.createElement("div",null,l.a.createElement("div",{className:"acc-summary"},l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"DISPONIBLE"),l.a.createElement("p",{className:"total"},"$ ",a.toLocaleString()),d.length>0?d.map(function(e,t){return l.a.createElement("div",null,l.a.createElement("p",{className:"acc-title"},e.cashAccount),l.a.createElement("p",{className:"acc-total"},e.total.toLocaleString())," ")}):""),l.a.createElement("div",{className:"detail-summary center"},l.a.createElement("p",{className:"title"},"INVERSIONES"),l.a.createElement("p",{className:"total"},"$",(r-i).toLocaleString()),l.a.createElement("p",{className:"acc-title"},"INTERESES"),l.a.createElement("p",{className:"acc-total"},"$",s.toLocaleString(),"+"),l.a.createElement("p",{className:"acc-title"},"REPAGADO"),l.a.createElement("p",{className:"acc-total"},"$",i.toLocaleString()),l.a.createElement("p",{className:"acc-title"},"HISTORICO INVERTIDO"),l.a.createElement("p",{className:"acc-total"},"$",r.toLocaleString())),l.a.createElement("div",{className:"detail-summary center"},l.a.createElement("p",{className:"title"},"COMISIONES"),l.a.createElement("p",{className:"total"},"$",(m-o).toLocaleString()),l.a.createElement("p",{className:"acc-title"},"INGRESO"),l.a.createElement("p",{className:"acc-total"},"$",m.toLocaleString()),l.a.createElement("p",{className:"acc-title"},"EGRESO"),l.a.createElement("p",{className:"acc-total"},"$",o.toLocaleString())),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"DEPOSITOS"),l.a.createElement("p",{className:"total"},"$",n.toLocaleString()),l.a.createElement("p",{className:"acc-title"},"COST"),l.a.createElement("p",{className:"acc-total"},"$",c.toLocaleString()),l.a.createElement("p",{className:"acc-title"},"RETIROS"),l.a.createElement("p",{className:"acc-total"},"$",u.toLocaleString()))),l.a.createElement("div",null,l.a.createElement(_e,{data:p,investments:h,loanDetails:E}))))}}]),t}(n.Component),Be=function(e){var t=e.detail,a=e.value;return l.a.createElement("div",{className:"user-detail"},l.a.createElement("div",{className:"detail-key"},l.a.createElement("p",null,t.toUpperCase(),": ")),l.a.createElement("div",{className:"detail-value"},l.a.createElement("p",null,a)))},Ge=a(129),We=a.n(Ge),He=a(268),qe=a.n(He);function ze(e){var t=e.data,a=e.clientId;return l.a.createElement("div",null,l.a.createElement("div",{className:"client-loan-summary-head "},l.a.createElement("div",{className:"detail-summary first"},l.a.createElement("p",{className:"title"},"PRESTAMO")),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"CUOTAS * MONTO")),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"POR AMORTIZAR"))),t.map(function(e,t){var a=e.capital/e.duration,n=e.interest/100*e.capital;return l.a.createElement("div",{key:t,className:"client-loan-summary"},l.a.createElement("div",{className:"detail-summary first"},l.a.createElement("p",{className:"total"},"$",parseFloat(e.capital).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-total"},parseFloat(e.interest),"%  \xa0\xa0  |   \xa0\xa0 ",Z()(e.startDate).format("LL"))),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"total"},e.totalPaid?Math.ceil((e.capital-parseFloat(e.totalPaid))/a):e.duration," * $",(n+a).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-total"},"$",n.toLocaleString(void 0,{maximumFractionDigits:2})," + $",a.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-summary last"},l.a.createElement("div",null,l.a.createElement("p",{className:"total"},"$",(parseFloat(e.capital)-(e.totalPaid?parseFloat(e.totalPaid):0)).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-total"},"$",isNaN(e.totalPaid)?0:parseFloat(e.totalPaid).toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",null,l.a.createElement(f.a,{to:"/admin/loan/".concat(e._id)},l.a.createElement("i",{className:"material-icons info"},"info")))))}),l.a.createElement("div",{className:"client-loan-summary create"},l.a.createElement("div",{className:"detail-summary first"},l.a.createElement(f.a,{to:"/admin/create-loan/".concat(a)},l.a.createElement(We.a,{size:"small",color:"secondary","aria-label":"Add"},l.a.createElement(qe.a,null))))))}var $e=a(136),Ve=(a(626),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState({details:Object($e.a)({},a.state.details,Object(E.a)({},n,l))})},a.handleSubmit=function(){var e=a.state.details,t=e._id,n=e.firstName,l=e.lastName,r=e.nationalId,c=e.cellphoneNumber,i=e.city,s=e.zipCode,o=e.address,m=e.email,u=e.bank,d=e.accountNumber,p=e.monthlyIncome;a.service.updateAccount(t,n,l,r,c,i,s,o,m,u,d,p).then(function(e){"updated"===e.status?a.props.closeModal("updated"):a.props.closeModal("failed")}).catch(function(e){return a.props.closeModal("failed")})},a.state={details:e.details},a.service=new L,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.details;return l.a.createElement("div",{className:"modal-holder"},l.a.createElement("div",{className:"formHeader"},l.a.createElement("p",null,"Editar Cuenta")),l.a.createElement("div",{className:"form-input-holder"},l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(k.a,{label:"Nombre",value:a.firstName,name:"firstName",type:"text",onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{label:"Apellido",name:"lastName",type:"text",value:a.lastName,onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{label:"Email",name:"email",type:"text",value:a.email,onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{id:"date",name:"DOB",label:"Fecha de Nacimiento",value:a.DOB,onChange:function(t){return e.handleChange(t)},type:"date",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{name:"cellphoneNumber",label:"N\xfamero de Tel\xe9fono",value:a.cellphoneNumber,onChange:function(t){return e.handleChange(t)},type:"text",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{name:"nationalId",label:"DNI / C\xe9dula / Pasaporte",type:"text",value:a.nationalId,onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"})),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(k.a,{name:"country",label:"Pa\xeds",type:"text",value:a.country,className:t.textField,onChange:function(t){return e.handleChange(t)},InputLabelProps:{shrink:!0},margin:"normal",disabled:!0}),l.a.createElement(k.a,{name:"city",label:"Ciudad",type:"text",value:a.city,className:t.textField,onChange:function(t){return e.handleChange(t)},InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{name:"address",label:"Direcci\xf3n",type:"text",value:a.address,className:t.textField,onChange:function(t){return e.handleChange(t)},InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{name:"zipCode",label:"Codigo Postal",type:"text",value:a.zipCode,className:t.textField,onChange:function(t){return e.handleChange(t)},InputLabelProps:{shrink:!0},margin:"normal"})),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(k.a,{name:"bank",label:"Banco",type:"text",value:a.bank,className:t.textField,onChange:function(t){return e.handleChange(t)},InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{name:"accountNumber",label:"Cuenta bancaria",type:"text",value:a.accountNumber,className:t.textField,onChange:function(t){return e.handleChange(t)},InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{name:"income",label:"Ingreso",type:"number",value:a.monthlyIncome,className:t.textField,onChange:function(t){return e.handleChange(t)},InputLabelProps:{shrink:!0},margin:"normal"})),l.a.createElement("div",{className:"edit-form-submit"},l.a.createElement("button",{onClick:function(){return e.handleSubmit()},className:"btn btn-info"},"Editar"))))}}]),t}(n.Component)),Xe=Object(w.withStyles)(function(e){return{name:{width:440},citizenInfo:{width:300},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,minWidth:300},formControl:{margin:e.spacing.unit}}})(Ve);var Ze=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.match.params.clientId;a.service.getClient(e).then(function(e){a.setState({client:e})})},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(e){a.setState({open:!1,editStatus:e})},a.state=T.initialState,a.service=new L,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.client,t=this.props.classes;return l.a.createElement("div",{className:"main-holder"},l.a.createElement("div",{className:"profile-actions"},l.a.createElement(I.b,{variant:"outlined",onClick:this.handleOpen,className:t.button},"Editar perfil"),l.a.createElement(I.n,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.handleClose},l.a.createElement("div",{style:{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")},className:t.paper},l.a.createElement(Xe,{details:e,closeModal:this.handleClose})))),"updated"===this.state.editStatus?l.a.createElement("div",{className:"alert alert-success",role:"alert"},"Operaci\xf3n realizada exitosamente!"):"failed"===this.state.editStatus?l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"La operaci\xf3n a fallado."):"",l.a.createElement("div",{className:"client-header"},l.a.createElement("div",{className:"formHeader"},l.a.createElement("h1",null,e.firstName?(e.firstName+" "+e.lastName).toUpperCase():"Loading..."))),l.a.createElement("div",{className:"user-global-information"},l.a.createElement("div",{className:"user-information"},l.a.createElement("div",{className:"user-profile-holder"},l.a.createElement("div",{className:"section-header"},"CONTACTO"),l.a.createElement("div",null,l.a.createElement(Be,{detail:"Email",value:e.email}),l.a.createElement(Be,{detail:"N\xfamero de tel\xe9fono",value:e.cellPhoneNumber}),l.a.createElement(Be,{detail:"Direcci\xf3n",value:e.street+", "+e.residenceName+", "+e.residenceNumber+", "+e.city+", "+e.country}))),l.a.createElement("div",{className:"user-profile-holder"},l.a.createElement("div",{className:"section-header"},"PERFIL"),l.a.createElement("div",null,l.a.createElement(Be,{detail:"Nombre",value:e.fullName}),l.a.createElement(Be,{detail:"Lugar y fecha de nacimiento",value:e.placeOfBirth+", "+Z()(e.DOB).format("DD-MMM-YY")}),l.a.createElement(Be,{detail:"Genero",value:e.gender}),l.a.createElement(Be,{detail:"Estatus civil",value:e.civilStatus}),l.a.createElement(Be,{detail:"DNI / C\xe9dula / Pasaporte",value:e.nationalId}),l.a.createElement(Be,{detail:"Nacionalidad",value:e.nationality}),l.a.createElement(Be,{detail:"Otras nacionalidades",value:e.otherNationalities}),l.a.createElement(Be,{detail:"Certificado Migratorio",value:e.immigrationCertificate}),l.a.createElement(Be,{detail:"Nivel educativo",value:e.academicLevel}))),l.a.createElement("div",{className:"user-profile-holder"},l.a.createElement("div",{className:"section-header"},"LABORAL"),l.a.createElement("div",null,l.a.createElement(Be,{detail:"Estatus",value:e.employmentStatus}),l.a.createElement(Be,{detail:"Ingresos",value:e.monthlyIncome}),e.otherIncome&&l.a.createElement(Be,{detail:"Otros ingresos",value:e.otherIncome}),l.a.createElement(Be,{detail:"Empresa",value:e.businessName}),l.a.createElement(Be,{detail:"Posici\xf3n",value:e.businessPosition}),l.a.createElement(Be,{detail:"Email",value:e.businessEmail}),l.a.createElement(Be,{detail:"Direcci\xf3n",value:e.businessAddress})))),l.a.createElement("div",{className:"client-loan-information"},e.loans&&l.a.createElement(ze,{data:e.loans,clientId:e._id}))))}}]),t}(n.Component),Ke=Object(w.withStyles)(function(e){return{button:{fontSize:12,margin:0,fontWeight:600,textDecoration:"none",textTransform:"none",borderRadius:2,color:"rgb(145, 145, 145)"},name:{width:440},citizenInfo:{width:300},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:330},formControl:{margin:e.spacing.unit},paper:{position:"absolute",maxWidth:1e3,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none",maxHeight:"100%",overflowY:"auto"}}})(Object(h.a)(Ze));a(66).config();var Je=function e(){var t=this;Object(i.a)(this,e),this.totals=function(e){return t.service.get("/totals/".concat(e)).then(function(e){return e.data})},this.portfolioAggregates=function(){return t.service.get("/portfolioAggregates").then(function(e){return e.data})},this.service=b.a.create({baseURL:"".concat("https://ribo-cap.herokuapp.com","/api/test/summary"),withCredentials:!0})};function Qe(e){var t=e.data,a=e.totalPortfolio;return l.a.createElement("div",null,l.a.createElement("div",{className:"loan-summary-head "},l.a.createElement("div",{className:"detail-summary head-left"},l.a.createElement("p",{className:"title"},"PRESTAMO")),l.a.createElement("div",{className:"detail-summary center head-content"},l.a.createElement("p",{className:"title"},"PESO EN CARTERA")),l.a.createElement("div",{className:"detail-summary center head-content"},l.a.createElement("p",{className:"title"},"CUOTAS * MONTO")),l.a.createElement("div",{className:"detail-summary last head-content"},l.a.createElement("p",{className:"title"},"POR AMORTIZAR"))),t.map(function(e,t){var n=e.capital/e.duration,r=e.interest/100*e.capital;return l.a.createElement("div",{key:t,className:"loan-summary"},l.a.createElement("div",{className:"detail-summary detail-left"},l.a.createElement("p",{className:"title"},e._borrower.firstName.toUpperCase()+" "+e._borrower.lastName.toUpperCase()),l.a.createElement("p",{className:"total"},"$",parseFloat(e.capital).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-total"},parseFloat(e.interest),"%  \xa0\xa0  |   \xa0\xa0 ",Z()(e.startDate).format("LL"))),l.a.createElement("div",{className:"detail-summary center detail-content"},l.a.createElement("p",{className:"total"},((e.capital-parseFloat(e.totalPaid?e.totalPaid:0))/a*100).toLocaleString(void 0,{maximumFractionDigits:2}),"%"),l.a.createElement("p",{className:"acc-total"},(e.capital/a*100).toLocaleString(void 0,{maximumFractionDigits:2}),"%")),l.a.createElement("div",{className:"detail-summary center detail-content"},l.a.createElement("p",{className:"total"},e.totalPaid?Math.ceil((e.capital-parseFloat(e.totalPaid))/n):e.duration," * $",(r+n).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-total"},"$",r.toLocaleString(void 0,{maximumFractionDigits:2})," + $",n.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-summary last detail-content"},l.a.createElement("div",null,l.a.createElement("p",{className:"total"},"$",(parseFloat(e.capital)-(e.totalPaid?parseFloat(e.totalPaid):0)).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-total"},"$",isNaN(e.totalPaid)?0:parseFloat(e.totalPaid).toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",null,l.a.createElement(f.a,{to:"/admin/loan/".concat(e._id)},l.a.createElement("i",{className:"material-icons"},"info")))))}))}var et=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={loans:[],getLoan:!0,getSummary:!0},a.loanService=new ee,a.summaryService=new Je,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.fetchLoans(),this.fetchSummary()}},{key:"fetchLoans",value:function(){var e=this;this.state.getLoan&&this.loanService.getLoanDetails().then(function(t){"peru"===e.props.userLocation.toLowerCase()&&(t=t.filter(function(e){return"peru"===e._borrower.country.toLowerCase()})),e.setState({getLoan:!1,loans:t})}).catch(function(t){e.setState({loans:!1})})}},{key:"fetchSummary",value:function(){var e=this;if(this.state.getSummary){var t=this.props.userLocation;this.summaryService.totals(t).then(function(t){console.log(t),e.setState({getSummary:!1,data:t})}).catch(function(t){e.setState({data:!1})})}}},{key:"render",value:function(){var e=this.state,t=e.loans,a=e.data;return l.a.createElement("div",{className:"content"},l.a.createElement("h4",null,"LISTADO DE PRESTAMOS"),t.length>0&&a?l.a.createElement(Qe,{data:t,totalPortfolio:a[0][0].totalCapitalRemaining}):"")}}]),t}(n.Component);a(627);var tt=function(e){var t=e.data;return l.a.createElement("div",{className:"loans-summary"},l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},t[0]._id.toUpperCase()),l.a.createElement("p",{className:"total"},"$",t[0].totalCapitalRemaining.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"AMORTIZADO"),l.a.createElement("p",{className:"acc-total"},"$",t[0].totalPaid.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"TOTAL NOMINAL"),l.a.createElement("p",{className:"acc-total"},"$",t[0].totalCapital.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-summary center"},l.a.createElement("p",{className:"title"},"TASA ACTIVA"),l.a.createElement("p",{className:"total"},(100*t[0].averageActIntRate).toLocaleString(void 0,{maximumFractionDigits:2}),"%"),l.a.createElement("p",{className:"acc-title"},"TASA"),l.a.createElement("p",{className:"acc-total"},(100*t[0].averageIntRate).toLocaleString(void 0,{maximumFractionDigits:2}),"%"),l.a.createElement("p",{className:"acc-title"},"INGRESO POR INTERESES"),l.a.createElement("p",{className:"acc-total"},"$",t[0].totalInterest.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-summary center"},l.a.createElement("p",{className:"title"},"CAPITAL RESTANTE MEDIO"),l.a.createElement("p",{className:"total"},"$",t[0].averageLoanActiveCap.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"PRESTAMO MEDIO"),l.a.createElement("p",{className:"acc-total"},"$",t[0].averageLoan.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"TOTAL AMORTIZACION MES"),l.a.createElement("p",{className:"acc-total"},"$",t[0].totalAmort.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"DURACION INICIAL"),l.a.createElement("p",{className:"total"},t[0].averageDuration.toLocaleString(void 0,{maximumFractionDigits:2})," meses"),l.a.createElement("p",{className:"acc-title"},"# INVERSIONES"),l.a.createElement("p",{className:"acc-total"},t[0].totalActiveLoans)))},at=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={getSummary:!0},a.summaryService=new Je,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.fetchSummary()}},{key:"fetchSummary",value:function(){var e=this;if(this.state.getSummary){var t=this.props.userLocation;this.summaryService.totals(t).then(function(t){console.log(t),e.setState({getSummary:!1,data:t})}).catch(function(t){e.setState({data:!1})})}}},{key:"render",value:function(){var e=this.state.data;return console.log(e),l.a.createElement("div",{className:"content"},e?e.map(function(e){return l.a.createElement(tt,{data:e})}):"")}}]),t}(n.Component),nt=a(102),lt=(a(633),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={getSummary:!0},a.summaryService=new Je,a.lineData=function(e,t,a){return{labels:e.values,datasets:a.map(function(e){return{label:e.text,fill:!1,backgroundColor:e.color,borderColor:e.color,pointBorderColor:e.color,pointRadius:4,data:e.values}})}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.fetchSummary()}},{key:"fetchSummary",value:function(){var e=this;this.state.getSummary&&this.summaryService.portfolioAggregates().then(function(t){var a=t.dates,n=t.InterestProjectedIncome,l=t.InterestActualIncome,r=t.PrincipalActualRepayment,c=t.PrincipalProjectedRepayment,i=t.PrincipalProjectedOutstanding,s=t.cumulativeActualIncome,o=t.cumulativeProjectedIncome,m=e.lineData(a,"Intereses",[n,l]),u=e.lineData(a,"Intereses Acumulados",[r,c]),d=e.lineData(a,"Capital",[s,o]),p=e.lineData(a,"Capital Acumulado",[i]);e.setState({getSummary:!1,interestData:m,capitalData:u,cumulativeInterestData:d,principalProjectedOutstanding:p})}).catch(function(t){e.setState({data:!1})})}},{key:"render",value:function(){var e=this.state,t=e.interestData,a=e.capitalData,n=e.cumulativeInterestData,r=e.principalProjectedOutstanding;return l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"graph-holder"},l.a.createElement("div",{className:"graph-portfolio"},l.a.createElement("p",null,"INTERES - 6m "),t&&l.a.createElement(nt.a,{data:t})),l.a.createElement("div",{className:"graph-portfolio"},l.a.createElement("p",null,"INTERESES ACUMULADOS HISTORICO - 6m "),n&&l.a.createElement(nt.a,{data:n}))),l.a.createElement("div",{className:"graph-holder"},l.a.createElement("div",{className:"graph-portfolio"},l.a.createElement("p",null,"CAPITAL - 6m "),a&&l.a.createElement(nt.a,{data:a})),l.a.createElement("div",{className:"graph-portfolio"},l.a.createElement("p",null,"CAPITAL COLOCADO- 6m "),r&&l.a.createElement(nt.a,{data:r}))))}}]),t}(n.Component)),rt=Object(w.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}})(G.a);var ct=Object(w.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(function(e){var t=e.classes,a=e.data;function n(e){var t=Z()(new Date),a=Z()(e);return Z.a.duration(t.diff(a)).asDays()}return console.log("aquiii",a),l.a.createElement("div",null,l.a.createElement(V.a,{className:t.root},l.a.createElement(R.a,{className:t.table},l.a.createElement(H.a,null,l.a.createElement(z.a,null,l.a.createElement(rt,{align:"right"},"Pago"),l.a.createElement(rt,null,"Prestatario"),l.a.createElement(rt,{align:"left"},"Fecha de Pago"),l.a.createElement(rt,{align:"right"},"Balance"),l.a.createElement(rt,{align:"right"},"Capital"),l.a.createElement(rt,{align:"right"},"Intereses"),l.a.createElement(rt,{align:"right"},"Mora"),l.a.createElement(rt,{align:"right"},"Total Cuota"))),l.a.createElement(Y.a,null,a.filter(function(e){return"disburstment"!==e.tracking}).map(function(e,a){return l.a.createElement(z.a,{className:t.row,key:a},l.a.createElement(rt,{component:"th",scope:"row"},parseInt(e.interest_pmt)>0?l.a.createElement("i",{className:"material-icons"}," done_outline"):l.a.createElement("i",{className:"material-icons"},"priority_high")),l.a.createElement(rt,{align:"left"},l.a.createElement(f.a,{to:"/admin/loan/".concat(e._loan)},e.borrower[0].fullName)),l.a.createElement(rt,{align:"right"},Z()(e.date).format("YYYY-MM-DD")),l.a.createElement(rt,{align:"right"},parseInt(e.balance).toFixed(2)),l.a.createElement(rt,{align:"right"},e.principal.toFixed(2)),l.a.createElement(rt,{align:"right"},e.interest.toFixed(2)),l.a.createElement(rt,{align:"right"},(r=e.date,c=e.interest_pmt,n(r)>0&&!c?function(e,t){return.01*n(e)*t}(e.date,e.principal).toFixed(2):"")," "),l.a.createElement(rt,{align:"right"},parseInt(e.payment).toFixed(2)));var r,c})))),l.a.createElement(V.a,{className:t.root},l.a.createElement(R.a,{className:t.table},l.a.createElement(H.a,null,l.a.createElement(z.a,null,l.a.createElement(rt,{align:"right"},"Aprobados"),l.a.createElement(rt,null,"Prestatario"),l.a.createElement(rt,{align:"left"},"Fecha"),l.a.createElement(rt,{align:"right"},"Monto"),l.a.createElement(rt,{align:"right"},"Capital"),l.a.createElement(rt,{align:"right"},"Intereses"),l.a.createElement(rt,{align:"right"},"Total Cuota"))),l.a.createElement(Y.a,null,a.filter(function(e){return"DISBURSTMENT"===e.status}).map(function(e,a){return l.a.createElement(z.a,{className:t.row,key:a},l.a.createElement(rt,{component:"th",scope:"row"},l.a.createElement("i",{className:"material-icons"}," done_outline")),l.a.createElement(rt,{align:"left"},l.a.createElement(f.a,{to:"/admin/loan/".concat(e._loan)},e.borrower[0].fullName)),l.a.createElement(rt,{align:"right"},Z()(e.date).format("YYYY-MM-DD")),l.a.createElement(rt,{align:"right"},parseInt(e.balance).toFixed(2)),l.a.createElement(rt,{align:"right"},e.principal.toFixed(2)),l.a.createElement(rt,{align:"right"},e.interest.toFixed(2)),l.a.createElement(rt,{align:"right"},parseInt(e.payment).toFixed(2)))})))))}),it=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={loans:[],getLoan:!0},a.service=new ee,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"fetchLoans",value:function(){var e=this;this.state.getLoan&&this.service.getWeekSchedule().then(function(t){"peru"===e.props.location.toLowerCase()&&(t=t.filter(function(e){return"peru"===e._loan._borrower.country.toLowerCase()})),e.setState({getLoan:!1,loans:t})}).catch(function(t){e.setState({loans:!1})})}},{key:"render",value:function(){return this.fetchLoans(),l.a.createElement("div",{className:"content"},l.a.createElement(ct,{data:this.state.loans}))}}]),t}(n.Component),st=(a(634),function(e){var t=e.data,a=e.title,n=e.cash;return l.a.createElement("div",{className:"category-cards"},l.a.createElement("div",{className:"category-header"},a.toUpperCase(),n>0?l.a.createElement("span",null," / EFECTIVO DISPONIBLE: ",n.toLocaleString()):""),l.a.createElement("div",{className:"category-items"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-title"},"INGRESO X INTERESES"),l.a.createElement("p",{className:"category-content"},t.interest_pmt.toLocaleString()))),l.a.createElement("div",{className:"category-items"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-title"},"CAPITAL"),l.a.createElement("p",{className:"category-content"},t.principal_pmt.toLocaleString()))),l.a.createElement("div",{className:"category-items"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-title"},"INGRESO ESTIMADO"),l.a.createElement("p",{className:"category-content"},t.interest.toLocaleString()))),l.a.createElement("div",{className:"category-items"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-title"},"REPAGO DE CAPITAL"),l.a.createElement("p",{className:"category-content"},t.principal.toLocaleString()))),l.a.createElement("div",{className:"category-items"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-title"},"# DE PRESTAMOS"),l.a.createElement("p",{className:"category-content"},t.numberOfInstallments.toLocaleString()))))}),ot=(a(635),function(e){var t=e.data;return l.a.createElement("div",{className:"item-cards"},l.a.createElement("div",{className:"item-content"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},(t.firstName+" "+t.lastName).slice(0,23)))),l.a.createElement("div",{className:"item-content"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},Z()(t.date).format("YYYY-MM-DD")))),l.a.createElement("div",{className:"item-content"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},t.interest.toLocaleString()))),l.a.createElement("div",{className:"item-content"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},t.principal.toLocaleString()))),l.a.createElement("div",{className:"item-content"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},l.a.createElement(f.a,{to:"/admin/loan/".concat(t._loan)},"+")))))}),mt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={loans:[],getLoan:!0,startDate:Z()().startOf("month").toISOString().substring(0,10),endDate:Z()().endOf("month").toISOString().substring(0,10),country:"Todos",countries:["Todos","Venezuela","Peru"]},a.service=new ee,a.transactionService=new re,a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(E.a)({},n,l))},a.componentDidMount=function(){a.fetchLoans(),a.fetchAccountsTotals()},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"fetchAccountsTotals",value:function(){var e=this;if(!this.state.accounts){var t=this.props.userLocation;console.log(t),this.transactionService.getInvestorsAvailability(t).then(function(t){var a=t.reduce(function(e,t){return e+t.accumTotal},0);e.setState({total:a})}).catch(function(t){e.setState({total:!1})})}}},{key:"fetchLoans",value:function(e){var t=this;e&&e.preventDefault(e);var a=this.state,n=a.startDate,l=a.endDate,r=this.props.userLocation;this.service.getPortfolioStatus(r,n,l).then(function(){var e=Object(fe.a)(ve.a.mark(function e(a){var n;return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a,console.log(n.portfolio),t.setState({getLoan:!1,portfolio:n.portfolio,paid:n.paid,due:n.due,overdue:n.overdue});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.setState({loans:!1})})}},{key:"render",value:function(){var e=this.state,t=e.portfolio,a=e.overdue,n=e.due,r=e.paid,c=e.total;return l.a.createElement("div",{className:"content"},l.a.createElement("div",null,t?l.a.createElement(st,{data:t,title:"Pagos - Portafolio",cash:c}):"",a?l.a.createElement("div",null,l.a.createElement(st,{data:a,title:"Pagos atrasados"}),a.installments.map(function(e){return l.a.createElement(ot,{data:e})})):"",n?l.a.createElement("div",null,l.a.createElement(st,{data:n,title:"Pagos pendientes"}),n.installments.map(function(e){return l.a.createElement(ot,{data:e})})):"",r?l.a.createElement("div",null,l.a.createElement(st,{data:r,title:"Pagos realizados"}),r.installments.map(function(e){return l.a.createElement(ot,{data:e})})):""))}}]),t}(n.Component),ut=a(128),dt=a.n(ut);a(636);var pt=function(e){var t=e.investors;return l.a.createElement("div",{className:"loan-investor-holder"},l.a.createElement("div",{className:"investor-head "},l.a.createElement("div",{className:"detail-summary-left"},l.a.createElement("p",{className:"title-main"},"INVERSIONISTA")),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"MONTO")),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"%")),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"FEE")),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"INGRESOS")),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"UTILIDAD"))),t.map(function(e,t){return l.a.createElement("div",{key:t,className:"investor"},l.a.createElement("div",{className:"detail-summary-left acc-inv-main"},e._investor.firstName.toUpperCase()+" "+e._investor.lastName.toUpperCase()),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-inv"},e.amount.toLocaleString())),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-inv"},100*e.pct.toFixed(2))),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-inv"})),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-inv"})),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-inv"})))}))};a(637);var ht=function(e){var t=e.loanSchedule,a=e.openPaymentOption,n=e.reversePayment;return l.a.createElement("div",{className:"loan-schedule-detail-holder"},l.a.createElement("div",{className:"loan-schedule-head "},l.a.createElement("div",{className:"detail-schedule head-date"},l.a.createElement("p",{className:"title-date"},"FECHA")),l.a.createElement("div",{className:"detail-schedule head-content"},l.a.createElement("p",{className:"title"},"ESTATUS")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"INTERES")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"CAPITAL")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"CUOTA")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"INTERESES/P")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"CAPITAL/P")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"TOTAL")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"OPCIONES"))),t.map(function(e,t){return l.a.createElement("div",{key:t,className:"loan-schedule-content"},l.a.createElement("div",{className:"detail-schedule details-date"},l.a.createElement("p",{className:"acc-date"},Z()(e.date).format("YY-MM-DD"))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.status)),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.interest.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.principal.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},(e.interest+e.principal).toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.interest_pmt?e.interest_pmt.toLocaleString(void 0,{maximumFractionDigits:2}):"")),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.principal_pmt?e.principal_pmt.toLocaleString(void 0,{maximumFractionDigits:2}):"")),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.principal_pmt||e.interest_pmt?((e.principal_pmt?e.principal_pmt:0)+(e.interest_pmt?e.interest_pmt:0)).toLocaleString(void 0,{maximumFractionDigits:2}):"")),l.a.createElement("div",{className:"detail-schedule last details-content"},e.interest_pmt||e.principal_pmt||0===t?t<1?"":l.a.createElement("p",{className:"itmt-options"},l.a.createElement("i",{className:"material-icons",onClick:function(){return n(e._id)}}," delete_box ")):l.a.createElement("p",{className:"itmt-options"},l.a.createElement("i",{className:"material-icons",onClick:function(){return a(e)}}," add_box "))))}))};a(638);var Et=function(e){var t=e.transactions;return l.a.createElement("div",{className:"transactions-holder"},l.a.createElement("div",{className:"loan-schedule-head "},l.a.createElement("div",{className:"detail-schedule head-date"},l.a.createElement("p",{className:"title-date"},"FECHA")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title-date"},"INVERSIONISTA")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title-date"},"CONCEPTO")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"DEBITO")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"CREDITO"))),t.map(function(e,t){return l.a.createElement("div",{key:t,className:"loan-schedule-content"},l.a.createElement("div",{className:"detail-schedule details-date"},l.a.createElement("p",{className:"acc-date"},Z()(e.date).format("YY-MM-DD"))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-date"},e._investor)),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-date"},e.concept)),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.debit.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.credit.toLocaleString(void 0,{maximumFractionDigits:2}))))}))};a(639);var vt=function(e){var t=e.details,a=e.interestIncome,n=e.interestProjected;return l.a.createElement("div",{className:"one-loan-details-summary"},l.a.createElement("div",{className:"loan-detail-summary loan-detail-left"},l.a.createElement("p",{className:"title"},l.a.createElement(f.a,{className:"link",to:"/admin/client/".concat(t._borrower._id)},t._borrower.firstName.toUpperCase()+" "+t._borrower.lastName.toUpperCase())),l.a.createElement("p",{className:"total"},"$",parseFloat(t.capital).toLocaleString(void 0,{maximumFractionDigits:2}),l.a.createElement("span",{className:"acc-total"},"/ ",Z()(t.startDate).format("LL")))),l.a.createElement("div",{className:"loan-detail-summary loan-detail-content"},l.a.createElement("div",null,l.a.createElement("p",{className:"title"},"DETALLE"),l.a.createElement("p",{className:"total"},parseFloat(t.interest),"% | ",t.duration," m"))),l.a.createElement("div",{className:"loan-detail-summary loan-detail-content"},l.a.createElement("div",null,l.a.createElement("p",{className:"title"},"POR AMORTIZAR"),l.a.createElement("p",{className:"total"},"$",(parseFloat(t.capital)-(t.totalPaid?parseFloat(t.totalPaid):0)).toLocaleString(void 0,{maximumFractionDigits:2}),l.a.createElement("span",{className:"acc-total"},"/$",isNaN(t.totalPaid)?0:parseFloat(t.totalPaid).toLocaleString(void 0,{maximumFractionDigits:2}))))),l.a.createElement("div",{className:"loan-detail-summary last loan-detail-content"},l.a.createElement("div",null,l.a.createElement("p",{className:"title"},"INTERESES"),l.a.createElement("p",{className:"total"},"$",a.toLocaleString(void 0,{maximumFractionDigits:2}),l.a.createElement("span",{className:"acc-total"},"/$",n.toLocaleString(void 0,{maximumFractionDigits:2}))))))},ft=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(E.a)({},n,l))},a.handleChangePayment=function(e){var t=e.target,n=t.name,l=t.value;l=parseFloat(l),a.setState(Object(E.a)({},n,l))},a.componentDidMount=function(){var e=a.props.installment;a.setState({date_pmt:e.date,principal_pmt:e.principal,interest_pmt:e.interest,paymentId:e._id,cashAccount:void 0,fee:[]})},a.handleChangeFees=function(e){var t=e.target.value,n=T.fees[t].fee;a.setState({fee:n})},a.state={date_pmt:(new Date).toISOString().substring(0,10),principal_pmt:void 0,interest_pmt:void 0,paymentId:void 0,cashAccount:void 0,fee:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.receivePayment,n=t.closePaymentOption;return l.a.createElement("div",{className:"loan-schedule-holder"},l.a.createElement("div",{className:"loan-payment-content"},l.a.createElement("div",{className:"detail-schedule details-date"},l.a.createElement("label",{className:"acc-title"},"FECHA"),l.a.createElement("input",{type:"date",className:"form-control",value:new Date(this.state.date_pmt).toISOString().substring(0,10),onChange:this.handleChange})),l.a.createElement("div",{className:"detail-schedule"},l.a.createElement("label",{className:"acc-title"},"INTERESES"),l.a.createElement("input",{label:"INTERESES",name:"interest_pmt",className:"form-control input-sm",value:this.state.interest_pmt,onChange:this.handleChangePayment,type:"number"})),l.a.createElement("div",{className:"detail-schedule"},l.a.createElement("label",{className:"acc-title"},"CAPITAL"),l.a.createElement("input",{label:"principal",name:"principal_pmt",type:"number",className:"form-control input-sm",value:this.state.principal_pmt,onChange:this.handleChangePayment})),l.a.createElement("div",{className:"detail-schedule"},l.a.createElement("label",{className:"acc-title"},"CUENTA"),l.a.createElement("select",{className:"form-control input-sm",name:"cashAccount",id:"cashAccount",value:this.state.cashAccount,onChange:function(t){return e.handleChange(t)}},l.a.createElement("option",null),T.accounts.map(function(e,t){return l.a.createElement("option",{key:t,value:e},e)}))),l.a.createElement("div",{className:"detail-schedule"},l.a.createElement("label",{className:"acc-title"},"FEE"),l.a.createElement("select",{className:"form-control input-sm",name:"feeIndex",id:"feeIndex",value:this.state.feeIndex,onChange:function(t){return e.handleChangeFees(t)}},l.a.createElement("option",null),T.fees.map(function(t,a){return l.a.createElement("option",{key:a,value:a,onChange:e.handleChangeFees},t.text)}))),l.a.createElement("div",{className:"detail-schedule"},l.a.createElement("label",{className:"acc-title"},"*"),l.a.createElement("div",{className:"payment-operations"},l.a.createElement("div",{className:"acc-total"},l.a.createElement("i",{className:"material-icons",onClick:function(){return a(e.state)}},"add_box")),l.a.createElement("div",{className:"acc-total"},l.a.createElement("i",{className:"material-icons",onClick:function(){return n()}},"remove_circle"))))))}}]),t}(n.Component),gt=a(270),Nt=a.n(gt),bt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=Object(fe.a)(ve.a.mark(function e(){return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.loader();case 1:case"end":return e.stop()}},e)})),a.handleChange=function(e,t){a.setState({value:t})},a.loader=Object(fe.a)(ve.a.mark(function e(){var t,n;return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.loanId,e.next=3,a.loanService.getLoanCompleteDetails(t);case 3:n=e.sent,a.setState({loan:n}),a.detailsCalc();case 6:case"end":return e.stop()}},e)})),a.detailsCalc=function(){var e=a.state.loan.details.loanSchedule,t=e.reduce(function(e,t){return e+(t.interest_pmt?t.interest_pmt:0)},0),n=e.reduce(function(e,t){return e+(t.interest?t.interest:0)},0);a.setState({interestIncome:t,interestProjected:n})},a.compare=function(e,t){return e.date<t.date?-1:e.date>t.date?1:0},a.reversePayment=function(e){a.loanService.deletePayment(e).then(function(e){console.log(e),a.loader()}).catch(function(e){a.setState({error:e})})},a.openPaymentOption=function(e){a.setState({openPayment:!0,installment:e})},a.closePaymentOption=function(){a.setState({openPayment:!1,installment:null})},a.paymentReceiver=function(e){a.loanService.makePayment(Object($e.a)({},e,{status:"PAID"})).then(function(e){a.loader(),a.setState({openPayment:!1})}).catch(function(e){a.setState({error:e})})},a.loanRemove=function(e){a.loanService.deleteLoan(e).then(function(){a.props.history.push("/admin/client/".concat(a.state.loan.details._borrower._id))}).catch(function(e){a.setState({error:e})})},a.state={loan:{details:{},investors:{}},interestIncome:0,interestProjected:0,openPayment:!1,installment:null,value:0},a.loanService=new ee,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.interestIncome,n=t.interestProjected,r=t.installment,c=t.value,i=this.props.classes,s=this.state.loan,o=s.details,m=s.investors,u=s.transactions;return this.state.loan.details._borrower?l.a.createElement("div",{className:"content"},l.a.createElement(vt,{details:o,interestIncome:a,interestProjected:n}),l.a.createElement("div",{className:"loan-content-holder"},l.a.createElement("div",{className:i.root},l.a.createElement(ye.a,{value:c,onChange:this.handleChange,classes:{root:i.tabsRoot,indicator:i.tabsIndicator}},l.a.createElement(Oe.a,{disableRipple:!0,classes:{root:i.tabRoot,selected:i.tabSelected},label:"CRONOGRAMA"}),l.a.createElement(Oe.a,{disableRipple:!0,classes:{root:i.tabRoot,selected:i.tabSelected},label:"INVERSIONISTAS"}),l.a.createElement(Oe.a,{disableRipple:!0,classes:{root:i.tabRoot,selected:i.tabSelected},label:"TRANSACCIONES"}))),0===c&&l.a.createElement("div",null,this.state.openPayment&&l.a.createElement(ft,{installment:r,receivePayment:this.paymentReceiver,closePaymentOption:this.closePaymentOption}),l.a.createElement(ht,{loanSchedule:o.loanSchedule.sort(this.compare),openPaymentOption:this.openPaymentOption,reversePayment:this.reversePayment}),l.a.createElement("div",{className:"loan-delete"},l.a.createElement(dt.a,{variant:"contained",color:"secondary",className:"right-button",onClick:function(){return e.loanRemove(o._id)}},"ELIMINAR PRESTAMO",l.a.createElement(Nt.a,null)))),1===c&&l.a.createElement(pt,{investors:m}),2===c&&l.a.createElement(Et,{transactions:u}))):""}}]),t}(n.Component),yt=Object(h.a)(Object(w.withStyles)(function(e){return{root:{flexGrow:1},tabsIndicator:{backgroundColor:"#1890ff"},tabRoot:{textTransform:"initial",minWidth:72,fontWeight:500,marginRight:4*e.spacing.unit,"&:hover":{color:"#40a9ff",opacity:1,outline:"none"},"&$tabSelected":{color:"#1890ff",fontWeight:600,outline:"none"},"&:focus":{color:"#40a9ff",outline:"none"}},tabSelected:{}}})(bt)),Ct=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={loans:[],getLoan:!0,startDate:Z()().startOf("month").toISOString().substring(0,10),endDate:Z()().endOf("month").toISOString().substring(0,10),country:"Todos",countries:["Todos","Venezuela","Peru"]},a.service=new ee,a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(E.a)({},n,l))},a.componentDidMount=function(){a.fetchLoans()},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"fetchLoans",value:function(e){var t=this;e&&e.preventDefault(e);var a=this.state,n=a.startDate,l=a.endDate,r=this.props.userLocation;this.service.getPeriodSchedule(n,l,r).then(function(e){t.setState({getLoan:!1,loans:e})}).catch(function(e){t.setState({loans:!1})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.country,n=t.loans.filter(function(e){return"Todos"!==a?e.borrower[0].country.includes(a.toUpperCase()):e});return l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"form-row input-row-aligner"},l.a.createElement("div",{className:"form-group col-md-2"},l.a.createElement("label",null,"Fecha Inicial"),l.a.createElement("input",{type:"date",className:"form-control",id:"startDate",name:"startDate",value:this.state.startDate,onChange:function(t){return e.handleChange(t)},required:!0})),l.a.createElement("div",{className:"form-group col-md-2"},l.a.createElement("label",null,"Fecha Final"),l.a.createElement("input",{type:"date",className:"form-control",id:"endDate",name:"endDate",value:this.state.endDate,onChange:function(t){return e.handleChange(t)},required:!0})),l.a.createElement("div",{className:"form-group col-md-1 "},l.a.createElement("button",{className:"btn btn-info",type:"button",onClick:function(t){return e.fetchLoans(t)}},"Buscar")),"WORLD"===this.props.userLocation?l.a.createElement("div",{className:"form-group col-md-2 "},l.a.createElement("label",null,"Pa\xeds"),l.a.createElement("select",{className:"form-control",name:"country",id:"country",value:this.state.country,onChange:function(t){return e.handleChange(t)}},this.state.countries?this.state.countries.map(function(e,t){return l.a.createElement("option",{key:t,value:e},e)}):"")):""),l.a.createElement(ct,{data:n}))}}]),t}(n.Component),St=a(130),It=a.n(St),Ot=a(94),Dt=a.n(Ot),Pt=a(271),xt=a.n(Pt),Lt=a(265),wt=Object(w.withStyles)(function(){return{listContainer:{marginTop:5},popOverLinks:{display:"flex",alignItems:"center",padding:5,paddingLeft:0,width:200,textDecoration:"none"},popOverText:{padding:0,margin:0,width:200,textDecoration:"none"},orangeAvatar:{width:35,height:35,color:"#2D4369",backgroundColor:"#F2F5F7"},card:{maxWidth:345},links:{textDecoration:"none"}}})(function(e){var t=e.classes,a=e.name,n=e.membership,r=e.logout;return l.a.createElement(I.d,{className:t.card},l.a.createElement(I.e,null,l.a.createElement(I.f,null,l.a.createElement(I.a,{className:t.orangeAvatar},a.slice(0,1)),l.a.createElement("p",{className:"title-app-bar"},a),l.a.createElement("p",{className:"id-identifier"},"Membresia - ",n),l.a.createElement(I.g,null),l.a.createElement(I.k,{className:t.listContainer},l.a.createElement(f.a,{className:t.links,to:"/"},l.a.createElement(I.l,{button:!0,className:t.popOverLinks},l.a.createElement(I.m,null,l.a.createElement("i",{class:"material-icons popover-icons"},"verified_user")),l.a.createElement("p",{className:t.popOverText},"Verificaci\xf3n"))),l.a.createElement(f.a,{className:t.links,to:"/"},l.a.createElement(I.l,{button:!0,className:t.popOverLinks},l.a.createElement(I.m,null,l.a.createElement("i",{class:"material-icons popover-icons"},"settings")),l.a.createElement("p",{className:t.popOverText},"Configurici\xf3n"))),l.a.createElement(f.a,{className:t.links,to:"/"},l.a.createElement(I.l,{button:!0,className:t.popOverLinks,onClick:function(){return r()}},l.a.createElement(I.m,null,l.a.createElement("i",{class:"material-icons popover-icons"},"eject")),l.a.createElement("p",{className:t.popOverText},"Salir")))))))}),Ft=a(127),kt=a.n(Ft),Tt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={anchorEl:null},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.handleDrawerToggle,n=e.BarTitle,r=e.firstName,c=e.lastName,i=e.logout,s=this.state.anchorEl,o=Boolean(s);return l.a.createElement(Ne.a,{position:"fixed",className:t.appBar},l.a.createElement("div",{className:t.main},l.a.createElement(It.a,null,l.a.createElement(Dt.a,{color:"inherit","aria-label":"Open drawer",onClick:function(){return a()},className:t.menuButton},l.a.createElement(xt.a,null)),l.a.createElement("ul",{className:t.navList,role:"Navigation"},l.a.createElement("div",null,l.a.createElement("li",{className:t.titleAppBar},n)),l.a.createElement("div",null,l.a.createElement(I.c,{className:t.userList,"aria-haspopup":"true",variant:"contained",onClick:this.handleClick},l.a.createElement("li",{className:t.userListElement},l.a.createElement(kt.a,{className:t.orangeAvatar},r.slice(0,1))),l.a.createElement("li",{className:t.userListElement},r+" "+c),l.a.createElement("li",{className:t.userListElement},l.a.createElement("i",{className:"material-icons bar-dropdown"},"keyboard_arrow_down")))),l.a.createElement(I.o,{id:"simple-popper",open:o,anchorEl:s,onClose:this.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},l.a.createElement(wt,{name:r+" "+c,membership:"R123456",logout:i}))))))}}]),t}(n.Component),At=Object(Lt.a)(Object(w.withStyles)(function(e){return{navList:{margin:0,padding:0,width:1e3,display:"flex",listStyle:"none",alignItems:"center",color:"#2D4369",justifyContent:"space-between"},userList:{fontWeight:400,fontSize:14,display:"flex",listStyle:"none",alignItems:"center",disableRipple:!0,disableTouchRipple:!0},userListElement:{marginLeft:5},orangeAvatar:{width:35,height:35,color:"#2D4369",backgroundColor:"#F2F5F7"},appBar:Object(E.a)({backgroundColor:"#ffff",color:"#2D4369",marginLeft:240,boxShadow:"none",borderBottom:"1px solid rgb(235, 235, 235)"},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),menuButton:Object(E.a)({marginRight:20},e.breakpoints.up("sm"),{display:"none"}),titleAppBar:{fontSize:"1.5em",fontWeight:600,padding:0,margin:0,marginTop:0}}})(Tt)),jt=a(96),Mt=a.n(jt),_t=a(95),Rt=a.n(_t),Ut=a(93),Yt=a.n(Ut),Bt=a(59),Gt=a.n(Bt),Wt=a(183),Ht=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n=e.handleDrawerToggle,r=e.mobileOpen,c=e.handleBarTitle,i=e.user,s=l.a.createElement("div",null,l.a.createElement("div",{className:t.toolbar},l.a.createElement("img",{className:t.navLogo,src:"https://res.cloudinary.com/ribo/image/upload/v1554797031/Logo_RIBO-02.png",alt:""})),l.a.createElement(Yt.a,null,i.borrower?Wt.clientUrls.map(function(e,a){return l.a.createElement(f.a,{className:"link",to:"/client/".concat(e.url)},l.a.createElement(Gt.a,{className:t.items,button:!0,key:a,onClick:function(){return c(e.text)}},l.a.createElement("p",{className:t.links},e.text)))}):i.admin?Wt.adminUrls.map(function(e,a){return e.link&&e.super?i.superAdmin?l.a.createElement(f.a,{className:"link",to:"/admin/".concat(e.url)},l.a.createElement(Gt.a,{className:t.items,button:!0,key:a,onClick:function(){return c(e.text)}},l.a.createElement("p",{className:t.links},e.text))):"":e.link?l.a.createElement(f.a,{className:"link",to:"/admin/".concat(e.url)},l.a.createElement(Gt.a,{className:t.items,button:!0,key:a,onClick:function(){return c(e.text)}},l.a.createElement("p",{className:t.links},e.text))):l.a.createElement(Gt.a,{className:t.items,button:!0,key:a},l.a.createElement("p",{className:t.titles},e.text))}):""));return l.a.createElement("nav",{className:t.drawer},l.a.createElement(Rt.a,{smUp:!0,implementation:"css"},l.a.createElement(Mt.a,{container:this.props.container,variant:"temporary",anchor:"rtl"===a.direction?"right":"left",open:r,onClose:function(){return n()},classes:{paper:t.drawerPaper}},s)),l.a.createElement(Rt.a,{xsDown:!0,implementation:"css"},l.a.createElement(Mt.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0},s)))}}]),t}(n.Component),qt=Object(w.withStyles)(function(e){return{drawer:Object(E.a)({},e.breakpoints.up("sm"),{backgroundColor:"#2D4369",width:240,flexShrink:0}),toolbar:e.mixins.toolbar,drawerPaper:{width:240,backgroundColor:"#2D4369"},content:{flexGrow:1,padding:3*e.spacing.unit},navLogo:{height:55,paddingLeft:30,paddingTop:5},items:{width:240,height:40,paddingLeft:30,padding:10},links:{color:"#ffff",fontSize:"1.1em",fontWeight:600,marginLeft:10},titles:{color:"#ffff",fontSize:"1.1em",fontWeight:600}}},{withTheme:!0})(Ht),zt=a(131),$t=a.n(zt),Vt=(a(648),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={mobileOpen:!1,name:"Actividad"},a.handleBarTitle=function(e){a.setState({name:e})},a.handleDrawerToggle=function(){a.setState(function(e){return{mobileOpen:!e.mobileOpen}})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.children,n=e.userInSession,r=e.logout;return l.a.createElement("div",{className:t.root},l.a.createElement($t.a,null),l.a.createElement(At,{BarTitle:this.state.name,logout:r,firstName:n.firstName,lastName:n.lastName,handleDrawerToggle:this.handleDrawerToggle}),l.a.createElement(qt,{user:n,handleDrawerToggle:this.handleDrawerToggle,handleBarTitle:this.handleBarTitle,mobileOpen:this.state.mobileOpen}),l.a.createElement("main",{className:t.content},l.a.createElement("div",{className:t.toolbar}),a))}}]),t}(n.Component)),Xt=Object(w.withStyles)(function(e){return{root:{display:"flex"},toolbar:e.mixins.toolbar,content:{backgroundColor:"#F2F5F7",flexGrow:1}}},{withTheme:!0})(Vt),Zt=(a(650),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={duePayments:[],pastPayments:[],totalPaid:0,toBePaid:0,amount:0},a.componentDidMount=function(){a.currentInstallments(),a.pastPayment(),a.totalPaid()},a.totalPaid=Object(fe.a)(ve.a.mark(function e(){var t,n,l,r;return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.user.loans,n=[],e.next=4,t.filter(function(e){return e.loanSchedule.some(function(e){return Z()(e.date).month()===Z()(new Date).month()})}).map(function(e){return Object.assign({},e).loanSchedule.filter(function(e){return Z()(e.date).month()===Z()(new Date).month()})}).forEach(function(e){return e.forEach(function(e){return n.push(e)})});case 4:l=n.reduce(function(e,t){return e+((t.interest_pmt?t.interest_pmt:0)+(t.principal_pmt?t.principal_pmt:0))},0),r=n.reduce(function(e,t){return e+((t.interest?t.interest:0)+(t.principal?t.principal:0))},0),a.setState({toBePaid:l,totalPaid:r});case 7:case"end":return e.stop()}},e)})),a.currentInstallments=function(){var e=a.props.user.loans,t=[];e.filter(function(e){return e.loanSchedule.some(function(e){return Z()(e.date).month()===Z()(new Date).month()})}).map(function(e){return Object.assign({},e).loanSchedule.filter(function(e){return Z()(e.date).month()===Z()(new Date).month()})}).forEach(function(e){return e.forEach(function(e){return t.push(e)})}),a.setState({duePayments:t})},a.pastPayment=function(){var e=a.props.user.loans,t=e.length,n=[];e.filter(function(e){return e.loanSchedule.some(function(e){return Z()(e.date).month()===Z()(new Date).subtract(1,"month").month()})}).map(function(e){return Object.assign({},e).loanSchedule.filter(function(e){return Z()(e.date).month()===Z()(new Date).subtract(1,"month").month()})}).forEach(function(e){return e.forEach(function(e){return n.push(e)})}),a.setState({pastPayments:n,amount:t})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.duePayments,a=e.pastPayments,n=e.totalPaid,r=e.toBePaid,c=e.amount;return l.a.createElement("div",{className:"testing"},l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Res\xfamen de cuenta"))),l.a.createElement("div",{className:"account-cards"},l.a.createElement("div",{className:"summary-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Total por pagar"),l.a.createElement("p",{variant:"heading",className:"heading-content"},n.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"summary-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"# de prestamos"),l.a.createElement("p",{variant:"heading",className:"heading-content"},c)),l.a.createElement("div",{className:"summary-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Pagado"),l.a.createElement("p",{variant:"heading",className:"heading-content"},r.toLocaleString(void 0,{maximumFractionDigits:2})))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Cronograma de pagos - ",Z()().format("MMMM")))),l.a.createElement("div",{class:"table-container"},l.a.createElement("ul",{class:"responsive-table"},l.a.createElement("li",{class:"table-header"},l.a.createElement("div",{class:"table-col table-col-1"},"ID"),l.a.createElement("div",{class:"table-col table-col-2"},"PR\xd3X RECIBO"),l.a.createElement("div",{class:"table-col table-col-3"},"PR\xd3X IMPORTE"),l.a.createElement("div",{class:"table-col table-col-4"},"VENCIMIENTO"),l.a.createElement("div",{class:"table-col table-col-5"},"ESTATUS")),t.map(function(e){return l.a.createElement("li",{class:"table-row"},l.a.createElement("div",{class:"table-col table-col-1","data-label":"Prestamo"},e._loan.substr(e._loan.length-7).toUpperCase()),l.a.createElement("div",{class:"table-col table-col-2","data-label":"Pr\xf3ximo Recibo"},Z()(e.date).format("DD/MM/YY")),l.a.createElement("div",{class:"table-col table-col-3","data-label":"Proximo Importe"},"$",e.payment.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{class:"table-col table-col-4","data-label":"Vencimiento"},Z()(e.date).format("DD/MM/YY")),l.a.createElement("div",{class:"table-col table-col-4","data-label":"Estatus"},e.principal_pmt&&e.principal_pmt>=e.principal?"PAGO":"PENDIENTE"))}))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Transacciones Recientes"))),l.a.createElement("div",{class:"table-container"},l.a.createElement("ul",{class:"responsive-table"},l.a.createElement("li",{class:"table-header"},l.a.createElement("div",{class:"table-col table-col-1"},"ID"),l.a.createElement("div",{class:"table-col table-col-2"},"RECIBO"),l.a.createElement("div",{class:"table-col table-col-3"},"IMPORTE"),l.a.createElement("div",{class:"table-col table-col-4"},"METODO"),l.a.createElement("div",{class:"table-col table-col-5"},"ESTATUS")),a.map(function(e){return l.a.createElement("li",{class:"table-row"},l.a.createElement("div",{class:"table-col table-col-1","data-label":"Prestamo"},e._loan.substr(e._loan.length-7).toUpperCase()),l.a.createElement("div",{class:"table-col table-col-2","data-label":"Recibo"},Z()(e.date).format("DD/MM/YY")),l.a.createElement("div",{class:"table-col table-col-3","data-label":"Importe"},"$",(e.principal_pmt+e.interest_pmt).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{class:"table-col table-col-4","data-label":"METODO"},"TRANSFERENCIA"),l.a.createElement("div",{class:"table-col table-col-4","data-label":"Estatus"},e.principal_pmt&&e.principal_pmt.toFixed(2)>=e.principal.toFixed(2)?"PAGO":"PENDIENTE"))}))))}}]),t}(n.Component)),Kt=(a(651),a(97)),Jt=a.n(Kt),Qt=a(98),ea=a.n(Qt),ta=a(99),aa=a.n(ta),na=a(184),la=a.n(na),ra=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={expanded:null,totalRemaining:0,totalBorrowed:0,numberOfLoans:0},a.handleChange=function(e){return function(t,n){a.setState({expanded:!!n&&e})}},a.compare=function(e,t){return e.date<t.date?-1:e.date>t.date?1:0},a.startDateCompare=function(e,t){return e.startDate<t.startDate?-1:e.startDate>t.startDate?1:0},a.componentDidMount=function(){a.totals()},a.totals=function(){var e=a.props.user.loans,t=e.reduce(function(e,t){return e+t.capitalRemaining},0),n=e.reduce(function(e,t){return e+t.capital},0),l=e.length;a.setState({totalRemaining:t,totalBorrowed:n,numberOfLoans:l})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.user.loans,n=this.state,r=n.expanded,c=n.totalRemaining,i=n.numberOfLoans,s=n.totalBorrowed;return l.a.createElement("div",{className:"testing"},l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"General"))),l.a.createElement("div",{className:"account-cards"},l.a.createElement("div",{className:"account-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Total por pagar"),l.a.createElement("p",{variant:"heading",className:"heading-content"},c.toLocaleString())),l.a.createElement("div",{className:"account-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"# de prestamos"),l.a.createElement("p",{variant:"heading",className:"heading-content"},i.toLocaleString())),l.a.createElement("div",{className:"account-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Pagado"),l.a.createElement("p",{variant:"heading",className:"heading-content"},(s-c).toLocaleString()))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Prestamos abiertos"))),l.a.createElement("div",{className:t.root},a.sort(this.startDateCompare).filter(function(e){return"open"===e.status}).map(function(a,n){return l.a.createElement(Jt.a,{key:n,expanded:r==="panel".concat(n+1),onChange:e.handleChange("panel".concat(n+1))},l.a.createElement(ea.a,{expandIcon:l.a.createElement(la.a,null)},l.a.createElement(Pe.a,{className:t.heading},a._id.substr(a._id.length-7).toUpperCase()),l.a.createElement(Pe.a,{className:t.secondaryHeading},Z()(a.startDate).format("DD/MM/YY"))),l.a.createElement(aa.a,{className:"table-details-container"},l.a.createElement("div",{className:"table-details"},l.a.createElement("div",{className:"loan-details-card"},l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Total"),l.a.createElement("p",{variant:"heading",className:"heading-content"},a.capital.toLocaleString())),l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Tasa"),l.a.createElement("p",{variant:"heading",className:"heading-content"},a.interest,"%")),l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Plazo"),l.a.createElement("p",{variant:"heading",className:"heading-content"},a.duration)),l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Amortizado"),l.a.createElement("p",{variant:"heading",className:"heading-content"},(a.capital-a.capitalRemaining).toLocaleString()))),l.a.createElement("div",{className:"table-container"},l.a.createElement("ul",{className:"responsive-table"},l.a.createElement("li",{className:"table-header"},l.a.createElement("div",{className:"table-col table-col-1"},"FECHA"),l.a.createElement("div",{className:"table-col table-col-2"},"CUOTA"),l.a.createElement("div",{className:"table-col table-col-3"},"INTERES"),l.a.createElement("div",{className:"table-col table-col-4"},"CAPITAL"),l.a.createElement("div",{className:"table-col table-col-5"},"P.INTERES"),l.a.createElement("div",{className:"table-col table-col-6"},"P.CAPITAL"),l.a.createElement("div",{className:"table-col table-col-7"},"P.CUOTA"),l.a.createElement("div",{className:"table-col table-col-8"})),a.loanSchedule.sort(e.compare).map(function(e,t){return l.a.createElement("li",{key:t,className:"table-row"},l.a.createElement("div",{className:"table-col table-col-1","data-label":"Fecha"},Z()(e.date).format("DD/MM/YY")),l.a.createElement("div",{className:"table-col table-col-2","data-label":"Cuota"},(e.interest+e.principal).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-3","data-label":"Interes"},e.interest.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-4","data-label":"Capital"},e.principal.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-5","data-label":"Pago Interes"},(e.interest_pmt?e.interest_pmt:0).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-6","data-label":"Pago Capital"},(e.principal_pmt?e.principal_pmt:0).toLocaleString()),l.a.createElement("div",{className:"table-col table-col-7","data-label":"Total pagado"},((e.principal_pmt?e.principal_pmt:0)+(e.interest_pmt?e.interest_pmt:0)).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-8","data-label":"Estatus"},(e.principal_pmt?e.principal_pmt:0)>=e.principal?"X":""))}))))))})),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Prestamos cerrados"))),l.a.createElement("div",{className:t.root},a.sort(this.startDateCompare).filter(function(e){return"CLOSED"===e.status}).map(function(a,n){return l.a.createElement(Jt.a,{key:n,expanded:r==="panel".concat(n+1),onChange:e.handleChange("panel".concat(n+1))},l.a.createElement(ea.a,{expandIcon:l.a.createElement(la.a,null)},l.a.createElement(Pe.a,{className:t.heading},a._id.substr(a._id.length-7).toUpperCase()),l.a.createElement(Pe.a,{className:t.secondaryHeading},Z()(a.startDate).format("DD/MM/YY"))),l.a.createElement(aa.a,{className:"table-details-container"},l.a.createElement("div",{className:"loan-details-card"},l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Total"),l.a.createElement("p",{variant:"heading",className:"heading-content"},a.capital.toLocaleString())),l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Tasa"),l.a.createElement("p",{variant:"heading",className:"heading-content"},a.interest,"%")),l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Plazo"),l.a.createElement("p",{variant:"heading",className:"heading-content"},a.duration)),l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Amortizado"),l.a.createElement("p",{variant:"heading",className:"heading-content"},(a.capital-a.capitalRemaining).toLocaleString()))),l.a.createElement("div",{className:"table-container"},l.a.createElement("ul",{className:"responsive-table"},l.a.createElement("li",{className:"table-header"},l.a.createElement("div",{className:"table-col table-col-1"},"FECHA"),l.a.createElement("div",{className:"table-col table-col-2"},"CUOTA"),l.a.createElement("div",{className:"table-col table-col-3"},"INTERES"),l.a.createElement("div",{className:"table-col table-col-4"},"CAPITAL"),l.a.createElement("div",{className:"table-col table-col-5"},"P.INTERES"),l.a.createElement("div",{className:"table-col table-col-6"},"P.CAPITAL"),l.a.createElement("div",{className:"table-col table-col-7"},"P.CUOTA"),l.a.createElement("div",{className:"table-col table-col-8"})),a.loanSchedule.sort(e.compare).map(function(e,t){return l.a.createElement("li",{key:t,className:"table-row"},l.a.createElement("div",{className:"table-col table-col-1","data-label":"Fecha"},Z()(e.date).format("DD/MM/YY")),l.a.createElement("div",{className:"table-col table-col-2","data-label":"Cuota"},(e.interest+e.principal).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-3","data-label":"Interes"},e.interest.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-4","data-label":"Capital"},e.principal.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-5","data-label":"Pago Interes"},(e.interest_pmt?e.interest_pmt:0).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-6","data-label":"Pago Capital"},(e.principal_pmt?e.principal_pmt:0).toLocaleString()),l.a.createElement("div",{className:"table-col table-col-7","data-label":"Total pagado"},((e.principal_pmt?e.principal_pmt:0)+(e.interest_pmt?e.interest_pmt:0)).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-8","data-label":"Estatus"},(e.principal_pmt?e.principal_pmt:0)>=e.principal?"X":""))})))))})))}}]),t}(n.Component),ca=Object(w.withStyles)(function(e){return{root:{width:"100%",marginBottom:20},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}})(ra),ia=(a(656),a(657),Object(w.withStyles)(function(e){return{name:{width:440},citizenInfo:{width:300},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,minWidth:300},formControl:{margin:e.spacing.unit}}})(function(e){var t=e.classes,a=e.details;return l.a.createElement("div",{className:"modal-holder"},l.a.createElement("div",{className:"formHeader"},l.a.createElement("p",null,"Editar Cuenta")),l.a.createElement("div",{className:"form-input-holder"},l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(k.a,{label:"Nombre",value:a.firstName,name:"firstName",type:"text",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",disabled:!0}),l.a.createElement(k.a,{label:"Apellido",name:"lastName",type:"text",value:a.lastName,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",disabled:!0}),l.a.createElement(k.a,{id:"date",name:"DOB",label:"Fecha de Nacimiento",value:a.DOB,type:"date",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",disabled:!0}),l.a.createElement(k.a,{name:"cellphoneNumber",label:"N\xfamero de Tel\xe9fono",value:a.cellphoneNumber,type:"text",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{name:"nationalId",label:"DNI / C\xe9dula / Pasaporte",type:"text",value:a.nationalId,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",disabled:!0})),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(k.a,{name:"country",label:"Pa\xeds",type:"text",value:a.country,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{name:"city",label:"Ciudad",type:"text",value:a.city,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{name:"address",label:"Direcci\xf3n",type:"text",value:a.address,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{name:"zipCode",label:"Codigo Postal",type:"text",value:a.zipCode,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"})),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(k.a,{name:"bank",label:"Banco",type:"text",value:a.bank,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{name:"accountNumber",label:"Cuenta bancaria",type:"text",value:a.accountNumber,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(k.a,{name:"income",label:"Ingreso",type:"number",value:a.income,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",disabled:!0})),l.a.createElement("div",{className:"edit-form-submit"},l.a.createElement("button",{className:"btn btn-info"},"Editar"))))}));var sa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={open:!1,details:{}},a.componentDidMount=function(){var e=a.props.user;a.setState({details:e})},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.capitalize=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.details;return l.a.createElement("div",{className:"main-holder"},l.a.createElement("div",{className:"profile-actions"},l.a.createElement(I.b,{variant:"outlined",onClick:this.handleOpen,className:e.button},"Editar perfil"),l.a.createElement(I.n,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.handleClose},l.a.createElement("div",{style:{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")},className:e.paper},l.a.createElement(ia,{details:t})))),l.a.createElement("div",{className:"testing"},l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Personal"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Primer y segundo nombre legal *"),l.a.createElement("p",{className:"content-details"},t.firstName)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Apellidos legales *"),l.a.createElement("p",{className:"content-details"},t.lastName)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Fecha de nacimiento"),l.a.createElement("p",{className:"content-details"},Z()(t.DOB).format("DD/MM/YY"))),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Documento de Identidad"),l.a.createElement("p",{className:"content-details"},t.nationalId)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Tel\xe9fono"),l.a.createElement("p",{className:"content-details"},t.cellphoneNumber))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Direcci\xf3n personal"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Pa\xeds"),l.a.createElement("p",{className:"content-details"},this.capitalize(t.country))),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Ciudad"),l.a.createElement("p",{className:"content-details"},this.capitalize(t.city))),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Direcci\xf3n"),l.a.createElement("p",{className:"content-details"},t.address)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"C\xf3digo postal"),l.a.createElement("p",{className:"content-details"},t.zipCode))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Financiera"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Banco"),l.a.createElement("p",{className:"content-details"},t.bank)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"N\xfamero de cuenta"),l.a.createElement("p",{className:"content-details"},t.accountNumber)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Ingresos certificados"),l.a.createElement("p",{className:"content-details"},t.income)))))}}]),t}(n.Component),oa=Object(w.withStyles)(function(e){return{button:{fontSize:12,margin:0,fontWeight:600,textDecoration:"none",textTransform:"none",borderRadius:2,color:"rgb(145, 145, 145)"},input:{display:"none"},paper:{position:"absolute",maxWidth:1e3,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none",maxHeight:"100%",overflowY:"auto"}}})(sa),ma=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).getTheUser=function(e){a.setState({loggedInUser:e})},a.logout=function(){a.service.logout().then(function(){a.setState({loggedInUser:null}),a.props.history.push("/login")})},a.state={loggedInUser:null},a.service=new y,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"fetchUser",value:function(){var e=this;null===this.state.loggedInUser&&this.service.loggedin().then(function(t){e.setState({loggedInUser:t})}).catch(function(t){e.setState({loggedInUser:!1}),e.props.history.push("/login")})}},{key:"render",value:function(){var e=this;return this.fetchUser(),this.state.loggedInUser&&this.state.loggedInUser.admin?l.a.createElement("div",{className:"App"},l.a.createElement(Xt,{userInSession:this.state.loggedInUser,logout:this.logout},l.a.createElement(d.a,null,l.a.createElement(p.a,{exact:!0,path:"/",render:function(){return l.a.createElement(mt,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/client/create",render:function(){return l.a.createElement(M,{getUser:e.getTheUser,location:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/payment",render:function(){return l.a.createElement(ne,{getUser:e.getTheUser,location:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/investor/create",render:function(){return l.a.createElement(pe,{getUser:e.getTheUser,location:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/investor/transaction",render:function(){return l.a.createElement(he,{getUser:e.getTheUser,location:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/investor/details",render:function(){return l.a.createElement(Ye,{getUser:e.getTheUser,location:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/loan/list",render:function(){return l.a.createElement(et,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/loan/period",render:function(){return l.a.createElement(Ct,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/activity",render:function(){return l.a.createElement(mt,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/portfolio",render:function(){return l.a.createElement(at,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/evolution",render:function(){return l.a.createElement(lt,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/weekly-schedule",render:function(){return l.a.createElement(it,{getUser:e.getTheUser,location:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/client/list",render:function(){return l.a.createElement(Q,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{path:"/admin/loan/:loanId",render:function(e){var t=e.match;return l.a.createElement(yt,{loanId:t.params.loanId})}}),l.a.createElement(p.a,{path:"/admin/client/:clientId",render:function(e){var t=e.match;return l.a.createElement(Ke,{clientId:t.params.clientId})}}),l.a.createElement(p.a,{path:"/admin/create-loan/:clientId",render:function(t){var a=t.match;return l.a.createElement(ue,{clientId:a.params.clientId,userLocation:e.state.loggedInUser.location})}})))):this.state.loggedInUser&&this.state.loggedInUser.borrower?l.a.createElement("div",{className:"App"},l.a.createElement(Xt,{userInSession:this.state.loggedInUser,logout:this.logout},l.a.createElement(d.a,null,l.a.createElement(p.a,{exact:!0,path:"/",render:function(){return l.a.createElement(Zt,{user:e.state.loggedInUser,getUser:e.getTheUser})}}),l.a.createElement(p.a,{exact:!0,path:"/client/activity",render:function(){return l.a.createElement(Zt,{user:e.state.loggedInUser,getUser:e.getTheUser})}}),l.a.createElement(p.a,{exact:!0,path:"/client/loan",render:function(){return l.a.createElement(ca,{user:e.state.loggedInUser,getUser:e.getTheUser})}}),l.a.createElement(p.a,{exact:!0,path:"/client/profile",render:function(){return l.a.createElement(oa,{user:e.state.loggedInUser,getUser:e.getTheUser})}})))):l.a.createElement("div",{className:"App-auth"},l.a.createElement("header",{className:"App-header"},l.a.createElement(d.a,null,l.a.createElement(p.a,{exact:!0,path:"/signup",render:function(){return l.a.createElement(D,{getUser:e.getTheUser})}}),l.a.createElement(p.a,{exact:!0,path:"/login",render:function(){return l.a.createElement(x,{getUser:e.getTheUser})}}))))}}]),t}(n.Component),ua=Object(h.a)(ma),da=a(664);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(da.a,null,l.a.createElement(ua,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[329,1,2]]]);
//# sourceMappingURL=main.8c6fd869.chunk.js.map
(window["webpackJsonpreact-login"]=window["webpackJsonpreact-login"]||[]).push([[0],{166:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},251:function(e,t){e.exports={clientUrls:[{link:!0,url:"activity",text:"Actividad"},{link:!0,url:"loan",text:"Prestamos"},{link:!0,url:"profile",text:"Perfil"}],adminUrls:[{link:!1,text:"General",links:[{link:!0,url:"activity",text:"Cobranzas"},{link:!0,url:"collection-late",text:"Cobranza (D\xedas)"},{link:!0,url:"payments",text:"Pagos"},{link:!0,url:"portfolio",text:"Portafolio"},{link:!0,super:!0,url:"evolution",text:"Evoluci\xf3n"}]},{link:!1,text:"Finanzas",links:[{link:!0,url:"financials/indicators",text:"Indicadores"},{link:!0,url:"financials/p-and-l",text:"P & L"}]},{link:!1,text:"Cliente",links:[{link:!0,url:"client/list",text:"Listado"}]},{link:!1,text:"Compa\xf1ia",links:[{link:!0,url:"company/create",text:"Crear"},{link:!0,url:"company/list",text:"Listado"}]},{link:!1,text:"Inversionista",links:[{link:!0,url:"investor/create",text:"Crear"},{link:!0,url:"investor/details",text:"Detalle"},{link:!0,url:"investor/transaction",text:"Transacciones"}]},{link:!1,text:"Prestamo",links:[{link:!0,url:"loan/calculator",text:"Calculadora"},{link:!0,url:"loan/list",text:"Listado"},{link:!0,url:"loan/period",text:"Periodo"}]}]}},27:function(e,t){var a={client:{gender:"MALE",civilStatus:"SINGLE",DOB:(new Date).toISOString().substring(0,10),academicLevel:"MIDDLESCHOOL",spouseDOB:"1990-01-01",country:"peru",employmentStatus:"EMPLOYED",startDate:"2015-01-01",fullName:null,firstName:"",lastName:"",nationalId:null,nationality:null,otherNationalities:null,personalReference:null,placeOfBirth:null,immigrationCertificate:null,Occupation:null,spouseFullName:null,spouseNationalId:null,spousePlaceOfBirth:null,street:null,residenceName:null,residenceNumber:null,city:null,cellphoneNumber:null,email:null,businessName:null,businessAddress:null,businessPosition:null,businessPhoneNumber:null,businessEmail:null,monthlyIncome:null,otherIncome:null},open:!1,details:{}};e.exports={gender:[{value:"MALE",label:"Masculino"},{value:"FEMALE",label:"Femenino"}],civilStatus:[{label:"Soltero",value:"SINGLE"},{label:"Casado",value:"MARRIED"},{label:"Divorciado",value:"DIVORCED"},{label:"Viudo",value:"WIDOW"}],academicLevel:[{label:"Primaria",value:"MIDDLESCHOOL"},{label:"Secundaria",value:"HIGHSCHOOL"},{label:"Universidad",value:"UNIVERSITY"},{label:"Posgrado",value:"POSTGRADUATE"}],employmentStatus:[{label:"Empleado",value:"EMPLOYED"},{label:"Desempleado",value:"UNEMPLOYED"},{label:"Independiente",value:"INDEPENDANT"},{label:"Retirado",value:"RETIRED"},{label:"Otro",value:"OTHER"}],countries:[{label:"Per\xfa",value:"PERU"},{label:"Rep\xfablica Dominicana",value:"DOMINICAN_REPUBLIC"},{label:"Venezuela",value:"VENEZUELA"}],initialState:a,initialClientState:{gender:"MALE",civilStatus:"SINGLE",DOB:"1990-01-01",academicLevel:"MIDDLESCHOOL",spouseDOB:"1990-01-01",country:"PERU",employmentStatus:"EMPLOYED",startDate:"2015-01-01",fullName:null,nationalId:null,nationality:null,otherNationalities:null,placeOfBirth:null,immigrationCertificate:null,Occupation:null,spouseFullName:null,spouseNationalId:null,spousePlaceOfBirth:null,street:null,residenceName:null,residenceNumber:null,city:null,cellphoneNumber:null,email:null,businessName:null,businessAddress:null,businessPosition:null,businessPhoneNumber:null,businessEmail:null,monthlyIncome:null,otherIncome:null},accounts:["RBPERU","GCUS","GFUS","GCDR"],loanInitialState:{_id:"",collateralType:"NoCollateral",collateralValue:0,collateralDescription:"",open:!1,loanDetails:{duration:0,investedCapital:0,capital:0,interest:0,startAmortPeriod:0,loanType:"linear",period:"monthly",startDate:"",paymentDate:""},investmentEqCapital:!0,investor:"",currency:"USD",cashAccount:"",useOfFunds:"vehicle",investmentAmount:0,investors:[],autoInvest:!0},nationalIdType:[{label:"C\xe9dula o DNI",value:"ID"},{label:"Certificado Migratorio",value:"IMMIGRATION_CERTIFICATE"},{label:"Pasaporte",value:"PASSPORT"},{label:"Licencia de Conducir",value:"DRIVING_LICENSE"}],ownership:[{label:"Privada",value:"PRIVATE"},{label:"P\xfablica",value:"PUBLIC"}],txConstants:[{label:"DEPOSIT",value:"Deposito"},{label:"WITHDRAWAL",value:"Retiro"},{label:"INTERNAL_TRANSFER_RECIPIENT",value:"Transfer interna - destinario"},{label:"INTERNAL_TRANSFER_SENDER",value:"Transfer interna - remitente"},{label:"INTERNATIONAL_TRANSFER_RECIPIENT",value:"Intl. transfer - destinatario"},{label:"INTERNATIONAL_TRANSFER_SENDER",value:"Intl. transfer - remitente"},{label:"COST",value:"Costo"},{label:"COMMISSION",value:"Comisi\xf3n"},{label:"COST",value:"Costo"},{label:"COMMISSION",value:"Comisi\xf3n"},{label:"INSURANCE_COST",value:"Costo de seguro"},{label:"BANKING_FEE",value:"Fee bancario general"},{label:"BANKING_TRANSFER_FEE",value:"Fee bancario por transferencias"},{label:"INCOME_ORIGINATION_FEE",value:"Ingreso por originaci\xf3n"},{label:"COST_ORIGINATION_LEGAL",value:"Costo legal por originaci\xf3n"},{label:"COST_ORIGINATION_TRANSPORT",value:"Costo de transporte por originaci\xf3n"},{label:"COST_ORIGINATION_EXPENSES",value:"Gastos por originaci\xf3n"},{label:"COST_ORIGINATION_SENTINEL",value:"Costo originaci\xf3n sentinel"},{label:"COST_SERVICING_LEGAL",value:"Costo legal servicio de deuda"},{label:"COST_SERVICING_TRANSPORT",value:"Costo de transporte servicio de deuda"},{label:"COST_SERVICING_EXPENSES",value:"Gastos de servicio de deuda"},{label:"SALARY",value:"Salarios"},{label:"SG&A_MARKETING",value:"General, Administraci\xf3n, Servicios - Marketing"},{label:"SG&A_MISCELLANEOUS",value:"General, Administraci\xf3n, Servicios - Miscelaneo"},{label:"SG&A_ACCOUNTING",value:"Contabilidad"},{label:"SG&A_TECH_SERVICES",value:"Tecnologia"},{label:"SG&A_LEGAL",value:"Legal"},{label:"SG&A_MAILING",value:"Correspondencia"},{label:"SG&A_OFFICE_RENT",value:"Renta de oficina"},{label:"SG&A_OFFICE_PRINT",value:"Servicios de impresi\xf3n"},{label:"SG&A_OFFICE_STORAGE",value:"Deposito"},{label:"TRAVEL_EXPENSES",value:"Gastos de viaje"},{label:"TRANSPORT",value:"Transporte general"}],txConcepts:[{value:"DEPOSIT",label:"Deposito"},{value:"WITHDRAWAL",label:"Retiro"},{value:"INTERNAL_TRANSFER_RECIPIENT",label:"Recepci\xf3n Transferencia Interna"},{value:"INTERNAL_TRANSFER_SENDER",label:"Envio Transferencia Interna"},{value:"INTERNATIONAL_TRANSFER_RECIPIENT",label:"Recepci\xf3n Transferencia Intl"},{value:"INTERNATIONAL_TRANSFER_SENDER",label:"Envio Transferencia Intl"},{value:"DIVIDENDS",label:"Distribuci\xf3n de Utilidades"},{value:"DIVIDEND_INCOME",label:"Dividendos"},{value:"INTEREST_COST",label:"Pago de Intereses"},{value:"FEE",label:"Fee"},{value:"COST",label:"Costo"},{value:"UNCLASSIFIED_COST",label:"Costo sin clasificar"},{value:"COMMISSION_INCOME",label:"Ingreso por comisiones"},{value:"COMMISSION_COST",label:"Egreso por comisiones"},{value:"INSURANCE_COST",label:"Costo de Seguro"},{value:"BANKING_FEE",label:"Fee Bancario"},{value:"BANKING_TRANSFER_FEE",label:"Fee Transferencia Bancario"},{value:"INCOME_ORIGINATION_FEE",label:"Ingreso por originaci\xf3n"},{value:"COST_ORIGINATION_LEGAL",label:"Costo de originaci\xf3n - Legal"},{value:"COST_ORIGINATION_TRANSPORT",label:"Costo de originaci\xf3n - Transporte"},{value:"COST_ORIGINATION_EXPENSES",label:"Costo de originaci\xf3n - Gastos"},{value:"COST_ORIGINATION_SENTINEL",label:"Costo de originaci\xf3n - Sentinel"},{value:"COST_SERVICING_LEGAL",label:"Costo de servicio - Legal"},{value:"COST_SERVICING_TRANSPORT",label:"Costo de servicio - Transporte"},{value:"COST_SERVICING_EXPENSES",label:"Costo de servicio - Gastos"},{value:"SALARY",label:"Salarios"},{value:"SG&A_MARKETING",label:"General, Administraci\xf3n, Servicios - Marketing"},{value:"SG&A_MISCELLANEOUS",label:"General, Administraci\xf3n, Servicios - Miscelaneo"},{value:"SG&A_ACCOUNTING",label:"General, Administracion, Servicios - Contabilidad"},{value:"SG&A_TECH_SERVICES",label:"General, Administracion, Servicios - Tecnologia"},{value:"SG&A_LEGAL",label:"General, Administracion, Servicios - Legal"},{value:"SG&A_MAILING",label:"General, Administracion, Servicios - Correspondencia"},{value:"SG&A_OFFICE_RENT",label:"General, Administracion, Servicios - Renta"},{value:"SG&A_OFFICE_PRINT",label:"General, Administracion, Servicios - Copias e Impresiones"},{value:"SG&A_OFFICE_STORAGE",label:"General, Administracion, Servicios - Almacenamiento"},{value:"TRAVEL_EXPENSES",label:"Gasto de viaje"},{value:"TRANSPORT",label:"Transporte"}],location:{DOMINICAN_REPUBLIC:"Rep\xfablica Dominicana",VENEZUELA:"Venezuela",USA:"USA",PERU:"Per\xfa"},totalConcepts:["Fecha","Ingresos Financieros","Costos Financieros","Margen Financiero Bruto","Gastos por Servicios Financieros","Margen Operativo","Gasto General Administrativo y Servicios","Resultado Operativo","Dividendos"],periodicityData:[{value:"weekly",label:"Semanal"},{value:"monthly",label:"Mensual"},{value:"yearly",label:"Anual"}]}},303:function(e,t,a){},331:function(e,t,a){},332:function(e,t,a){},333:function(e,t,a){},334:function(e,t,a){},335:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){},338:function(e,t,a){},361:function(e,t){e.exports.rounder=function(e){return Math.round(1e4*e)/1e4}},387:function(e,t,a){e.exports=a(692)},392:function(e,t,a){},393:function(e,t,a){},635:function(e,t,a){},660:function(e,t,a){},661:function(e,t,a){},662:function(e,t,a){},663:function(e,t,a){},664:function(e,t,a){},665:function(e,t,a){},677:function(e,t,a){},678:function(e,t,a){},679:function(e,t,a){},680:function(e,t,a){},681:function(e,t,a){},682:function(e,t,a){},683:function(e,t,a){},684:function(e,t,a){},685:function(e,t,a){},686:function(e,t,a){},687:function(e,t,a){},692:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(31),c=a.n(r),i=(a(392),a(10)),s=a(13),o=a(15),m=a(14),u=a(16),d=(a(393),a(774)),p=a(766),E=a(739),v=a(34),f=a.n(v),h=a(35),g=a.n(h),b=g()(),N=function e(){var t=this;Object(i.a)(this,e),this.signup=function(e){return t.service.post("/signup",e).then((function(e){return e.data}))},this.confirm=function(e){return t.service.post("/confirmation",e).then((function(e){return e.data})).catch((function(e){return e}))},this.resendVerification=function(){return t.service.get("/resend-confirmation").then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/currentUser").then((function(e){return e.data}))},this.logout=function(){return t.service.get("/logout").then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat(b.REACT_APP_API_URL,"/api/auth"),withCredentials:!0})},y=a(7),O=a(25),C=a(736),S=a(29),D=a(112),I=a.n(D),P=a(240),x=a(241),w=a(242),T=a(302),j=(a(166),S.object().shape({email:S.string().email("Inserte un email v\xe1lido").required("Inserte su email"),firstName:S.string().min(2,"Inserte su nombre, m\xe1s de 2 caracteres").max(40,"Inserte su nombre, menos de 40 caracteres").required("Inserte su nombre"),lastName:S.string().min(2,"Inserte su apellido, m\xe1s de 2 caracteres").max(40,"Inserte su apellido, menos de 40 caracteres").required("Inserte su apellido"),password:S.string().min(8,"Inserte m\xe1s de 8 caracteres").max(40,"Inserte menos de 40 caracteres").required("Inserte una contrase\xf1a"),passwordConfirmation:S.string().oneOf([S.ref("password"),null],"Las contrase\xf1as deben de ser iguales")})),A=Object(E.a)(I()((function(e){return{main:Object(y.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit,border:"1px solid red"},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{height:"500px",marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit,backgroundColor:"#0F1433",color:"#F2F5F7",width:"100%",fontWeight:500,"&:hover":{backgroundColor:"#011D66",color:"#F2F5F7"}},inputErrors:{color:"red"}}}))((function(e){var t=new N,a=e.classes,n=e.getUser;return l.a.createElement("div",{className:"access-holder"},l.a.createElement("div",{className:"entry"}),l.a.createElement("div",{className:"access-window"},l.a.createElement("div",{className:"logo-access"}),l.a.createElement("div",{className:"user-credentials"},l.a.createElement("p",{className:"access-window-title"},"Bienvenido a Ribo"),l.a.createElement("p",{className:"access-window-subtitle"},"Ya tiene una cuenta? ",l.a.createElement(C.a,{to:"/login"},"ingrese aqui!")),l.a.createElement(O.c,{initialValues:{email:"",password:"",passwordConfirmation:"",firstName:"",lastName:""},onSubmit:function(a,l){l.setSubmitting,l.setErrors,t.signup(a).then((function(t){n(t),e.history.push("/")})).catch((function(e){console.log(e.message)}))},validationSchema:j,render:function(e){var t=e.values,n=e.errors,r=e.touched,c=e.handleBlur,i=e.handleChange,s=e.handleSubmit,o=e.isSubmitting;return l.a.createElement("form",{className:a.form,onSubmit:s},l.a.createElement(P.a,{margin:"normal",fullWidth:!0},l.a.createElement(x.a,{htmlFor:"username"},"Email"),l.a.createElement(w.a,{type:"email",name:"email",onChange:i,onBlur:c,value:t.email}),n.email&&r.email&&l.a.createElement("div",{className:a.inputErrors},n.email)),l.a.createElement(P.a,{margin:"normal",fullWidth:!0},l.a.createElement(x.a,{htmlFor:"username"},"Nombre"),l.a.createElement(w.a,{type:"firstName",name:"firstName",onChange:i,onBlur:c,value:t.firstName}),n.firstName&&r.firstName&&l.a.createElement("div",{className:a.inputErrors},n.firstName)),l.a.createElement(P.a,{margin:"normal",fullWidth:!0},l.a.createElement(x.a,{htmlFor:"username"},"Apellido"),l.a.createElement(w.a,{type:"lastName",name:"lastName",onChange:i,onBlur:c,value:t.lastName}),n.lastName&&r.lastName&&l.a.createElement("div",{className:a.inputErrors},n.lastName)),l.a.createElement(P.a,{margin:"normal",fullWidth:!0},l.a.createElement(x.a,{htmlFor:"username"},"Contrase\xf1a"),l.a.createElement(w.a,{type:"password",name:"password",onChange:i,onBlur:c,value:t.password}),n.password&&r.password&&l.a.createElement("div",{className:a.inputErrors},n.password)),l.a.createElement(P.a,{margin:"normal",fullWidth:!0},l.a.createElement(x.a,{htmlFor:"username"},"Confirmar contrase\xf1a"),l.a.createElement(w.a,{type:"password",name:"passwordConfirmation",onChange:i,onBlur:c,value:t.passwordConfirmation}),n.passwordConfirmation&&r.passwordConfirmation&&l.a.createElement("div",{className:a.inputErrors},n.passwordConfirmation)),l.a.createElement("div",{className:"buttonHolder"},l.a.createElement(T.a,{variant:"contained",color:"primary",className:a.submit,type:"submit",disabled:o},"Crear cuenta"),n.error&&l.a.createElement("div",{className:a.inputErrors},n.error)))}}))))}))),R=a(5),L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then((function(e){a.setState({username:t,password:n,error:!1}),a.props.getUser(e),a.props.history.push("/")})).catch((function(e){a.setState({username:t,password:n,error:e.response.data.message})}))},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(y.a)({},n,l))},a.state={username:"",password:""},a.service=new N,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return l.a.createElement("div",{className:"access-holder"},l.a.createElement("div",{className:"entry"}),l.a.createElement("div",{className:"access-window"},l.a.createElement("div",{className:"logo-access"}),l.a.createElement("div",{className:"user-credentials"},l.a.createElement("p",{className:"access-window-title"},"Bienvenido de nuevo."),l.a.createElement("p",{className:"access-window-subtitle"},"No tienes una cuenta? ",l.a.createElement(C.a,{to:"/signup"},"registrate aqui!")),l.a.createElement("form",{className:t.form,onSubmit:this.handleFormSubmit},l.a.createElement(P.a,{margin:"normal",required:!0,fullWidth:!0},l.a.createElement(x.a,{htmlFor:"username"},"Usuario"),l.a.createElement(w.a,{id:"username",name:"username",autoComplete:"username",autoFocus:!0,value:this.state.username,onChange:function(t){return e.handleChange(t)}})),l.a.createElement(P.a,{margin:"normal",required:!0,fullWidth:!0},l.a.createElement(x.a,{htmlFor:"password"},"Contrase\xf1a"),l.a.createElement(w.a,{name:"password",type:"password",id:"password",autoComplete:"current-password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),l.a.createElement(T.a,{type:"submit",fullWidth:!0,variant:"contained",className:t.submit},"Ingresar")),this.state.error?l.a.createElement("div",{className:"error-notification"},l.a.createElement("h1",null,"Usuario o contrase\xf1a incorrecta, intente nuevamente")):"")))}}]),t}(n.Component),k=Object(E.a)(Object(R.a)((function(e){return{main:Object(y.a)({width:"auto",display:"block",marginLeft:e.spacing(3),marginRight:e.spacing(3),border:"1px solid red"},e.breakpoints.up(400+2*e.spacing(3)),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{height:"500px",marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{marginTop:e.spacing(3),backgroundColor:"#0F1433",color:"#F2F5F7",fontWeight:500,"&:hover":{backgroundColor:"#011D66",color:"#F2F5F7"}}}}))(L)),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){var e={confirmationCode:a.props.confirmationCode};a.service.confirm(e).then((function(e){!0===e.confirmed?a.setState({confirmed:!0,confirming:!1}):a.setState({confirmed:!1,confirming:!1})})).catch((function(e){a.setState({confirmed:!1,confirming:!1})}))},a.state={confirming:!0,confirmed:!1},a.service=new N,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"access-holder"},l.a.createElement("div",{className:"entry"}),l.a.createElement("div",{className:"access-window"},l.a.createElement("div",{className:"logo-access"}),l.a.createElement("div",{className:"user-credentials"},l.a.createElement("p",{className:"access-window-title"},"Verificaci\xf3n"),this.state.confirming?l.a.createElement("p",null,"Verificando cuenta..."):this.state.confirmed?l.a.createElement("p",null,"Cuenta verificada, puedes ingresar a su cuenta haciendo click en ",l.a.createElement(C.a,{to:"/login"},"ingresar!")):l.a.createElement("p",null,"La cuenta no pudo ser verificada, ingrese a su cuenta nuevamente y solicite un codigo nuevo",l.a.createElement(C.a,{to:"/login"}," aqui!")," "))))}}]),t}(n.Component),_=Object(E.a)(Object(R.a)((function(e){return{main:Object(y.a)({width:"auto",display:"block",marginLeft:e.spacing(3),marginRight:e.spacing(3),border:"1px solid red"},e.breakpoints.up(400+2*e.spacing(3)),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{height:"500px",marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{marginTop:e.spacing(3),backgroundColor:"#0F1433",color:"#F2F5F7",fontWeight:500,"&:hover":{backgroundColor:"#011D66",color:"#F2F5F7"}}}}))(F)),M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={},a.service=new N,a.handleClick=function(){a.service.resendVerification().then((function(e){"success"===e.status&&a.setState({status:"success"})})).catch((function(e){a.setState({status:"failure"})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.user,r=this.state.status;return l.a.createElement("div",{className:"access-holder"},l.a.createElement("div",{className:"entry"}),l.a.createElement("div",{className:"access-window"},l.a.createElement("div",{className:"logo-access"}),l.a.createElement("div",{className:"user-credentials"},l.a.createElement("p",{className:"access-window-title"},"Bienvenido ",n.firstName.charAt(0).toUpperCase()+n.firstName.slice(1)),l.a.createElement("p",{className:"access-window-subtitle"},"Para activar tu cuenta revisa tu buzon de correo electronico y sigue los pasos para la confirmaci\xf3n."),l.a.createElement("p",{className:"access-window-subtitle"},"Si no has recibido el correo de verificaci\xf3n, haz click en el siguiente bot\xf3n."),l.a.createElement(T.a,{type:"button",fullWidth:!0,onClick:function(){return e.handleClick()},variant:"contained",className:a.submit},"Reenviar correo de confirmaci\xf3n"),"success"===r&&l.a.createElement("div",{className:"access-notify-success"},l.a.createElement("p",null," El correo de confirmaci\xf3n se ha reenviado correctamente ")),"failure"===r&&l.a.createElement("div",{className:"access-notify-failure"},l.a.createElement("p",null," El correo de confirmaci\xf3n no se ha enviado correctament, intente nuevamente ")),l.a.createElement("p",{className:"access-window-note"},"*Recuerda de revisar en tu buz\xf3n de correo no deseado"))))}}]),t}(n.Component),U=Object(E.a)(Object(R.a)((function(e){return{main:Object(y.a)({width:"auto",display:"block",marginLeft:e.spacing(3),marginRight:e.spacing(3),border:"1px solid red"},e.breakpoints.up(400+2*e.spacing(3)),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{height:"500px",marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{marginTop:e.spacing(3),backgroundColor:"#0F1433",color:"#F2F5F7",fontWeight:500,"&:hover":{backgroundColor:"#011D66",color:"#F2F5F7"}}}}))(M)),Y=a(20),B=a.n(Y),G=a(30),W=g()(),q=function e(){var t=this;Object(i.a)(this,e),this.totals=function(e){return t.service.get("/totals/".concat(e)).then((function(e){return e.data}))},this.portfolioMonthStatus=function(){return t.service.get("/portfolio/month/schedule/").then((function(e){return e.data}))},this.portfolioAggregates=function(){return t.service.get("/portfolioAggregates").then((function(e){return e.data}))},this.portfolioTotalsByStatus=function(e){return t.service.get("/portfolio/total/schedule/".concat(e)).then((function(e){return e.data}))},this.portfolioTotalsByEveryStatus=function(e){return t.service.get("/portfolio/total/schedule/all").then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat(W.REACT_APP_API_URL,"/api/test/summary"),withCredentials:!0})};a(303);var V=function(e){var t=e.data,a=e.monthData,n=a[0];return l.a.createElement("div",{className:"loans-summary"},l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},t._id.toUpperCase()),l.a.createElement("p",{className:"total"},"$",t.totalCapitalRemaining.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"AMORTIZADO"),l.a.createElement("p",{className:"acc-total"},"$",t.totalPaid.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"TOTAL NOMINAL"),l.a.createElement("p",{className:"acc-total"},"$",t.totalCapital.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"TASA REAL"),l.a.createElement("p",{className:"total"},a?(n.details.projectedInterest/n.details.projectedPrincipal*100).toLocaleString(void 0,{maximumFractionDigits:2}):"","%"),l.a.createElement("p",{className:"acc-title"},"TASA"),l.a.createElement("p",{className:"acc-total"},(100*t.averageIntRate).toLocaleString(void 0,{maximumFractionDigits:2}),"%"),l.a.createElement("p",{className:"acc-title"},"INTERESES"),l.a.createElement("p",{className:"acc-total"},"$",n?n.details.interestPaid.toLocaleString(void 0,{maximumFractionDigits:2}):""),l.a.createElement("p",{className:"acc-title"},"INTERESES PROJECTADOS"),l.a.createElement("p",{className:"acc-total"},"$",n.details.projectedInterest.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"CAPITAL RESTANTE MEDIO"),l.a.createElement("p",{className:"total"},"$",t.averageLoanActiveCap.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"PRESTAMO MEDIO"),l.a.createElement("p",{className:"acc-total"},"$",t.averageLoan.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"AMORTIZADO"),l.a.createElement("p",{className:"acc-total"},"$",n.details.principalPaid.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"AMORTIZCI\xd3N MES"),l.a.createElement("p",{className:"acc-total"},"$",n.details.projectedPrincipal.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"DURACION INICIAL"),l.a.createElement("p",{className:"total"},t.averageDuration.toLocaleString(void 0,{maximumFractionDigits:2})," meses"),l.a.createElement("p",{className:"acc-title"},"# INVERSIONES"),l.a.createElement("p",{className:"acc-total"},t.totalActiveLoans)))};var z=function(e){var t=e.data,a=["PAGOS REALIZADOS","POR PAGAR","VENCIDOS","PENDIENTE"];return l.a.createElement("div",{className:"loans-summary"},t.map((function(e,t){return l.a.createElement("div",{key:t,className:"detail-summary"},l.a.createElement("p",{className:"title"},a[t]),l.a.createElement("p",{className:"total"},"$",e[0].totalPayment.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"TOTAL INTERESES"),l.a.createElement("p",{className:"acc-total"},"$",e[0].totalInterest.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"TOTAL CAPITAL"),l.a.createElement("p",{className:"acc-total"},"$",e[0].totalCapital.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("p",{className:"acc-title"},"CANTIDAD"),l.a.createElement("p",{className:"acc-total"},"# ",e[0].totalQuantity.toLocaleString(void 0,{maximumFractionDigits:2})))})),l.a.createElement("div",{className:"detail-summary-notes"},l.a.createElement("p",{className:"notes"},"* Datos historicos, representan los datos acumulados reflejados en el cronograma de pago."),l.a.createElement("p",{className:"notes"},"* Por pagar: pr\xf3ximos 30 d\xedas + los \xfaltimos 7 d\xedas."),l.a.createElement("p",{className:"notes"},"* Vencidos: m\xe1s de 7 d\xedas sin pagar.")))},H=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={getSummary:!0},a.summaryService=new q,a.fetchSummary=Object(G.a)(B.a.mark((function e(){var t,n,l,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.state.getSummary){e.next=17;break}if("PERU"===(t=a.props.userLocation)){e.next=8;break}return e.next=5,a.summaryService.portfolioTotalsByEveryStatus();case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=null;case 9:return n=e.t0,e.next=12,a.summaryService.totals(t);case 12:return l=e.sent,e.next=15,a.summaryService.portfolioMonthStatus();case 15:r=e.sent,Promise.all([l,n,r]).then((function(e){a.setState({getSummary:!1,data:e[0],scheduleData:e[1],monthData:e[2]})})).catch((function(e){a.setState({data:!1})}));case 17:case"end":return e.stop()}}),e)}))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.fetchSummary()}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.scheduleData,n=e.monthData;return l.a.createElement("div",{className:"content"},t&&n?t[0].map((function(e,t){return l.a.createElement(V,{key:t,data:e,monthData:n.filter((function(t){return t._id===e._id}))})})):"",a?l.a.createElement(z,{data:a}):"")}}]),t}(n.Component),$=a(24),X=a(72),Z=g()(),K=function e(){var t=this;Object(i.a)(this,e),this.getAllPayments=function(){return t.service.get("/").then((function(e){return e.data}))},this.deletePayment=function(e){return t.service.delete("/installment/".concat(e)).then((function(e){return e.data}))},this.newPayment=function(e){return t.service.post("/installment/".concat(e._loanSchedule),e).then((function(e){return e.data}))},this.newFullPayment=function(e){return t.service.post("/prepay-loan/installment/".concat(e._loanSchedule),e).then((function(e){return e.data}))},this.newBulkPayment=function(e){return t.service.post("/bulk-payment",e).then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat(Z.REACT_APP_API_URL,"/api/payment"),withCredentials:!0})},J=a(56),Q=a.n(J),ee=a(12),te=a.n(ee);function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var le=[{title:"Nombre",field:"borrower",render:function(e){return l.a.createElement(C.a,{to:"/admin/loan/".concat(e._loan)},e.borrower)}},{title:"Fecha",field:"date_pmt",type:"date"},{title:"Cuenta",field:"cashAccount"},{title:"Monto",field:"amount",render:function(e){return te()(e.amount).format({thousandSeparated:!0,mantissa:2})},type:"numeric"},{title:"Tipo",field:"paymentType"},{title:"Registro",field:"created_at",type:"date"}];function re(e){var t=e.model;return l.a.createElement(Q.a,{columns:le,data:t,title:"PAGOS RECIBIDOS",options:{columnsButton:!0,exportButton:!0,actionsColumnIndex:-1,exportCsv:function(e,t){var a=e.filter((function(e){return!e.hidden&&e.field&&!1!==e.export})),n=t.map((function(e){return a.map((function(t){return e[t.field]}))}));return new X.CsvBuilder("pagos recibidos.csv").setDelimeter(",").setColumns(a.map((function(e){return e.title}))).addRows(n).exportFile()},pageSize:10,exportFileName:"untitled.csv"},toolbar:!0})}var ce=function(){var e=new K,t=Object(n.useState)({columns:le,data:[]}),a=Object($.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){(function(){var t=Object(G.a)(B.a.mark((function t(){var a,n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getAllPayments();case 3:return a=t.sent,n=ne({},r,{data:a}),t.abrupt("return",c(n));case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]),l.a.createElement("div",{className:"content"},l.a.createElement(re,{model:r.data}))},ie=a(152),se=(a(635),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={getSummary:!0},a.summaryService=new q,a.lineData=function(e,t,a){return{labels:e.values,datasets:a.map((function(e){return{label:e.text,fill:!1,backgroundColor:e.color,borderColor:e.color,pointBorderColor:e.color,pointRadius:4,data:e.values}}))}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.fetchSummary()}},{key:"fetchSummary",value:function(){var e=this;this.state.getSummary&&this.summaryService.portfolioAggregates().then((function(t){var a=t.dates,n=t.InterestProjectedIncome,l=t.InterestActualIncome,r=t.PrincipalActualRepayment,c=t.PrincipalProjectedRepayment,i=t.PrincipalProjectedOutstanding,s=t.cumulativeActualIncome,o=t.cumulativeProjectedIncome,m=e.lineData(a,"Intereses",[n,l]),u=e.lineData(a,"Intereses Acumulados",[r,c]),d=e.lineData(a,"Capital",[s,o]),p=e.lineData(a,"Capital Acumulado",[i]);e.setState({getSummary:!1,interestData:m,capitalData:u,cumulativeInterestData:d,principalProjectedOutstanding:p})})).catch((function(t){e.setState({data:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.interestData,a=e.capitalData,n=e.cumulativeInterestData,r=e.principalProjectedOutstanding;return l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"graph-holder"},l.a.createElement("div",{className:"graph-portfolio"},l.a.createElement("p",null,"INTERES - 6m "),t&&l.a.createElement(ie.a,{data:t})),l.a.createElement("div",{className:"graph-portfolio"},l.a.createElement("p",null,"INTERESES ACUMULADOS HISTORICO - 6m "),n&&l.a.createElement(ie.a,{data:n}))),l.a.createElement("div",{className:"graph-holder"},l.a.createElement("div",{className:"graph-portfolio"},l.a.createElement("p",null,"CAPITAL - 6m "),a&&l.a.createElement(ie.a,{data:a})),l.a.createElement("div",{className:"graph-portfolio"},l.a.createElement("p",null,"CAPITAL COLOCADO- 6m "),r&&l.a.createElement(ie.a,{data:r}))))}}]),t}(n.Component)),oe=a(105),me=a(194),ue=a.n(me),de=a(355),pe=g()(),Ee=function e(){var t=this;Object(i.a)(this,e),this.getCollection=function(){return t.service.get("/collection").then((function(e){return e.data}))},this.getCollectionReport=function(){return t.service.get("/collection-days").then((function(e){return e.data}))},this.getPandL=function(e){return t.service.get("/p-and-l",{params:e}).then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat(pe.REACT_APP_API_URL,"/api/reporting"),withCredentials:!0})},ve=a(751),fe=a(768),he=a(748),ge=a(94),be=a(767),Ne=a(745),ye=a(750),Oe=a(184),Ce=a(357),Se=a.n(Ce),De=Object(R.a)((function(e){return{root:{margin:0,display:"flex",justifyContent:"space-between",padding:e.spacing(2),width:"100%"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},buttons:{display:"flex",justifyContent:"space-between"}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,r=Object(oe.a)(e,["children","classes","onClose"]);return l.a.createElement(ye.a,Object.assign({disableTypography:!0,className:a.root},r),l.a.createElement(ge.a,{variant:"h6"},t),n?l.a.createElement(Oe.a,{"aria-label":"close",className:a.closeButton,onClick:n},l.a.createElement(Se.a,null)):null)}));function Ie(e){var t=e.children,a=e.toggle,n=e.open,r=(e.submitTitle,e.title);return l.a.createElement(Ne.a,{onClose:a,"aria-labelledby":"customized-dialog-title",open:n},l.a.createElement(De,{id:"customized-dialog-title",onClose:a},r),t)}function Pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var xe=g()(),we=function e(){var t=this;Object(i.a)(this,e),this.getInstallment=function(e){return t.service.get("/schedule/".concat(e)).then((function(e){return e.data}))},this.getLoanCommissions=function(e){return t.service.get("/commission/".concat(e)).then((function(e){return e.data}))},this.getSalesmen=function(){return t.service.get("/commission/salesmen").then((function(e){return e.data}))},this.addCommission=function(e){return t.service.post("commission",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pe(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e)).then((function(e){return e.data}))},this.deleteCommission=function(e){return t.service.delete("commission/".concat(e)).then((function(e){return e.data}))},this.getLoanDetails=function(){return t.service.get("/").then((function(e){return e.data}))},this.getLoanCompleteDetails=function(e){return t.service.get("/complete-details/".concat(e)).then((function(e){return e.data}))},this.getPeriodSchedule=function(e,a,n){return t.service.get("/schedule/".concat(e,"/").concat(a,"/").concat(n)).then((function(e){return e.data}))},this.getPortfolioStatus=function(e,a,n){return t.service.get("/portfolio-status/".concat(e,"/").concat(a,"/").concat(n)).then((function(e){return e.data}))},this.getOpenLoanDetails=function(){return t.service.get("/open").then((function(e){return e.data}))},this.getLoanSchedule=function(e){return t.service.get("/loanschedule/".concat(e),{loanId:e}).then((function(e){return e.data}))},this.getWeekSchedule=function(){return t.service.get("/current-week").then((function(e){return e.data}))},this.restructure=function(e,a){return t.service.post("/restructure/".concat(e),a).then((function(e){return e.data}))},this.createLoan=function(e,a,n,l,r,c,i,s,o){return t.service.post("/create",{_borrower:e,insurancePremium:a,collateralType:n,collateralValue:l,collateralDescription:r,loanDetails:c,useOfFunds:i,toInvest:s,currency:o}).then((function(e){return e.data})).catch((function(e){return e.response}))},this.createLoanAllActive=function(e,a,n,l,r,c,i,s,o){return t.service.post("/create/all-active-invest",{_borrower:e,insurancePremium:a,collateralType:n,collateralValue:l,collateralDescription:r,loanDetails:c,useOfFunds:i,currency:s,country:o}).then((function(e){return e.data})).catch((function(e){return e}))},this.makePayment=function(e){return t.service.patch("/installmentpmt/".concat(e.paymentId),{payment:e}).then((function(e){return e.data}))},this.deletePayments=function(e){return t.service.delete("/deletepmt/".concat(e)).then((function(e){return e.data}))},this.deleteLoan=function(e){return t.service.delete("/".concat(e)).then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat(xe.REACT_APP_API_URL,"/api/loan"),withCredentials:!0})},Te=a(746),je=a(747),Ae=a(195),Re=a(749),Le=a(322),ke=a(323),Fe=a(306),_e=a(8),Me=a.n(_e);function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ue(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Be=[{account:"RBPERU",country:"PERU"},{account:"GCUS",country:"USA"},{account:"GFUS",country:"USA"},{account:"GCDR",country:"DOMINICAN_REPUBLIC"}],Ge=[{value:"CASH",text:"Efectivo"},{value:"CHECK",text:"Cheque"},{value:"DEPOSIT",text:"Deposito"},{value:"TRANSFER",text:"Transfer"},{value:"CARD",text:"Tarjeta"},{value:"ZELLE",text:"Zelle"},{value:"YAPE",text:"Yape"}],We=Object(de.a)((function(e){return{root:{flexGrow:1,maxWidth:550,padding:20,paddingTop:0,width:"100%",minHeight:300},actions:{margin:0,display:"flex",justifyContent:"space-between",paddingTop:e.spacing(1)}}})),qe=Object(R.a)((function(e){return{root:{padding:e.spacing(2),paddingTop:e.spacing(0)}}}))(Te.a),Ve=Object(R.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(je.a),ze=function(e){var t=e.toggle,a=e.submitTitle,r=Object(oe.a)(e,["toggle","submitTitle"]),c=We(),i=l.a.useState({date_pmt:Me()(),amount:"",cashAccount:"",method:""}),s=Object($.a)(i,2),o=s[0],m=s[1],u=Object(n.useState)(!1),d=Object($.a)(u,2),p=d[0],E=d[1],v=Object(n.useState)(!1),f=Object($.a)(v,2),h=f[0],g=f[1],b=Object(n.useState)(!1),N=Object($.a)(b,2),O=N[0],C=N[1],S=new we,D=function(e){return function(t){m(Ye({},o,Object(y.a)({},e,t.target.value)))}};return Object(n.useEffect)((function(){S.getInstallment(r.installment).then((function(e){var t=Math.round(100*(e.interest+e.principal-e.interest_pmt-e.principal_pmt))/100;m(Ye({},o,{date_pmt:Me()(),currency:e.currency,amount:t,_loan:e._loan,_loanSchedule:r.installment})),C(!0)}))}),[]),Object(n.useEffect)((function(){o.cashAccount.length>0&&o.method.length>0?g(!0):g(!1)}),[o]),l.a.createElement("div",{className:c.root},O?l.a.createElement(l.a.Fragment,null,l.a.createElement(qe,{dividers:!0},l.a.createElement(Re.a,{className:c.content,container:!0,spacing:3},l.a.createElement(Re.a,{item:!0,xs:12,md:4},l.a.createElement(P.a,{fullWidth:!0},l.a.createElement(x.a,{htmlFor:"standard-adornment-amount"},"Monto"),l.a.createElement(w.a,{required:!0,id:"standard-adornment-amount",value:o.amount,onChange:D("amount"),startAdornment:l.a.createElement(ke.a,{position:"start"},o.currency)}))),l.a.createElement(Re.a,{item:!0,xs:12,md:4},l.a.createElement(P.a,{fullWidth:!0},l.a.createElement(Le.a,{id:"date",required:!0,label:"Fecha de pago",type:"date",name:"date_pmt",onChange:D("date_pmt"),value:new Date(o.date_pmt).toISOString().substring(0,10),InputProps:{inputProps:{max:new Date(Me()().format("YYYY-MM-DD")).toISOString().substring(0,10)}},InputLabelProps:{shrink:!0}}))),l.a.createElement(Re.a,{item:!0,xs:12,md:4},l.a.createElement(P.a,{fullWidth:!0},l.a.createElement(Le.a,{label:"Cuenta",onChange:D("cashAccount"),required:!0,select:!0,value:o.cashAccount,InputLabelProps:{shrink:!0}},Be.map((function(e,t){return l.a.createElement(Fe.a,{key:t,value:e.account},e.account)}))))),l.a.createElement(Re.a,{item:!0,xs:12,md:6},l.a.createElement(P.a,{fullWidth:!0},l.a.createElement(Le.a,{label:"Metodo",onChange:D("method"),required:!0,select:!0,value:o.method,InputLabelProps:{shrink:!0}},Ge.map((function(e,t){return l.a.createElement(Fe.a,{key:t,value:e.value},e.text)}))))),l.a.createElement(Re.a,{item:!0,xs:12,md:6},l.a.createElement(P.a,{fullWidth:!0},l.a.createElement(x.a,{htmlFor:"standard-adornment-amount"},"Referencia"),l.a.createElement(w.a,{id:"standard-adornment-amount",value:o.reference,onChange:D("reference"),startAdornment:l.a.createElement(ke.a,{position:"start"},"#")}))),l.a.createElement(Re.a,{item:!0,xs:12,md:12},l.a.createElement(P.a,{fullWidth:!0},l.a.createElement(Le.a,{id:"standard-multiline-static",label:"Comentario",multiline:!0,rows:"2",value:o.comment,onChange:D("comment"),InputLabelProps:{shrink:!0}}))))),l.a.createElement(Ve,null,l.a.createElement(Re.a,{className:c.actions,item:!0,xs:12,md:12},l.a.createElement(T.a,{onClick:t},"Cancelar"),l.a.createElement(T.a,{variant:"contained",color:"primary",disabled:!(!p&&h),onClick:function(){E(!0),r.receivePayment(o)}},p?l.a.createElement(Ae.ClipLoader,{size:10,color:"white",loading:!O}):a)))):l.a.createElement(Re.a,{container:!0,className:c.root,spacing:3},l.a.createElement(Ae.ClipLoader,{size:50,color:"#123abc",loading:!O})))},He=(a(331),[{title:"Name",field:"name",render:function(e){return l.a.createElement(C.a,{to:"/admin/loan/".concat(e._id)},e.name)}},{title:"Telefono",field:"cellphoneNumber",type:"string"},{title:"Fecha",field:"date",type:"date",render:function(e){return Me()(e.date).format("YYYY/MM/DD")}},{title:"Dias",field:"dayDiff",type:"numeric",render:function(e){return te()(e.dayDiff).format({thousandSeparated:!0,mantissa:0})}},{title:"Cuota",field:"oldest_payment",hidden:!0,type:"numeric",render:function(e){return te()(e.oldest_payment).format({thousandSeparated:!0,mantissa:2})}},{title:"Cuotas Vencidas",field:"number_unpaid",type:"numeric"},{title:"Monto Total Vencido",field:"value",type:"numeric",render:function(e){return te()(e.value).format({thousandSeparated:!0,mantissa:2})}},{title:"Clasificaci\xf3n",field:"periodClassification"},{title:"Estatus",field:"status"},{title:"Capital",field:"remainingCapital",render:function(e){return te()(e.remainingCapital).format({thousandSeparated:!0,mantissa:2})},type:"numeric"}]);function $e(e){var t=e.tableData,a=e.togglePaymentOption;return l.a.createElement(Q.a,{title:"Cobranza",columns:He,data:t,options:{search:!0,sort:!0,exportButton:!0,showTitle:!1,toolbar:!0,pageSize:10,actionsColumnIndex:4,exportCsv:function(e,t){var a=e.filter((function(e){return e.field&&!1!==e.export})),n=t.map((function(e){return a.map((function(t){return e[t.field]}))}));return new X.CsvBuilder("".concat(Me()().format("YYYY-MM-DD"),"-cobranza.csv")).setDelimeter(",").setColumns(a.map((function(e){return e.title}))).addRows(n).exportFile()},exportFileName:"".concat(Me()().format("YYYY-MM-DD"),"-cobranza.csv")},localization:{header:{actions:"Cuota"}},actions:[{icon:"Check",tooltip:"Cuota",onClick:function(e,t){return a(t)}}],components:{Action:function(e){return l.a.createElement("a",{onClick:function(t){return e.action.onClick(t,e.data)}},te()(e.data.oldest_payment).format({thousandSeparated:!0,mantissa:2}))}}})}var Xe=new K,Ze={DOMINICAN_REPUBLIC:"Rep\xfablica Dominicana",VENEZUELA:"Venezuela",PERU:"Per\xfa"};function Ke(e){var t=e.children,a=e.value,n=e.index,r=Object(oe.a)(e,["children","value","index"]);return l.a.createElement(ge.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),a===n&&l.a.createElement(be.a,{p:3},t))}function Je(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Qe=Object(de.a)((function(e){return{root:{flexGrow:1}}}));function et(){var e=Qe(),t=Object(n.useState)(0),a=Object($.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(),s=Object($.a)(i,2),o=s[0],m=s[1],u=Object(n.useState)(!0),d=Object($.a)(u,2),p=d[0],E=d[1],v=Object(n.useState)(0),f=Object($.a)(v,2),h=f[0],g=f[1],b=Object(n.useState)(0),N=Object($.a)(b,2),y=N[0],O=N[1],C=new Ee,S=Object(n.useState)(!1),D=Object($.a)(S,2),I=D[0],P=D[1],x=function(e){P(!I),m(e)};return Object(n.useEffect)((function(){p&&function(){var e=Object(G.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.getCollection();case 3:return t=e.sent,E(!1),e.abrupt("return",O(t));case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[p]),Object(n.useEffect)((function(){(function(){var e=Object(G.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.getCollectionReport();case 3:return t=e.sent,e.abrupt("return",g(t));case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),l.a.createElement("div",{className:"dashboard-content"},l.a.createElement("div",{className:e.root},l.a.createElement(ve.a,{position:"static",style:{"background-color":"rgb(0,68,107)"}},l.a.createElement(fe.a,{value:r,onChange:function(e,t){c(t)},"aria-label":"simple tabs example"},y?y.children.map((function(e,t){return l.a.createElement(he.a,Object.assign({label:Ze[e.name]},Je(t)))})):"",y?l.a.createElement(he.a,Object.assign({label:"RESUMEN"},Je(y.children.length))):l.a.createElement(he.a,Object.assign({label:"RESUMEN"},Je(0))))),I&&l.a.createElement(Ie,{toggle:x,open:I,title:"Inserte detalles de pago"},l.a.createElement(ze,{submitTitle:"Procesar Pago",installment:o.oldest_installment,receivePayment:function(e){Xe.newPayment(e).then((function(e){P(!1),E(!0)}))},toggle:x})),y?l.a.createElement(l.a.Fragment,null,y.children.map((function(e,t){return l.a.createElement(Ke,{value:r,index:t,className:"period-card"},e.children.map((function(e){return l.a.createElement($e,{togglePaymentOption:x,tableData:e.children})})))})),l.a.createElement(Ke,{value:r,index:y.children.length,className:"period-card"},l.a.createElement(ue.a,{height:700,width:1200,data:h,valueUnit:"USD"}))):""))}var tt=g()(),at=function e(){var t=this;Object(i.a)(this,e),this.transactionInvestor=function(e){return t.service.post("/",e).then((function(e){return e.data}))},this.getTransactions=function(e,a,n){return t.service.get("/investor/".concat(e,"/").concat(a,"/").concat(n)).then((function(e){return e.data}))},this.getInvestorsAvailability=function(e){return t.service.get("/totals/".concat(e)).then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat(tt.REACT_APP_API_URL,"/api/transaction"),withCredentials:!0})},nt=(a(660),function(e){var t=e.data,a=e.title,n=e.cash;return l.a.createElement("div",{className:"category-cards"},l.a.createElement("div",{className:"category-header"},a.toUpperCase(),n>0?l.a.createElement("span",null," / EFECTIVO DISPONIBLE: ",n.toLocaleString()):""),l.a.createElement("div",{className:"category-items-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-content"}),l.a.createElement("p",{className:"category-title"},"CLIENTE"))),l.a.createElement("div",{className:"category-items-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-content"}),l.a.createElement("p",{className:"category-title"},"FECHA DE PAGO"))),l.a.createElement("div",{className:"category-items-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-title"},"INGRESO ESTIMADO"),l.a.createElement("p",{className:"category-content"},t.interest.toLocaleString()))),l.a.createElement("div",{className:"category-items-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-title"},"REPAGO DE CAPITAL"),l.a.createElement("p",{className:"category-content"},t.principal.toLocaleString()))),l.a.createElement("div",{className:"category-items-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-title"},"TOTAL A PAGAR"),l.a.createElement("p",{className:"category-content"},(t.principal+t.interest).toLocaleString()))),l.a.createElement("div",{className:"category-items-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-title"},"# DE CUOTAS"),l.a.createElement("p",{className:"category-content"},t.numberOfInstallments.toLocaleString()))))}),lt=(a(661),function(e){var t=e.data,a=e.title,n=e.cash;return l.a.createElement("div",{className:"category-cards"},l.a.createElement("div",{className:"category-header"},a.toUpperCase(),n>0?l.a.createElement("span",null," / EFECTIVO DISPONIBLE: ",n.toLocaleString()):""),l.a.createElement("div",{className:"category-items"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-title"},"INGRESO X INTERESES"),l.a.createElement("p",{className:"category-content"},t.interest_pmt.toLocaleString()))),l.a.createElement("div",{className:"category-items"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-title"},"CAPITAL"),l.a.createElement("p",{className:"category-content"},t.principal_pmt.toLocaleString()))),l.a.createElement("div",{className:"category-items"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-title"},"INGRESO ESTIMADO"),l.a.createElement("p",{className:"category-content"},t.interest.toLocaleString()))),l.a.createElement("div",{className:"category-items"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-title"},"REPAGO DE CAPITAL"),l.a.createElement("p",{className:"category-content"},t.principal.toLocaleString()))),l.a.createElement("div",{className:"category-items"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"category-title"},"# DE PRESTAMOS"),l.a.createElement("p",{className:"category-content"},t.numberOfInstallments.toLocaleString()))))}),rt=(a(233),function(e){var t=e.data;return l.a.createElement("div",{className:"item-cards"},l.a.createElement("div",{className:"item-content"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},(t.firstName.split().length>=1&&t.lastName.split().length>=1?t.firstName.split(" ")[0]+" "+t.lastName.split(" ")[0]:t.firstName+" "+t.lastName).slice(0,23)))),l.a.createElement("div",{className:"item-content"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},Me()(t.date).format("YYYY-MM-DD")))),l.a.createElement("div",{className:"item-content"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},t.interest.toLocaleString()+" "+t.currency))),l.a.createElement("div",{className:"item-content"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},t.principal.toLocaleString()+" "+t.currency))),l.a.createElement("div",{className:"item-content"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},l.a.createElement(C.a,{to:"/admin/loan/".concat(t._loan)},"+")))))}),ct=a(359),it=function(e){var t=Object(n.useState)(!1),a=Object($.a)(t,2),r=a[0],c=a[1],i=new K,s=Object(ct.useMediaQuery)({query:"(max-width: 450px"}),o=function(){c(!r)},m=e.data,u=function(t){i.newPayment(t).then((function(t){c(!1),e.loader()}))};return s?l.a.createElement("div",null,l.a.createElement("div",{className:"item-cards"},l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},(m.firstName.split().length>=1&&m.lastName.split().length>=1?m.firstName.split(" ")[0]+" "+m.lastName.split(" ")[0]:m.firstName+" "+m.lastName).slice(0,23)))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},"Fecha: ",-1*Me()(m.date).diff(Me()(),"d")>0?Me()(m.date).format("YYYY-MM-DD")+"  |  Dias:"+-1*Me()(m.date).diff(Me()(),"d")+"d":Me()(m.date).format("YYYY-MM-DD")))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},"Interes: ",m.interest.toLocaleString()))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},"Capital: ",m.principal.toLocaleString()))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},"Cuota: ",(m.principal+m.interest).toLocaleString()+" "+m.currency))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},l.a.createElement(C.a,{to:"/admin/loan/".concat(m._loan)},"Detalle")," | ",l.a.createElement("span",{className:"payment-option",onClick:function(){return o()}},"Pagar"))))),r&&l.a.createElement(Ie,{toggle:o,open:r,title:"Inserte detalles de pago"},l.a.createElement(ze,{submitTitle:"Procesar Pago",installment:m._id,receivePayment:u,toggle:o}))):l.a.createElement("div",null,l.a.createElement("div",{className:"item-cards"},l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},(m.firstName.split().length>=1&&m.lastName.split().length>=1?m.firstName.split(" ")[0]+" "+m.lastName.split(" ")[0]:m.firstName+" "+m.lastName).slice(0,23)))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},-1*Me()(m.date).diff(Me()(),"d")>0?Me()(m.date).format("YYYY-MM-DD")+"  |  "+-1*Me()(m.date).diff(Me()(),"d")+"d":Me()(m.date).format("YYYY-MM-DD")))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content number-content"},m.interest.toLocaleString()))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content number-content"},m.principal.toLocaleString()))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content number-content"},(m.principal+m.interest).toLocaleString()+" "+m.currency))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},l.a.createElement(C.a,{to:"/admin/loan/".concat(m._loan)},"Detalle")," | ",l.a.createElement("span",{className:"payment-option",onClick:function(){return o()}},"Pagar"))))),r&&l.a.createElement(Ie,{toggle:o,open:r,title:"Inserte detalles de pago"},l.a.createElement(ze,{submitTitle:"Procesar Pago",installment:m._id,receivePayment:u,toggle:o})))},st=function(e){var t=Object(n.useState)(!1),a=Object($.a)(t,2),r=a[0],c=a[1],i=new K,s=function(){c(!r)},o=e.data;return l.a.createElement("div",null,l.a.createElement("div",{className:"item-cards"},l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},(o.firstName.split().length>=1&&o.lastName.split().length>=1?o.firstName.split(" ")[0]+" "+o.lastName.split(" ")[0]:o.firstName+" "+o.lastName).slice(0,23)))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},Me()(o.date).format("YYYY-MM-DD")+" | "+-1*Me()(o.date).diff(Me()(),"d")))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content number-content"},(o.interest-o.interest_pmt).toLocaleString()))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content number-content"},(o.principal-o.principal_pmt).toLocaleString()))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content number-content"},o.balanceDue.toLocaleString()+" "+o.currency))),l.a.createElement("div",{className:"item-content-unpaid"},l.a.createElement("div",{className:"item-holder"},l.a.createElement("p",{className:"content"},l.a.createElement(C.a,{to:"/admin/loan/".concat(o._loan)},"Detalle")," | ",l.a.createElement("span",{className:"payment-option",onClick:function(){return s()}},"Pagar"))))),r&&l.a.createElement(Ie,{toggle:s,open:r,title:"Inserte detalles de pago"},l.a.createElement(ze,{submitTitle:"Procesar Pago",installment:o._id,receivePayment:function(t){i.newPayment(t).then((function(t){e.loader(),c(!1)}))},toggle:s})))},ot=(a(662),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={loans:[],getLoan:!0,getReport:!0,startDate:Me()().subtract(7,"days").toISOString().substring(0,10),endDate:Me()().add(7,"days").toISOString().substring(0,10),country:"Todos",countries:["Todos","Venezuela","Peru"]},a.service=new we,a.TransactionService=new at,a.reportingService=new Ee,a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(y.a)({},n,l))},a.componentDidMount=function(){a.fetchLoans(),a.fetchAccountsTotals()},a.loader=Object(G.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.fetchAccountsTotals(),a.fetchLoans();case 2:case"end":return e.stop()}}),e)}))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"fetchAccountsTotals",value:function(){var e=this;if(!this.state.accounts){var t=this.props.userLocation;this.TransactionService.getInvestorsAvailability(t).then((function(t){var a=t.reduce((function(e,t){return e+t.accumTotal}),0);e.setState({total:a})})).catch((function(t){e.setState({total:!1})}))}}},{key:"fetchLoans",value:function(e){var t=this;e&&e.preventDefault(e);var a=this.state,n=a.startDate,l=a.endDate,r=this.props.userLocation;this.service.getPortfolioStatus(r,n,l).then(function(){var e=Object(G.a)(B.a.mark((function e(a){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a,t.setState({getLoan:!1,portfolio:n.portfolio,paid:n.paid,due:n.due,overdue:n.overdue,outstanding:n.outstanding});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.setState({loans:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.overdue,n=t.due,r=t.paid,c=t.outstanding,i=t.report;return l.a.createElement("div",{className:"content dashboard-content"},l.a.createElement("div",null,a?l.a.createElement("div",null,l.a.createElement(nt,{data:a,title:"Cobranza atrasada (+7d)"}),a.installments.map((function(t,a){return l.a.createElement(it,{key:a,data:t,loader:e.loader})}))):"",n?l.a.createElement("div",null,l.a.createElement(nt,{data:n,title:"Cobranza pendiente (\xb17d)"}),n.installments.map((function(t,a){return l.a.createElement(it,{key:a,data:t,loader:e.loader})}))):"",c?l.a.createElement("div",null,l.a.createElement(nt,{data:c,title:"Cobranza de pagos Incompletos"}),c.installments.map((function(t,a){return l.a.createElement(st,{key:a,data:t,loader:e.loader})}))):"",r?l.a.createElement("div",null,l.a.createElement(lt,{data:r,title:"Cobranza realizada del mes corriente"}),r.installments.map((function(e,t){return l.a.createElement(rt,{key:t,data:e})}))):"",i?l.a.createElement("div",{style:{"margin-top":"20px"}},l.a.createElement(ue.a,{height:700,width:1e3,data:i,valueUnit:"USD"})):""))}}]),t}(n.Component)),mt=(a(332),g()()),ut=function e(){var t=this;Object(i.a)(this,e),this.getCashAccountTotals=function(e){return t.service.get("/cash-available/accounts/".concat(e)).then((function(e){return e.data}))},this.getCashflow=function(e){return t.service.get("/cashflow/".concat(e)).then((function(e){return e.data}))},this.getStats=function(e){return t.service.get("/general/stats/".concat(e)).then((function(e){return e.data}))},this.cashAccountMovements=function(e,a){return t.service.get("/cash-movements/account/".concat(e,"/").concat(a)).then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat(mt.REACT_APP_API_URL,"/api/financials"),withCredentials:!0})};function dt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dt(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Et=[{title:"Fecha",field:"date",render:function(e){return Me()(e.date).format("YYYY/MM/DD")}},{title:"Prestamo",field:"_loan",render:function(e){return l.a.createElement(C.a,{to:"/admin/loan/".concat(e._loan)},e._loan)}},{title:"Inversor",field:"_investor",render:function(e){if("INVESTMENT"!==e.concept)return l.a.createElement(C.a,{to:"/admin/investor/details/".concat(e._investor)}," ",e._investor)}},{title:"Concepto",field:"concept"},{title:"Debito",field:"debit",render:function(e){return te()(e.debit).format({thousandSeparated:!0,mantissa:2})}},{title:"Credito",field:"credit",render:function(e){return te()(e.credit).format({thousandSeparated:!0,mantissa:2})}},{title:"Total",field:"total",render:function(e){return te()(e.total).format({thousandSeparated:!0,mantissa:2})}}];function vt(e){var t=e.model,a=e.cashAccount;return l.a.createElement(Q.a,{columns:Et,data:t,title:" Cuenta ".concat(a),options:{columnsButton:!0,exportButton:!0,exportCsv:function(e,t){var n=e.filter((function(e){return!e.hidden&&e.field&&!1!==e.export})),l=t.map((function(e){return n.map((function(t){return e[t.field]}))}));return new X.CsvBuilder("bank-account-".concat(a,".csv")).setDelimeter(",").setColumns(n.map((function(e){return e.title}))).addRows(l).exportFile()},pageSize:10,exportFileName:"bank-account-".concat(a,".csv")},toolbar:!0})}var ft=function(e){var t=new ut,a=Object(n.useState)({columns:Et,data:[]}),r=Object($.a)(a,2),c=r[0],i=r[1];return Object(n.useEffect)((function(){(function(){var a=Object(G.a)(B.a.mark((function a(){var n,l;return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.cashAccountMovements(e.cashAccount,e.totalCash);case 3:return n=a.sent,l=pt({},c,{data:n}),a.abrupt("return",i(l));case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}})()()}),[]),l.a.createElement("div",{style:{padding:"20px"}},l.a.createElement(vt,{model:c.data,cashAccount:e.cashAccount}))},ht=a(27),gt=S.object().shape({firstName:S.string().nullable().required("Debe de introducir sus nombres"),lastName:S.string().nullable().required("Debe de introducir sus apellidos"),DOB:S.date("Debe de introducir una fecha valida").nullable().required("Debe seleccionar su fecha de nacimiento"),email:S.string().email("Email no v\xe1lido").required("Debe de introducir un email v\xe1lido"),gender:S.string().oneOf(["MALE","FEMALE"]).required(),nationality:S.string().required("Debe de introducir su nacionalidad"),nationalIdType:S.string().required("Debe de introducir su tipo de documento"),nationalId:S.string().required("Debe de introducir su n\xfamero de documento"),cellphoneNumber:S.string().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Debe de introducir un numero valido"),address:S.string().nullable().required("Debe de introducir su direcci\xf3n completa"),city:S.string().nullable().required("Debe de introducir su ciudad"),country:S.string().required("Debe de seleccionar su pa\xeds"),employmentStatus:S.string().required(" Debe de seleccionar su estatus laboral"),monthlyIncome:S.number().nullable().required("Debe de intrudicr su ingreso mensual")}),bt=(a(663),g()()),Nt=function e(){var t=this;Object(i.a)(this,e),this.updateAccount=function(e,a){return t.service.patch("/update/details/".concat(e),{details:a}).then((function(e){return e.data}))},this.updateDocumentID=function(e,a){var n=new FormData;return n.append("photo",a),t.service.post("/update/documentID/".concat(e),n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},this.updateDocumentIncome=function(e,a){var n=new FormData;return n.append("photo",a),t.service.post("/update/documentIncome/".concat(e),n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},this.createAccount=function(e){return t.service.post("/create-account",{details:e}).then((function(e){return e.data}))},this.getClients=function(e){return t.service.get("/search/".concat(e)).then((function(e){return e.data}))},this.getClient=function(e){return t.service.get("/detail/".concat(e)).then((function(e){return e.data}))},this.getInvAccounts=function(){return t.service.get("/get-accounts").then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat(bt.REACT_APP_API_URL,"/api/client"),withCredentials:!0})},yt=new Nt,Ot=Object(O.d)({mapPropsToValues:function(e){var t=e.firstName,a=e.lastName,n=e.email,l=e.DOB,r=e.placeOfBirth,c=e.cellphoneNumber,i=e.gender;return{firstName:t||"",lastName:a||"",email:n||"",DOB:l||"",placeOfBirth:r||"",personalReference:e.personalReference||"",cellphoneNumber:c||"",gender:i||"MALE",civilStatus:e.civilStatus||"SINGLE",nationality:e.nationality||"",nationalId:e.nationalId||"",nationalIdType:e.nationalIdType||"PASSPORT",academicLevel:e.academicLevel||"",address:e.address||"",city:e.city||"",country:e.country||"PERU",employmentStatus:e.employmentStatus||"EMPLOYED",businessName:e.businessName||"",startDate:e.startDate||"",businessAddress:e.businessAddress||"",businessPhoneNumber:e.businessPhoneNumber||"",monthlyIncome:e.monthlyIncome||""}},validationSchema:gt,handleSubmit:function(e,t){var a=t.resetForm,n=t.setSubmitting,l=t.setStatus;yt.createAccount(e).then((function(){a(),n(!1),l({success:"El usuario fue registrado existosamente!"})}))}})((function(e){e.values;var t=e.errors,a=e.status,n=e.touched,r=e.handleSubmit,c=e.isSubmitting;return l.a.createElement("div",{className:"contentForm"},l.a.createElement(O.b,{onSubmit:r},l.a.createElement("div",{className:"formHeaderHolder"},l.a.createElement("div",{className:"formHeader"},l.a.createElement("h1",null,l.a.createElement("b",null,"Creaci\xf3n de cuenta")))),l.a.createElement("div",{className:"formSectionHolder"},l.a.createElement("div",{className:"formTitleHolder"},l.a.createElement("p",null,l.a.createElement("b",null,"Informaci\xf3n General:"))),l.a.createElement("div",{className:"formInputsHolder"},l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Nombres"),l.a.createElement(O.a,{className:"input-field",type:"text",name:"firstName"}),t.firstName&&n.firstName?l.a.createElement("p",{className:"form-error"},t.firstName):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Apellidos"),l.a.createElement(O.a,{className:"input-field",type:"text",name:"lastName"}),t.lastName&&n.lastName?l.a.createElement("p",{className:"form-error"},t.lastName):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Email"),l.a.createElement(O.a,{className:"input-field",type:"email",name:"email"}),t.email&&n.email?l.a.createElement("p",{className:"form-error"},t.email):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Fecha de Nacimiento"),l.a.createElement(O.a,{className:"input-field",type:"date",name:"DOB"}),t.DOB&&n.DOB?l.a.createElement("p",{className:"form-error"},t.DOB):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Lugar de Nacimiento"),l.a.createElement(O.a,{className:"input-field",type:"text",name:"placeOfBirth"})),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"G\xe9nero"),l.a.createElement(O.a,{className:"select-field",component:"select",name:"gender"},ht.gender.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)}))),t.gender&&n.gender?l.a.createElement("p",{className:"form-error"},t.gender):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Estado civil"),l.a.createElement(O.a,{className:"select-field",component:"select",name:"civilStatus"},ht.civilStatus.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)})))),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Nacionalidad"),l.a.createElement(O.a,{className:"input-field",type:"text",name:"nationality"}),t.nationality&&n.nationality?l.a.createElement("p",{className:"form-error"},t.nationality):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"N\xfamero de Identidad"),l.a.createElement(O.a,{className:"input-field",type:"text",name:"nationalId"}),t.nationalId&&n.nationalId?l.a.createElement("p",{className:"form-error"},t.nationalId):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Tipo de documento"),l.a.createElement(O.a,{className:"select-field",component:"select",name:"nationalIdType"},ht.nationalIdType.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)}))),t.nationalIdType&&n.nationalIdType?l.a.createElement("p",{className:"form-error"},t.nationalIdType):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Nivel Academico"),l.a.createElement(O.a,{className:"select-field",component:"select",name:"academicLevel"},ht.academicLevel.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)})))),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Referencia personal"),l.a.createElement(O.a,{className:"input-field",type:"text",name:"personalReference"})))),l.a.createElement("div",{className:"formSectionHolder"},l.a.createElement("div",{className:"formTitleHolder"},l.a.createElement("p",null,l.a.createElement("b",null,"Datos de Contacto:"))),l.a.createElement("div",{className:"formInputsHolder"},l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"N\xfamero Telef\xf3nico")," ",l.a.createElement(O.a,{className:"input-field",type:"text",name:"cellphoneNumber"}),t.cellphoneNumber&&n.cellphoneNumber?l.a.createElement("p",{className:"form-error"},t.cellphoneNumber):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null," Direcci\xf3n"),l.a.createElement(O.a,{className:"input-field",type:"text",name:"address"}),t.address&&n.address?l.a.createElement("p",{className:"form-error"},t.address):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Ciudad"),l.a.createElement(O.a,{className:"input-field",type:"text",name:"city"}),t.city&&n.city?l.a.createElement("p",{className:"form-error"},t.city):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Pa\xeds"),l.a.createElement(O.a,{className:"select-field",component:"select",name:"country"},ht.countries.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)}))),t.country&&n.country?l.a.createElement("p",{className:"form-error"},t.country):null))),l.a.createElement("div",{className:"formSectionHolder"},l.a.createElement("div",{className:"formTitleHolder"},l.a.createElement("p",null,l.a.createElement("b",null,"Informaci\xf3n de Laboral:"))),l.a.createElement("div",{className:"formInputsHolder"},l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Estatus laboral"),l.a.createElement(O.a,{className:"select-field",component:"select",name:"employmentStatus"},ht.employmentStatus.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)}))),t.employmentStatus&&n.employmentStatus?l.a.createElement("p",{className:"form-error"},t.employmentStatus):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Empresa"),l.a.createElement(O.a,{className:"input-field",type:"text",name:"businessName"})),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Fecha de Inicio"),l.a.createElement(O.a,{className:"input-field",type:"date",name:"startDate"})),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Direccion de la empresa"),l.a.createElement(O.a,{className:"input-field",type:"text",name:"businessAddress"})),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"N\xfaumero de t\xe9lefono"),l.a.createElement(O.a,{className:"input-field",type:"text",name:"businessPhoneNumber"})),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Ingreso"),l.a.createElement(O.a,{className:"input-field",type:"number",name:"monthlyIncome"}),t.monthlyIncome&&n.monthlyIncome?l.a.createElement("p",{className:"form-error"},t.monthlyIncome):null))),l.a.createElement("div",{className:"formSectionHolder"},l.a.createElement("div",{className:"formTitleHolder"}),l.a.createElement("div",{className:"formOptionsHolder"},a?a.success?l.a.createElement("div",{className:"form-response success"},"El usuario fue registrado exitosamente"):l.a.createElement("div",{className:"form-response failure"},"El usuario no pudo ser registrado con exito, intente nuevamente!"):"",l.a.createElement("div",null,l.a.createElement("button",{disabled:c,type:"submit",className:"btn btn-info"},"Enviar"))))))})),Ct=S.object().shape({businessName:S.string().nullable().required("Debe de introducir el nombre de la compa\xf1\xeda"),country:S.string().required("Debe de seleccionar su pa\xeds"),ownership:S.string().oneOf(["PUBLIC","PRIVATE"]).required(),activeYears:S.number().nullable().required("Debe introducir cantidad de a\xf1os operativa"),employeeAmount:S.number().nullable().required("Debe introducir cantidad de empleados"),contactEmployee:S.string().required("Debe introducir un empleado de contacto"),phoneNumber:S.string().required("Debe introducir un n\xfamero de tel\xe9fono"),address:S.string().required("Debe de introducir la direcci\xf3n"),city:S.string().required("Debe de introducir la ciudad")}),St=(a(664),g()()),Dt=new function e(){var t=this;Object(i.a)(this,e),this.createCompany=function(e){return t.service.post("/",e).then((function(e){return e.data}))},this.getClients=function(e,a){return t.service.get("/all-clients/".concat(e,"/").concat(a)).then((function(e){return e.data}))},this.getClient=function(e){return t.service.get("/detail/".concat(e)).then((function(e){return e.data}))},this.getInvAccounts=function(){return t.service.get("/get-accounts").then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat(St.REACT_APP_API_URL,"/api/company"),withCredentials:!0})},It=Object(O.d)({mapPropsToValues:function(e){return{businessName:e.businessName||"",taxID:e.taxID||"",sector:e.sector||"",country:e.country||"PERU",ownership:e.ownership||"PRIVATE",activeYears:e.activeYears||"",website:e.website||"",contactEmployee:e.contactEmployee||"",phoneNumber:e.phoneNumber||"",email:e.email||"",address:e.address||"",city:e.city||""}},validationSchema:Ct,handleSubmit:function(e,t){var a=t.resetForm,n=t.setSubmitting,l=t.setStatus;Dt.createCompany(e).then((function(){a(),n(!1),l({success:"Compa\xf1ia registrada existosamente!"})}))}})((function(e){e.values;var t=e.errors,a=e.status,n=e.touched,r=e.handleSubmit,c=e.isSubmitting;return l.a.createElement("div",{className:"contentForm"},l.a.createElement(O.b,{onSubmit:r},l.a.createElement("div",{className:"formHeaderHolder"},l.a.createElement("div",{className:"formHeader"},l.a.createElement("h1",null,l.a.createElement("b",null,"Creaci\xf3n de cuenta - Compa\xf1\xeda")))),l.a.createElement("div",{className:"formSectionHolder"},l.a.createElement("div",{className:"formTitleHolder"},l.a.createElement("p",null,l.a.createElement("b",null,"Informaci\xf3n General:"))),l.a.createElement("div",{className:"formInputsHolder"},l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Nombre del negocio"),l.a.createElement(O.a,{className:"input-field",type:"text",name:"businessName"}),t.businessName&&n.businessName?l.a.createElement("p",{className:"form-error"},t.businessName):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Identificador Fiscal"),l.a.createElement(O.a,{className:"input-field",type:"text",name:"taxID"}),t.taxID&&n.taxID?l.a.createElement("p",{className:"form-error"},t.taxID):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Sector"),l.a.createElement(O.a,{className:"input-field",type:"text",name:"sector"}),t.sector&&n.sector?l.a.createElement("p",{className:"form-error"},t.sector):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Pa\xeds"),l.a.createElement(O.a,{className:"select-field",component:"select",name:"country"},ht.countries.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)}))),t.country&&n.country?l.a.createElement("p",{className:"form-error"},t.country):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"P\xfablica/Privada"),l.a.createElement(O.a,{className:"select-field",component:"select",name:"ownership"},ht.ownership.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)}))),t.ownership&&n.ownership?l.a.createElement("p",{className:"form-error"},t.ownership):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"A\xf1os de operaci\xf3n"),l.a.createElement(O.a,{className:"input-field",type:"number",name:"activeYears"}),t.activeYears&&n.activeYears?l.a.createElement("p",{className:"form-error"},t.activeYears):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Cantidad de empleados"),l.a.createElement(O.a,{className:"input-field",type:"number",name:"employeeAmount"}),t.employeeAmount&&n.employeeAmount?l.a.createElement("p",{className:"form-error"},t.employeeAmount):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Pagina Web"),l.a.createElement(O.a,{className:"input-field",type:"text",name:"website"}),t.website&&n.website?l.a.createElement("p",{className:"form-error"},t.website):null))),l.a.createElement("div",{className:"formSectionHolder"},l.a.createElement("div",{className:"formTitleHolder"},l.a.createElement("p",null,l.a.createElement("b",null,"Datos de Contacto:"))),l.a.createElement("div",{className:"formInputsHolder"},l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Persona Contacto")," ",l.a.createElement(O.a,{className:"input-field",type:"text",name:"contactEmployee"}),t.contactEmployee&&n.contactEmployee?l.a.createElement("p",{className:"form-error"},t.contactEmployee):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"N\xfamero Telef\xf3nico")," ",l.a.createElement(O.a,{className:"input-field",type:"text",name:"phoneNumber"}),t.phoneNumber&&n.phoneNumber?l.a.createElement("p",{className:"form-error"},t.phoneNumber):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Email"),l.a.createElement(O.a,{className:"input-field",type:"email",name:"email"}),t.email&&n.email?l.a.createElement("p",{className:"form-error"},t.email):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Direcci\xf3n"),l.a.createElement(O.a,{className:"input-field",type:"text",name:"address"}),t.address&&n.address?l.a.createElement("p",{className:"form-error"},t.address):null),l.a.createElement("div",{className:"form-label"},l.a.createElement("p",null,"Ciudad"),l.a.createElement(O.a,{className:"input-field",type:"text",name:"city"}),t.city&&n.city?l.a.createElement("p",{className:"form-error"},t.city):null))),l.a.createElement("div",{className:"formSectionHolder"},l.a.createElement("div",{className:"formTitleHolder"}),l.a.createElement("div",{className:"formOptionsHolder"},a?a.success?l.a.createElement("div",{className:"form-response success"},"Compa\xf1ia registrada exitosamente"):l.a.createElement("div",{className:"form-response failure"},"Compa\xf1ia no pudo ser registrada con exito, intente nuevamente!"):"",l.a.createElement("div",null,l.a.createElement("button",{disabled:c,type:"submit",className:"btn btn-info"},"Enviar"))))))})),Pt=a(136),xt=a(137),wt=a(342);a(665);var Tt=function(e){var t=e.country;return l.a.createElement("span",{role:"img","aria-label":"country-flag"},"DOMINICAN_REPUBLIC"===t?l.a.createElement("i",{className:"em em-flag-do"}):"VENEZUELA"===t?l.a.createElement("i",{className:"em em-flag-ve"}):"PERU"===t?l.a.createElement("i",{className:"em em-flag-pe"}):"USA"===t?l.a.createElement("i",{className:"em em-flag-us"}):"")};var jt=Object(R.a)((function(e){return{root:{width:"100%",height:"100%",marginTop:3*e.spacing.unit},table:{width:"100%"},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}}))((function(e){var t=e.classes,a=e.data,n=e.onChange,r=e.bulkPayment;return l.a.createElement(xt.a,{className:t.root},l.a.createElement("table",{className:t.table,id:"table-to-xls"},l.a.createElement("thead",{className:"table-header"},l.a.createElement("tr",{style:{width:"100%"}},l.a.createElement(Re.a,{container:!0,spacing:2,direction:"row",className:"gridContainer",justify:"space-evenly",alignItems:"center"},l.a.createElement(Re.a,{item:!0,xs:12,md:3},l.a.createElement("th",{className:"header header-name"},"CLIENTE")),l.a.createElement(Re.a,{className:"header",item:!0,xs:4,md:1},l.a.createElement("th",{className:"header header-company"},"TIPO")),l.a.createElement(Re.a,{className:"header",item:!0,xs:4,md:2},l.a.createElement("th",{className:"header header-company"},"COMPA\xd1\xcdA")),l.a.createElement(Re.a,{className:"header",item:!0,xs:4,md:2},l.a.createElement("th",{className:"header header-capital"},"PRESTAMO")),l.a.createElement(Re.a,{className:"header",item:!0,xs:4,md:1},l.a.createElement("th",{className:"header header-remaining"},"REPAGAR")),l.a.createElement(Re.a,{className:"header",item:!0,xs:4,md:2},l.a.createElement("th",{className:"header header-payment"},"CUOTA")),l.a.createElement(Re.a,{className:"header",item:!0,xs:4,md:1},l.a.createElement("th",{className:"header header-date"},"FECHA"))))),l.a.createElement("tbody",{className:"table-body"},a.length>0?a.map((function(e,t){return l.a.createElement("tr",{className:"row-height row-center",key:t},l.a.createElement(Re.a,{container:!0,spacing:3,direction:"row",className:"gridContainer1 row-height",alignItems:"center"},l.a.createElement(Re.a,{item:!0,xs:12,md:3},l.a.createElement("td",{className:"content-cell",style:{paddingLeft:"20px"}},l.a.createElement(Tt,{country:e.country}),l.a.createElement("h4",{className:"ser-client",style:{paddingLeft:"5px"}},e.investor?l.a.createElement(C.a,{to:"/admin/investor/details/".concat(e._id)},e.firstName+" "+e.lastName):l.a.createElement(C.a,{to:"/admin/client/".concat(e._id)},e.firstName+" "+e.lastName)))),l.a.createElement(Re.a,{item:!0,xs:4,md:1},l.a.createElement("td",{className:"content-cell"},e.investor?"Inversor":""===e.firstName?"":"Prestatario")),l.a.createElement(Re.a,{item:!0,xs:4,md:2},l.a.createElement("td",{className:"content-cell"},e.businessName?e.businessName:"")),l.a.createElement(Re.a,{item:!0,xs:4,md:2},l.a.createElement("td",{className:"content-cell"},e.capital>0?l.a.createElement(C.a,{to:"/admin/loan/".concat(e._loanId)},e.capital.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})):"")),l.a.createElement(Re.a,{item:!0,xs:4,md:1},l.a.createElement("td",{className:"content-cell"},e.capital>0?e.capitalRemaining.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"")),l.a.createElement(Re.a,{item:!0,xs:4,md:2},l.a.createElement("td",{className:"content-cell"},e.capital?l.a.createElement(l.a.Fragment,null,l.a.createElement(wt.a,{className:"pure-material-checkbox",type:"checkbox",name:e.nextPayment._id,value:JSON.stringify({_loan:e._loanId,client:e.firstName+" "+e.lastName,payment:e.nextPayment.interest+e.nextPayment.principal,date:Me()(e.nextPayment.date).format("YYYY-MM-DD")}),checked:r._id,onChange:function(e){return n(e)}}),(e.nextPayment.interest+e.nextPayment.principal).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})):"")),l.a.createElement(Re.a,{item:!0,xs:4,md:1},l.a.createElement("td",{className:"content-cell"},e.capital?Me()(e.nextPayment.date).format("YYYY-MM-DD"):""))))})):"")))})),At=a(196),Rt=a.n(At),Lt=a(360),kt=a.n(Lt),Ft=a(248),_t=a.n(Ft),Mt=(a(333),a(361)),Ut=a(369),Yt=a(752),Bt=a(753),Gt=a(244),Wt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={clients:[],getClients:!1,bulkPayment:[],cashAccount:null,paymentDate:null},a.service=new Nt,a.paymentService=new K,a.handleChange=function(e){var t,n=e.target,l=n.name,r=n.value;""===r?a.setState({getClients:!1,clients:[]}):a.setState((t={},Object(y.a)(t,l,r),Object(y.a)(t,"getClients",!0),t))},a.handleSelect=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(y.a)({},n,l))},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(){var e=a.state,t=e.bulkPayment,n=e.paymentDate,l=e.cashAccount;a.paymentService.newBulkPayment({bulkPayment:t,paymentDate:n,cashAccount:l}).then((function(e){"success"===e.status&&(a.setState({open:!1,cashAccount:null,paymentDate:null,bulkPayment:[],paymentStatus:"success"}),a.fetchClients(a.state.clientName))})).catch((function(e){a.setState({open:!1,cashAccount:null,paymentDate:null,bulkPayment:[],paymentStatus:"failure"})}))},a.toggleChange=function(e){var t=e.target,n=t.name,l=t.value,r=t.checked,c=JSON.parse(l),i=n;if(r)a.setState({bulkPayment:[].concat(Object(Pt.a)(a.state.bulkPayment),[{_loanSchedule:i,_loan:c._loan,amount:Object(Mt.rounder)(c.payment),client:c.client,date:c.date}])});else{var s=a.state.bulkPayment,o=s.findIndex((function(e){return e._loanSchedule===i}));o>-1&&s.splice(o,1),a.setState({bulkPayment:s})}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){var e=_t.a.parse(this.props.location.search);this.state.getClients&&void 0!==e.clientName&&this.fetchClients(e.clientName)}},{key:"componentDidMount",value:function(){var e=_t.a.parse(this.props.location.search);void 0!==e.clientName&&(this.setState({getClients:!0,clientName:e.clientName}),this.fetchClients(e.clientName))}},{key:"fetchClients",value:function(e){var t=this;this.service.getClients(e).then((function(e){t.setState({getClients:!1,clients:e})})).catch((function(e){t.setState({clients:!1,getClients:!1})}))}},{key:"onKeyPress",value:function(e){13===e.which&&(this.props.history.push({pathname:"/admin/client/list",search:"?"+new URLSearchParams({clientName:this.state.inputValue}).toString()}),this.setState({getClients:!0}),this.fetchClients(this.state.inputValue))}},{key:"render",value:function(){var e=this,t=this.state,a=t.clients,n=t.bulkPayment,r=t.clientName,c=t.open,i=t.cashAccount,s=t.paymentDate,o=t.paymentStatus;return l.a.createElement("div",{style:{width:"100%",padding:"20px"}},"success"===o?l.a.createElement("div",{class:"alert alert-success alert-dismissible"},l.a.createElement("button",{href:"#",class:"close","data-dismiss":"alert","aria-label":"close"},"\xd7"),l.a.createElement("strong",null,"Exito!")," El pago se ha procesado correctamente."):"failure"===o?l.a.createElement("div",{class:"alert alert-success alert-dismissible"},l.a.createElement("button",{href:"#",class:"close","data-dismiss":"alert","aria-label":"close"},"\xd7"),l.a.createElement("strong",null,"Fallo!")," La operaci\xf3n no se ha procesado correctamente"):"",l.a.createElement(Re.a,{container:!0,spacing:3,className:"root"},l.a.createElement(Re.a,{item:!0,xs:12,sm:9},l.a.createElement(xt.a,{className:"root"},l.a.createElement(Oe.a,{className:"iconButton",disabled:!0,"aria-label":"menu"},l.a.createElement("i",{className:"material-icons"},"account_circle")),l.a.createElement(Ut.a,{className:"input",placeholder:"Buscar cliente",name:"inputValue",onKeyDown:function(t){return e.onKeyPress(t)},onChange:function(t){return e.handleChange(t)},inputProps:{"aria-label":"buscar cliente"}}),l.a.createElement(Oe.a,{disabled:!0,className:"iconButton","aria-label":"search"},l.a.createElement(Rt.a,null)),l.a.createElement(Yt.a,{className:"divider",orientation:"vertical"}),l.a.createElement(Oe.a,{color:"secondary",className:"iconButton createButton","aria-label":"directions"},l.a.createElement("i",{className:"material-icons"},l.a.createElement(C.a,{to:"/admin/client/create"},"create"))))),l.a.createElement(Re.a,{item:!0,xs:12,sm:3},l.a.createElement(Re.a,{container:!0,spacing:3,direction:"row",justify:"space-evenly",alignItems:"center"},l.a.createElement(Re.a,{item:!0,xs:6},l.a.createElement(Bt.a,{color:"primary",badgeContent:n.length},l.a.createElement(T.a,{onClick:function(){return e.handleClickOpen()},className:"button-client-search",variant:"contained"},"PAGOS"))),l.a.createElement(Re.a,{item:!0,xs:6},l.a.createElement(T.a,{className:"button-client-search",variant:"contained"},l.a.createElement(kt.a,{id:"test-table-xls-button",className:"download-table-xls-button",table:"table-to-xls",filename:r?"".concat(r," - ").concat(new Date):"resultados-busqueda-".concat(new Date),sheet:"tablexls",buttonText:"DESCARGAR"})))))),l.a.createElement(Ne.a,{onClose:function(){return e.handleClose()},open:c},l.a.createElement(xt.a,{className:"payment-modal"},l.a.createElement("h6",null,"LISTADO DE PAGOS POR PROCESAR"),l.a.createElement(P.a,{className:"input-date-cash",required:!0},l.a.createElement(x.a,{htmlFor:"filled-age-simple"},"Cuenta"),l.a.createElement(Gt.a,{value:i,name:"cashAccount",type:"string",label:"Cuenta",onChange:function(t){return e.handleSelect(t)},InputLabelProps:{shrink:!0}},l.a.createElement(Fe.a,{value:""},l.a.createElement("em",null,"None")),ht.accounts.map((function(e){return l.a.createElement(Fe.a,{value:e},e)}))),l.a.createElement(Le.a,{id:"date",name:"paymentDate",label:"Fecha de Pago",type:"date",value:s,className:"paymentDate",onChange:function(t){return e.handleSelect(t)},InputLabelProps:{shrink:!0}})),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"table-client head"},"Cliente"),l.a.createElement("th",{className:"table-date"},"Fecha"),l.a.createElement("th",{className:"table-amount"},"Monto"))),l.a.createElement("tbody",null,n.length>0?n.map((function(e,t){return l.a.createElement("tr",null,l.a.createElement("td",{className:"content"},"".concat(t+1,".- ").concat(e.client)),l.a.createElement("td",{className:"date"},e.date),l.a.createElement("td",{className:"table-amount"},te()(e.amount).format({thousandSeparated:!0,mantissa:2})))})):"",l.a.createElement("tr",null,l.a.createElement("td",{className:"table-client totals head"},"Total"),l.a.createElement("td",{className:"table-client totals head"}),l.a.createElement("td",{className:"table-amount totals"},n.length>0?te()(n.reduce((function(e,t){return e+t.amount}),0)).format({thousandSeparated:!0,mantissa:2}):"")))),l.a.createElement(T.a,{onClick:function(){return e.handleClose()},className:"button-client-search",variant:"contained"},"CANCELAR"),l.a.createElement(T.a,{onClick:function(){return e.handleSubmit()},className:"button-client-search",variant:"contained"},"PROCESAR"))),a.length>0?l.a.createElement(jt,{data:a,onChange:this.toggleChange,bulkPayment:n}):"")}}]),t}(n.Component),qt=Object(E.a)(Wt);a(234);function Vt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function zt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vt(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ht=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState({details:zt({},a.state.details,Object(y.a)({},n,l))})},a.handleSubmit=function(){var e=a.state.details,t=e._id;a.service.updateAccount(t,e).then((function(e){"updated"===e.status?a.props.closeModal("updated"):a.props.closeModal("failed")})).catch((function(e){return a.props.closeModal("failed")}))},a.state={details:e.details},a.service=new Nt,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.details;return l.a.createElement("div",{className:"modal-holder"},l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Personal"))),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(Le.a,{label:"Nombres legales *",value:a.firstName,name:"firstName",type:"text",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}}),l.a.createElement(Le.a,{label:"Apellidos legales",name:"lastName",type:"text",value:a.lastName,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}}),l.a.createElement(Le.a,{id:"email",name:"email",label:"Email",value:a.email,type:"text",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}}),l.a.createElement(Le.a,{id:"date",name:"DOB",label:"Fecha de Nacimiento",value:Me()(a.DOB).format("YYYY-MM-DD"),type:"date",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}}),l.a.createElement(Le.a,{name:"cellphoneNumber",label:"N\xfamero de Tel\xe9fono",value:a.cellphoneNumber,type:"text",onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(Le.a,{name:"nationalId",label:"Documento de Identidad",type:"text",value:a.nationalId,onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(Le.a,{name:"nationalIdType",label:"Tipo de Documento",select:!0,type:"text",value:a.nationalIdType,onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"},ht.nationalIdType.map((function(e){return l.a.createElement(Fe.a,{key:e.value,value:e.value},e.label)}))),l.a.createElement(Le.a,{name:"personalReference",label:"Referencia personal",type:"text",value:a.personalReference,onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"})),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Direcci\xf3n Personal"))),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(Le.a,{select:!0,name:"country",label:"Pa\xeds",type:"text",value:a.country,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}},ht.countries.map((function(e){return l.a.createElement(Fe.a,{key:e.value,value:e.value},e.label)}))),l.a.createElement(Le.a,{name:"city",label:"Ciudad",type:"text",value:a.city,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}}),l.a.createElement(Le.a,{name:"address",label:"Direcci\xf3n",type:"text",value:a.address,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}}),l.a.createElement(Le.a,{name:"zipCode",label:"C\xf3digo Postal",type:"text",value:a.zipCode,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}})),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Laboral"))),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(Le.a,{name:"businessName",label:"Empresa",type:"text",value:a.businessName||"",className:t.textField,onChange:function(t){return e.handleChange(t)},InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(Le.a,{name:"businessPhoneNumber",label:"Numero de Telefono",type:"text",value:a.businessPhoneNumber,className:t.textField,onChange:function(t){return e.handleChange(t)},InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(Le.a,{name:"businessAddress",label:"Direcci\xf3n",type:"text",value:a.businessAddress,className:t.textField,onChange:function(t){return e.handleChange(t)},InputLabelProps:{shrink:!0},margin:"normal"})),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Financiera"))),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(Le.a,{name:"bank",label:"Banco",type:"text",value:a.bank,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}}),l.a.createElement(Le.a,{name:"accountNumber",label:"Numero de cuenta",type:"text",value:a.accountNumber,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}}),l.a.createElement(Le.a,{name:"monthlyIncome",label:"Ingresos",type:"number",value:a.monthlyIncome,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}})),l.a.createElement("div",{className:"edit-form-submit"},l.a.createElement("button",{onClick:function(){return e.handleSubmit()},className:"btn btn-info"},"Editar Detalles")))}}]),t}(n.Component),$t=Object(R.a)((function(e){return{name:{width:440},citizenInfo:{width:300},container:{display:"flex",flexWrap:"wrap"},textField:{minWidth:225},formControl:{margin:e.spacing.unit}}}))(Ht),Xt=a(368);function Zt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Kt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Zt(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Zt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Jt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,n=e.target.files[0];a.setState({details:Kt({},a.state.details,Object(y.a)({},t,n))})},a.handleSubmit=function(){var e=a.state.details,t=e._id,n=e.documentIncomeOrPayslip;a.service.updateDocumentIncome(t,n).then((function(e){"updated"===e.status?a.props.closeModal("updated"):a.props.closeModal("failed")})).catch((function(e){return a.props.closeModal("failed")}))},a.state={details:e.details},a.service=new Nt,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"modal-holder"},l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Certificaci\xf3n de Ingresos o N\xf3mina"))),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement("label",{className:"btn"},l.a.createElement("input",{type:"file",name:"documentIncomeOrPayslip",className:"",placeholder:"Certificaci\xf3n de Ingresos o Nomina",onChange:function(t){return e.handleChange(t)}}))),l.a.createElement("div",{className:"edit-form-submit"},l.a.createElement("button",{onClick:function(){return e.handleSubmit()},className:"btn btn-info"},"Enviar Documento")))}}]),t}(n.Component),Qt=Object(R.a)((function(e){return{name:{width:440},citizenInfo:{width:300},container:{display:"flex",flexWrap:"wrap"},textField:{minWidth:225},formControl:{margin:e.spacing.unit}}}))(Jt);function ea(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ta(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ea(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ea(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var aa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,n=e.target.files[0];a.setState({details:ta({},a.state.details,Object(y.a)({},t,n))})},a.handleSubmit=function(){var e=a.state.details,t=e._id,n=e.documentID;a.service.updateDocumentID(t,n).then((function(e){"updated"===e.status?a.props.closeModal("updated"):a.props.closeModal("failed")})).catch((function(e){return a.props.closeModal("failed")}))},a.state={details:e.details},a.service=new Nt,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"modal-holder"},l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Documentos"))),l.a.createElement("div",{className:"form-inputs-holder"},"Documento de Identidad",l.a.createElement("label",{className:"btn"},l.a.createElement("input",{type:"file",name:"documentID",className:"",placeholder:"documentID",onChange:function(t){return e.handleChange(t)}}))),l.a.createElement("div",{className:"edit-form-submit"},l.a.createElement("button",{onClick:function(){return e.handleSubmit()},className:"btn btn-info"},"Editar Documentos")))}}]),t}(n.Component),na=Object(R.a)((function(e){return{name:{width:440},citizenInfo:{width:300},container:{display:"flex",flexWrap:"wrap"},textField:{minWidth:225},formControl:{margin:e.spacing.unit}}}))(aa);function la(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var ra=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.match.params.clientId;a.service.getClient(e).then((function(e){a.setState({client:e})}))},a.capitalize=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(e){var t=a.props.match.params.clientId;a.setState({open:!1,openDocID:!1,openDocInc:!1,editStatus:e}),"updated"===e&&a.service.getClient(t).then((function(e){a.setState({client:e})}))},a.handleOpen=function(){a.setState({open:!0})},a.handleOpenDocID=function(){a.setState({openDocID:!0})},a.handleOpenDocInc=function(){a.setState({openDocInc:!0})},a.state=ht.initialState,a.service=new Nt,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.client,t=this.props.classes;return l.a.createElement("div",{className:"main-holder"},l.a.createElement("div",{className:"borrower-profile"},"updated"===this.state.editStatus?l.a.createElement("div",{className:"alert alert-success",role:"alert"},"Operaci\xf3n realizada exitosamente!"):"failed"===this.state.editStatus?l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"La operaci\xf3n a fallado."):"",l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Personal"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Primer y segundo nombre legal *"),l.a.createElement("p",{className:"content-details"},e.firstName)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Apellidos legales *"),l.a.createElement("p",{className:"content-details"},e.lastName)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Fecha de nacimiento"),l.a.createElement("p",{className:"content-details"},Me()(e.DOB).format("DD/MM/YY"))),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Documento de Identidad"),l.a.createElement("p",{className:"content-details"},e.nationalId)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Tipo de Documento"),l.a.createElement("p",{className:"content-details"},e.nationalIdType)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Tel\xe9fono"),l.a.createElement("p",{className:"content-details"},e.cellphoneNumber)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Email"),l.a.createElement("p",{className:"content-details"},e.email)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Referencia personal"),l.a.createElement("p",{className:"content-details"},e.personalReference))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Direcci\xf3n personal"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Pa\xeds"),l.a.createElement("p",{className:"content-details"},this.capitalize(e.country))),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Ciudad"),l.a.createElement("p",{className:"content-details"},this.capitalize(e.city))),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Direcci\xf3n"),l.a.createElement("p",{className:"content-details"},e.address)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"C\xf3digo postal"),l.a.createElement("p",{className:"content-details"},e.zipCode))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Laboral"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Empresa"),l.a.createElement("p",{className:"content-details"},e.businessName)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Direcci\xf3n"),l.a.createElement("p",{className:"content-details"},e.businessAddress)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Numero de Telefono"),l.a.createElement("p",{className:"content-details"},e.businessPhoneNumber))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Financiera"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Banco"),l.a.createElement("p",{className:"content-details"},e.bank)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"N\xfamero de cuenta"),l.a.createElement("p",{className:"content-details"},e.accountNumber)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Ingresos"),l.a.createElement("p",{className:"content-details"},e.monthlyIncome))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Documentaci\xf3n"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},l.a.createElement(T.a,{variant:"outlined",onClick:this.handleOpenDocID,className:t.buttonDocID},"Documento de Identidad"),l.a.createElement(Xt.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openDocID,onClose:this.handleClose},l.a.createElement("div",{style:la(),className:t.paper},l.a.createElement(na,{details:e,closeModal:this.handleClose})))),l.a.createElement("p",{className:"content-details"},e.documentID&&l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.documentID},"Visualiza tu Identicaci\xf3n"))),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},l.a.createElement(T.a,{variant:"outlined",onClick:this.handleOpenDocID,className:t.buttonDocID},"N\xf3mina o Certificaci\xf3n de Ingresos"),l.a.createElement(Xt.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openDocInc,onClose:this.handleClose},l.a.createElement("div",{style:la(),className:t.paper},l.a.createElement(Qt,{details:e,closeModal:this.handleClose})))),l.a.createElement("p",{className:"content-details"},e.documentIncomeOrPayslip&&l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.documentIncomeOrPayslip},"Visualiza tu documento")))),l.a.createElement("div",{className:"profile-actions"},l.a.createElement(T.a,{variant:"outlined",onClick:this.handleOpen,className:t.button},"Editar perfil"),l.a.createElement(Xt.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.handleClose},l.a.createElement("div",{style:la(),className:t.paper},l.a.createElement($t,{details:e,closeModal:this.handleClose}))))))}}]),t}(n.Component),ca=Object(R.a)((function(e){return{button:{fontSize:12,margin:0,fontWeight:600,textDecoration:"none",textTransform:"none",borderRadius:2,color:"rgb(145, 145, 145)"},name:{width:440},citizenInfo:{width:300},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:330},formControl:{margin:e.spacing.unit},paper:{position:"absolute",maxWidth:1e3,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none",maxHeight:"100%",overflowY:"auto"}}}))(Object(E.a)(ra)),ia=a(754),sa=a(103),oa=a.n(sa);a(334);function ma(e){var t=e.data,a=e.clientId;return l.a.createElement("div",{className:"main-holder"},l.a.createElement("div",{className:"client-loan-summary-head"},l.a.createElement("div",{className:"detail-summary first"},l.a.createElement("p",{className:"title fc"}," PRESTAMO "))," ",l.a.createElement("div",{className:"detail-summary pct"},l.a.createElement("p",{className:"title"}," INICIO ")," "),l.a.createElement("div",{className:"detail-summary pct"},l.a.createElement("p",{className:"title"}," TASA ")," "),l.a.createElement("div",{className:"detail-summary pct"},l.a.createElement("p",{className:"title"}," DURACI\xd3N ")," "),l.a.createElement("div",{className:"detail-summary pct"},l.a.createElement("p",{className:"title"}," CUOTA ")," "),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"}," AMORTIZADO ")," "),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"}," POR PAGAR ")," "),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"}," STATUS ")," "),l.a.createElement("div",{className:"detail-summary last"},l.a.createElement("p",{className:"title"}))),t.loans?t.loans.map((function(e,t){var a=e.capital/e.duration,n=e.interest/100*e.capital;return l.a.createElement("div",{key:t,className:"client-loan-summary"},l.a.createElement("div",{className:"detail-summary first"},l.a.createElement("p",{className:"acc-total fc"},"$ ",parseFloat(e.capital).toLocaleString(void 0,{maximumFractionDigits:2})," ")," "),l.a.createElement("div",{className:"detail-summary pct"},l.a.createElement("p",{className:"acc-total"}," ",Me()(e.startDate).format("YY-MM-DD")," ")," "),l.a.createElement("div",{className:"detail-summary pct"},l.a.createElement("p",{className:"acc-total"}," ",parseFloat(e.interest)," % ")," "),l.a.createElement("div",{className:"detail-summary pct"},l.a.createElement("p",{className:"acc-total"}," ",parseFloat(e.duration)," ")," "),l.a.createElement("div",{className:"detail-summary pct"},l.a.createElement("p",{className:"acc-total"},"$ ",(n+a).toLocaleString(void 0,{maximumFractionDigits:2})," ")," "),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-total"},"$ ",e.totalPaid.toLocaleString(void 0,{maximumFractionDigits:2})," ")," "),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-total"},"$ ",(e.capital-e.totalPaid).toLocaleString(void 0,{maximumFractionDigits:2})," ")," "),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-total"}," ","CLOSED"===e.status?"CERRADO":"ABIERTO"," ")," ")," ",l.a.createElement("div",{className:"detail-summary last"},l.a.createElement(C.a,{to:"/admin/loan/".concat(e._id)},l.a.createElement("i",{className:"material-icons info"}," info ")," ")))})):""," ",l.a.createElement("div",{className:"client-loan-summary create"},l.a.createElement("div",{className:"detail-summary first"},l.a.createElement(C.a,{to:"/admin/create-loan/".concat(a)},l.a.createElement(ia.a,{size:"small",color:"secondary","aria-label":"Add"},l.a.createElement(oa.a,null))))))}function ua(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var da=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.match.params.clientId;a.service.getClient(e).then((function(e){a.setState({client:e})}))},a.handleTabChange=function(e,t){a.setState({value:t})},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(e){var t=a.props.match.params.clientId;a.setState({open:!1,editStatus:e}),"updated"===e&&a.service.getClient(t).then((function(e){a.setState({client:e})}))},a.state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ua(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ua(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},ht.initialState,{value:0}),a.service=new Nt,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.client,a=e.value,n=this.props.classes;return l.a.createElement("div",{className:"main-holder"},l.a.createElement("div",{className:"client-header"},l.a.createElement("div",{className:"client-fullname"},t.firstName?(t.firstName+" "+t.lastName).toUpperCase():"Loading...")),l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"loan-content-holder"},l.a.createElement("div",{className:n.root},l.a.createElement(fe.a,{value:a,onChange:this.handleTabChange,classes:{root:n.tabsRoot,indicator:n.tabsIndicator}},l.a.createElement(he.a,{disableRipple:!0,classes:{root:n.tabRoot,selected:n.tabSelected},label:"PRESTAMOS"}),l.a.createElement(he.a,{disableRipple:!0,classes:{root:n.tabRoot,selected:n.tabSelected},label:"DETALLES"}))),0===a&&l.a.createElement(ma,{data:t,clientId:t._id}),1===a&&l.a.createElement(ca,null))))}}]),t}(n.Component),pa=Object(R.a)((function(e){return{tabsIndicator:{backgroundColor:"#1890ff"},tabRoot:{textTransform:"initial",fontSize:"0.8rem",minWidth:72,fontWeight:500,marginRight:4*e.spacing.unit,"&:hover":{color:"#40a9ff",opacity:1,outline:"none"},"&$tabSelected":{color:"#1890ff",fontWeight:600,outline:"none"},"&:focus":{color:"#40a9ff",outline:"none"}},tabSelected:{}}}))(Object(E.a)(da));function Ea(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var va=g()(),fa=function e(){var t=this;Object(i.a)(this,e),this.getInvestors=function(){return t.service.get("/list").then((function(e){return e.data}))},this.getHoldingAccounts=function(){return t.service.get("/holding-account/list").then((function(e){return e.data}))},this.createInvestor=function(e,a,n,l){return t.service.post("/",{firstName:e,lastName:a,location:n,investor:l}).then((function(e){return e.data}))},this.getCashDetails=function(e){return t.service.get("/profile/cash-available/".concat(e)).then((function(e){return e.data}))},this.getInvestmentDetails=function(e){return t.service.get("/profile/investment-details/".concat(e)).then((function(e){return e.data}))},this.getPLDetails=function(e){return t.service.get("/profile/profit-and-loss/".concat(e)).then((function(e){return e.data}))},this.getCashMovements=function(e){return t.service.get("/profile/cash-movements/".concat(e)).then((function(e){return e.data}))},this.getInvestorOptions=function(e){return t.service.get("/detail/investment-preference/".concat(e)).then((function(e){return e.data}))},this.toggleInvestorAutoInvest=function(e){return t.service.post("/detail/investment-preference/".concat(e)).then((function(e){return e.data}))},this.getInvestmentsSummary=function(e,a,n){return t.service.get("/investment-summary/".concat(e,"/").concat(a,"/").concat(n)).then((function(e){return e.data}))},this.getLoanInvestorDetails=function(e){return t.service.get("/investment-details/".concat(e)).then((function(e){return e.data}))},this.getInvestorFees=function(e){return t.service.get("/detail/management-fee/".concat(e)).then((function(e){return e.data}))},this.addInvestorFees=function(e){return t.service.post("/detail/management-fee",e).then((function(e){return e.data}))},this.deleteInvestorFees=function(e){return t.service.delete("/detail/management-fee/".concat(e)).then((function(e){return e.data}))},this.changeInvestorType=function(e){return t.service.put("/detail/investment-preference/investor-type",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ea(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ea(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e)).then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat(va.REACT_APP_API_URL,"/api/investor"),withCredentials:!0,headers:{"Content-Type":"application/json"}})},ha=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.firstName,n=a.state.lastName,l=a.state.location;a.service.createInvestor(t,n,l,!0).then((function(e){a.setState({firstName:"",lastName:"",location:"",investor:!0})})).catch((function(e){a.setState({error:e})}))},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(y.a)({},n,l))},a.state={firstName:"",lastName:"",location:"PERU",investo:!0},a.service=new fa,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"content"},l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{for:"name"},"Nombre:"),l.a.createElement("input",{type:"text",className:"form-control",name:"firstName",value:this.state.firstName,onChange:function(t){return e.handleChange(t)}})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{for:"lastName"},"Apellido:"),l.a.createElement("input",{type:"text",className:"form-control",name:"lastName",value:this.state.lastName,onChange:function(t){return e.handleChange(t)}})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{for:"location"},"Region:"),l.a.createElement("select",{className:"form-control",name:"location",value:this.state.location,onChange:function(t){return e.handleChange(t)}},l.a.createElement("option",{value:"PERU"},"Peru"),l.a.createElement("option",{value:"USA"},"USA"),l.a.createElement("option",{value:"DOMINICAN_REPUBLIC"},"Rep\xfablica Dominicana")))),l.a.createElement("button",{type:"submit",className:"btn btn-info"},"Crear Cuenta de Inversi\xf3n")))}}]),t}(n.Component),ga=a(755),ba=a(756),Na=a(757),ya=a(758),Oa=[{account:"RBPERU",country:"PERU"},{account:"GCUS",country:"USA"},{account:"GFUS",country:"USA"},{account:"GCDR",country:"DOMINICAN_REPUBLIC"}],Ca=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state._investor,n=a.state.cashAccount,l=a.state.concept,r=a.state.txDate,c=a.state.txAmount,i=a.state.comment;a.TransactionService.transactionInvestor(t,n,l,c,r,i).then((function(e){a.setState({_investor:"",cashAccount:"",concept:"",txAmount:0,txDate:new Date,comment:"",status:"success"})})).catch((function(e){a.setState({error:e,status:"failure"})}))},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;if(a.setState(Object(y.a)({},n,l)),"_investor"===n){var r=a.state.investors.find((function(e){return e._id===l})).location,c=Oa.filter((function(e){return e.country===r}));a.setState({country:r,cashAccounts:c})}},a.state={_investor:"",cashAccount:"",concept:"",txAmount:0,txDate:new Date},a.TransactionService=new at,a.InvestorService=new fa,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"fetchInvestors",value:function(){var e=this;this.state.investors||this.InvestorService.getInvestors().then((function(t){"peru"===e.props.location.toLowerCase()&&(t=t.filter((function(e){return"peru"===e.location.toLowerCase()}))),e.setState({investors:t})})).catch((function(t){e.setState({clients:!1})}))}},{key:"render",value:function(){var e=this;this.fetchInvestors();var t=this.state.status;return l.a.createElement("div",{className:"content",style:{padding:"10px"}},"success"===t?l.a.createElement("div",{class:"alert alert-success alert-dismissible"},l.a.createElement("button",{href:"#",class:"close","data-dismiss":"alert","aria-label":"close"},"\xd7"),l.a.createElement("strong",null,"Exito!")," La solicitud se ha procesado correctamente."):"failure"===t?l.a.createElement("div",{class:"alert alert-danger alert-dismissible"},l.a.createElement("button",{href:"#",class:"close","data-dismiss":"alert","aria-label":"close"},"\xd7"),l.a.createElement("strong",null,"Fallo!")," La solicitud no se ha procesado correctamente"):"",l.a.createElement(Re.a,{container:!0,spacing:4},l.a.createElement(Re.a,{item:!0,lg:12,md:12,xl:12,xs:12},l.a.createElement(ga.a,null,l.a.createElement("form",{autoComplete:"off",noValidate:!0,onSubmit:this.handleFormSubmit},l.a.createElement(ba.a,{subheader:"Registro de nuevas transacciones",title:"Transacciones"}),l.a.createElement(Yt.a,null),l.a.createElement(Na.a,null,l.a.createElement(Re.a,{container:!0,spacing:3},l.a.createElement(Re.a,{item:!0,md:6,xs:12},l.a.createElement(Le.a,{fullWidth:!0,label:"Inversionista",margin:"dense",name:"_investor",onChange:function(t){return e.handleChange(t)},required:!0,select:!0,value:this.state._investor,variant:"outlined"},l.a.createElement(Fe.a,{value:""},l.a.createElement("em",null,"None")),this.state.investors?this.state.investors.map((function(e){return l.a.createElement(Fe.a,{key:e._id,value:e._id},e.location+" - "+e.firstName+" "+e.lastName)})):"")),l.a.createElement(Re.a,{item:!0,md:6,xs:12},l.a.createElement(Le.a,{fullWidth:!0,label:"Cuenta de Efectivo",margin:"dense",name:"cashAccount",onChange:function(t){return e.handleChange(t)},required:!0,select:!0,disabled:!this.state._investor,value:this.state.cashAccount,variant:"outlined"},l.a.createElement(Fe.a,{value:""},l.a.createElement("em",null,"None")),this.state.cashAccounts?this.state.cashAccounts.map((function(e,t){return l.a.createElement(Fe.a,{key:t,value:e.account},e.account)})):"")),l.a.createElement(Re.a,{item:!0,md:6,xs:12},l.a.createElement(Le.a,{fullWidth:!0,label:"Seleccionar concepto",margin:"dense",name:"concept",onChange:function(t){return e.handleChange(t)},required:!0,select:!0,value:this.state.concept,variant:"outlined"},l.a.createElement(Fe.a,{value:""},l.a.createElement("em",null,"None")),ht.txConcepts.map((function(e){return l.a.createElement(Fe.a,{key:e.value,value:e.value},e.label)})))),l.a.createElement(Re.a,{item:!0,md:6,xs:12},l.a.createElement(Le.a,{fullWidth:!0,label:"Fecha",margin:"dense",name:"txDate",type:"date",onChange:function(t){return e.handleChange(t)},required:!0,value:this.state.txDate,variant:"outlined"})),l.a.createElement(Re.a,{item:!0,md:6,xs:12},l.a.createElement(Le.a,{fullWidth:!0,label:"Monto",margin:"dense",name:"txAmount",type:"number",onChange:function(t){return e.handleChange(t)},required:!0,value:this.state.txAmount,variant:"outlined"})),l.a.createElement(Re.a,{item:!0,md:6,xs:12},l.a.createElement(Le.a,{fullWidth:!0,label:"Comentario",margin:"dense",name:"comment",type:"text",onChange:function(t){return e.handleChange(t)},required:!0,value:this.state.comment,variant:"outlined"})))),l.a.createElement(Yt.a,null),l.a.createElement(ya.a,null,l.a.createElement(T.a,{color:"primary",variant:"contained",type:"submit"},"REGISTRAR TX")))))))}}]),t}(n.Component);a(677);var Sa=function(e){var t=new at,a=e.investorId;return l.a.createElement("div",{className:"personal-transactions-holder"},l.a.createElement(Q.a,{title:"Movimientos",columns:[{title:"Fecha",field:"date",type:"date",render:function(e){return Me()(e.date).format("YYYY/MM/DD")}},{title:"Cliente",field:"fullName"},{title:"Concepto",field:"concept"},{title:"Movimiento",field:"debit",render:function(e){return te()(e.debit-e.credit).format({thousandSeparated:!0,mantissa:2})},type:"numeric"},{title:"Saldo",field:"balance",render:function(e){return te()(e.balance).format({thousandSeparated:!0,mantissa:2})},type:"numeric"},{title:"Comentario",field:"comment"}],data:function(e){return new Promise((function(n,l){t.getTransactions(a,e.page+1,e.pageSize).then((function(e){n({data:e.data,page:e.page-1,totalCount:e.total})}))}))},options:{sort:!1,search:!1,showTitle:!1,toolbar:!1,pageSize:20,style:{width:"100%"}}}))},Da=a(327),Ia=a(759),Pa=a(769),xa=a(773),wa=a(701),Ta=(a(335),function(e){var t=e.feeReceivers,a=e.newPct,n=e.newManager,r=e.handleNewFee,c=e.saveNewFee;return l.a.createElement("div",{className:"modal-fee"},l.a.createElement("h1",{className:"modal-title"},"AGREGAR NUEVO GESTOR"),l.a.createElement(P.a,{className:"fee-input-form"},l.a.createElement("div",null,l.a.createElement(Le.a,{select:!0,label:"Gestor",className:"management",name:"newManager",value:n,onChange:function(e){return r(e)}},t?t.map((function(e,t){return l.a.createElement(Fe.a,{value:e._id,key:t},e.firstName+" "+e.lastName+" - "+e.location)})):"")),l.a.createElement("div",null,l.a.createElement(Le.a,{className:"fee",label:"Porcentaje",value:a||null,onChange:function(e){return r(e)},name:"newPct",type:"number",InputProps:{startAdornment:l.a.createElement(ke.a,{position:"start"},"%")}})),l.a.createElement(T.a,{disabled:!a||!n,variant:"contained",color:"primary",className:"button-save",onClick:function(){return c()}},"Agregar")))}),ja=function(){var e=Object(n.useState)(!1),t=Object($.a)(e,2),a=t[0],l=t[1];return{isShowing:a,toggle:function(){l(!a)}}},Aa=function(e){var t=ja(),a=t.isShowing,n=t.toggle,r=e.investorFees,c=e.investorType,i=e.isAutoInvesting,s=e.toggleAutoInvest,o=e.changeInvestorType,m=e.feeReceivers,u=e.handleNewFee,d=e.newPct,p=e.newManager,E=e.saveNewFee,v=e.deleteFee;return l.a.createElement("div",{className:"account-options"},l.a.createElement("div",{className:"investment-options"},l.a.createElement("div",{className:"option-holder"},l.a.createElement(P.a,{component:"fieldset"},l.a.createElement(wa.a,{component:"legend"},"Auto Invertir Fondos"),l.a.createElement("div",{className:"toggle-holder"},l.a.createElement("p",{className:"detail-on"},"Off"),l.a.createElement(Ia.a,{className:"toggle",checked:i,inputProps:{"aria-label":"secondary checkbox"},onChange:function(){return s()},value:"checkedA"}),l.a.createElement("p",{className:"detail-off"},"On")))),l.a.createElement("div",{className:"option-holder"},l.a.createElement(P.a,{component:"fieldset"},l.a.createElement(wa.a,{component:"legend"},"Tipo de Inversionista"),l.a.createElement(xa.a,{"aria-label":"Tipo de Inversionista",name:"investorType",value:c,onChange:function(e){return o(e)}},l.a.createElement(Da.a,{className:"selection",value:"FIXED_INTEREST",control:l.a.createElement(Pa.a,null),label:"Fijo"}),l.a.createElement(Da.a,{className:"selection",value:"VARIABLE_INTEREST",control:l.a.createElement(Pa.a,null),label:"Variable"}))))),l.a.createElement("div",{className:"option-holder"},l.a.createElement(P.a,{component:"fieldset"},l.a.createElement(wa.a,{component:"legend"},"Esquema de Fees de Gesti\xf3n"),r?r.map((function(e,t){return l.a.createElement("div",{key:t,className:"fee-scheme line"},l.a.createElement("div",{className:"mg-accounts"},e._managementAccount.firstName+" "+e._managementAccount.lastName),l.a.createElement("div",{className:"mg-fee"},te()(e.pct).format({output:"percent",mantissa:2})),l.a.createElement("div",{className:"mg-icon",onClick:function(){return v(e._id)}},l.a.createElement("i",{className:"material-icons"},"delete")))})):"",l.a.createElement(ia.a,{className:"line",size:"small",color:"primary","aria-label":"add"},l.a.createElement(oa.a,{onClick:n})))),l.a.createElement(Xt.a,{open:a,onClose:n,style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement(Ta,{feeReceivers:m,handleNewFee:u,newPct:d,newManager:p,saveNewFee:E})))},Ra=function(e){return te()(e).formatCurrency({thousandSeparated:!0,mantissa:2})},La=function(e){var t=e.summary,a=t.cashAvailable,n=t.cashAccounts,r=t.paidBackCapital,c=t.totalInvestments,i=t.divestments,s=t.interestReceived,o=t.feeIncome,m=t.feeExpenses,u=t.totalCosts,d=t.totalDeposits,p=t.totalWithdrawals;return l.a.createElement("div",{className:"investment-acc-summary"},l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"DISPONIBLE"),l.a.createElement("p",{className:"total"},Ra(a)),n.length>0?n.map((function(e,t){return l.a.createElement("div",{key:t},l.a.createElement("p",{className:"acc-title"},e.cashAccount),l.a.createElement("p",{className:"acc-total"},Ra(e.total)))})):""),l.a.createElement("div",{className:"detail-summary center"},l.a.createElement("p",{className:"title"},"INVERSIONES"),l.a.createElement("p",{className:"total"},Ra(c-r-i)),l.a.createElement("p",{className:"acc-title"},"REPAGADO"),l.a.createElement("p",{className:"acc-total"},Ra(r)),l.a.createElement("p",{className:"acc-title"},"HISTORICO INVERTIDO"),l.a.createElement("p",{className:"acc-total"},Ra(c)),l.a.createElement("p",{className:"acc-title"},"VENTAS"),l.a.createElement("p",{className:"acc-total"},Ra(i))),l.a.createElement("div",{className:"detail-summary center"},l.a.createElement("p",{className:"title"},"UTILIDAD"),l.a.createElement("p",{className:"total"},Ra(s+o-m-u)),l.a.createElement("p",{className:"acc-title"},"INTERESES"),l.a.createElement("p",{className:"acc-total"},Ra(s)),l.a.createElement("p",{className:"acc-title"},"FEE NETO"),l.a.createElement("p",{className:"acc-total"},Ra(o-m)),l.a.createElement("p",{className:"acc-title"},"COST"),l.a.createElement("p",{className:"acc-total"},Ra(u))),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"DEPOSITOS"),l.a.createElement("p",{className:"total"},Ra(d)),l.a.createElement("p",{className:"acc-title"},"RETIROS"),l.a.createElement("p",{className:"acc-total"},Ra(p))))};a(678);var ka=function(e){var t=new fa,a=e.investorId;return l.a.createElement("div",{className:"personal-transactions-holder"},l.a.createElement(Q.a,{title:"Movimientos",className:"materialTable",columns:[{title:"Fecha",field:"date",type:"date",render:function(e){return Me()(e.startDate).format("YYYY/MM/DD")}},{title:"Cliente",field:"fullName",render:function(e){return l.a.createElement(C.a,{className:"acc-date",to:"/admin/loan/".concat(e._loan)},(e.firstName.split().length>=1&&e.lastName.split().length>=1?e.firstName.split(" ")[0]+" "+e.lastName.split(" ")[0]:e.firstName+" "+e.lastName).slice(0,23))}},{title:"Nominal",field:"debit",render:function(e){return te()(e.investment/e.pct).format({average:!0,mantissa:2})},type:"numeric"},{title:"%",field:"pct",render:function(e){return te()(100*e.pct).format({mantissa:2})+"%"},type:"numeric"},{title:"Invertido",field:"total",render:function(e){return te()(e.investment).format({average:!0,mantissa:2})},type:"numeric"},{title:"Venta",field:"disvestments",render:function(e){return te()(e.divestment).format({average:!0,mantissa:2})},type:"numeric"},{title:"Venta",field:"disvestments",render:function(e){return te()(e.capital).format({average:!0,mantissa:2})},type:"numeric"},{title:"Ingreso",field:"income",render:function(e){return te()(e.interest+e.feeIncome-e.feeExpenses+e.commissionIncome+e.managementFeeIncome-e.commissionExpense-e.managementFeeExpense).format({average:!0,mantissa:2})},type:"numeric"},{title:"Estatus",field:"status"}],data:function(e){return new Promise((function(n,l){t.getInvestmentsSummary(a,e.page+1,e.pageSize).then((function(e){n({data:e.data,page:e.page-1,totalCount:e.total})}))}))},options:{sort:!1,search:!1,showTitle:!1,toolbar:!1,pageSize:10,style:{width:"1000px"}}}))};function Fa(e){var t=e.status,a=e.resetStatus;return l.a.createElement(l.a.Fragment,null,"success"===t?l.a.createElement(Re.a,{item:!0,lg:12,md:12,xl:12,xs:12},l.a.createElement("div",{className:"alert alert-success alert-dismissible"},l.a.createElement("button",{className:"close",onClick:function(e){a(e)},"data-dismiss":"alert","aria-label":"close"},"\xd7"),l.a.createElement("strong",null,"Exito!")," La solicitud se ha procesado correctamente.")):"failure"===t?l.a.createElement(Re.a,{item:!0,lg:12,md:12,xl:12,xs:12},l.a.createElement("div",{className:"alert alert-danger alert-dismissible"},l.a.createElement("button",{className:"close","data-dismiss":"alert","aria-label":"close",onClick:function(e){a(e)}},"\xd7"),l.a.createElement("strong",null,"Fallo!")," La solicitud no se ha procesado correctamente")):"")}function _a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ma(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_a(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_a(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ua(e){var t=Object(n.useState)({status:"",error:null}),a=Object($.a)(t,2),r=a[0],c=a[1],i=new at,s=Object(n.useState)({_investor:e.investorId,cashAccount:"",concept:"",comment:"",amount:0,date:(new Date).toISOString().substring(0,10),currentDate:Me()().format("YYYY-MM-DD")}),o=Object($.a)(s,2),m=o[0],u=o[1],d=Object(n.useState)({filterAccounts:!0,accounts:[{account:"RBPERU",country:"PERU"},{account:"GCUS",country:"USA"},{account:"GFUS",country:"USA"},{account:"GCDR",country:"DOMINICAN_REPUBLIC"}]}),p=Object($.a)(d,2),E=p[0],v=p[1];Object(n.useEffect)((function(){u(Ma({},m,{_investor:e.investorId}))}),[e.investorId]);Object(n.useEffect)((function(){if(E.filterAccounts){var t=[];try{"GLOBAL"!==e.location?(t=E.accounts.filter((function(t,a,n){return t.country===e.location})),v({filterAccounts:!1,accounts:t})):v(Ma({},E,{filterAccounts:!1}))}catch(a){console.log(a)}}}),[E,e.location]);var f=function(e){var t=e.target,a=t.name,n=t.value;u(Ma({},m,Object(y.a)({},a,n)))};return l.a.createElement(Re.a,{container:!0,spacing:2,style:{marginTop:"10px"}},l.a.createElement(Fa,{status:r.status,resetStatus:function(e){c({error:null,status:""})}}),l.a.createElement(Re.a,{item:!0,lg:12,md:12,xl:12,xs:12},l.a.createElement(ga.a,null,l.a.createElement("form",{autoComplete:"off",noValidate:!0,onSubmit:function(t){t.preventDefault(),i.transactionInvestor(m).then((function(t){u({_investor:e.investorId,cashAccount:"",concept:"",amount:0,date:(new Date).toISOString().substring(0,10),currentDate:Me()().format("YYYY-MM-DD"),comment:""})})).then((function(){e.refreshDetails()})).then((function(){c({error:null,status:"success"})})).catch((function(e){c({error:e,status:"failure"})}))}},l.a.createElement(ba.a,{subheader:"Registro de nuevas transacciones",title:"Transacciones"}),l.a.createElement(Yt.a,null),l.a.createElement(Na.a,null,l.a.createElement(Re.a,{container:!0,spacing:3},l.a.createElement(Re.a,{item:!0,md:6,xs:12},l.a.createElement(Le.a,{fullWidth:!0,label:"Cuenta de Efectivo",margin:"dense",name:"cashAccount",onChange:function(e){return f(e)},required:!0,select:!0,disabled:!m._investor,value:m.cashAccount,variant:"outlined"},l.a.createElement(Fe.a,{value:""},l.a.createElement("em",null,"None")),E.accounts?E.accounts.map((function(e,t){return l.a.createElement(Fe.a,{key:t,value:e.account},e.account)})):"")),l.a.createElement(Re.a,{item:!0,md:6,xs:12},l.a.createElement(Le.a,{fullWidth:!0,label:"Seleccionar concepto",margin:"dense",name:"concept",onChange:function(e){return f(e)},required:!0,select:!0,value:m.concept,variant:"outlined"},l.a.createElement(Fe.a,{value:""},l.a.createElement("em",null,"None")),ht.txConcepts.map((function(e){return l.a.createElement(Fe.a,{key:e.value,value:e.value},e.label)})))),l.a.createElement(Re.a,{item:!0,md:6,xs:12},l.a.createElement(Le.a,{fullWidth:!0,label:"Fecha",margin:"dense",name:"date",type:"date",onChange:function(e){return f(e)},required:!0,value:new Date(m.date).toISOString().substring(0,10),variant:"outlined",InputProps:{inputProps:{max:new Date(m.currentDate).toISOString().substring(0,10)}}})),l.a.createElement(Re.a,{item:!0,md:6,xs:12},l.a.createElement(Le.a,{fullWidth:!0,label:"Monto",margin:"dense",name:"amount",type:"number",onChange:function(e){return f(e)},required:!0,value:0===m.amount?"":m.amount,variant:"outlined"})),l.a.createElement(Re.a,{item:!0,md:12,xs:12},l.a.createElement(Le.a,{fullWidth:!0,label:"Comentario",margin:"dense",name:"comment",type:"text",onChange:function(e){return f(e)},required:!0,value:m.comment,variant:"outlined"})))),l.a.createElement(Yt.a,null),l.a.createElement(ya.a,null,l.a.createElement(T.a,{color:"primary",variant:"contained",type:"submit"},"REGISTRAR TX"))))))}a(679);var Ya=function(e){var t=e.loanDetails;return l.a.createElement("div",{className:"personal-loan-holder"},l.a.createElement("div",{className:"loan-schedule-head "},l.a.createElement("div",{className:"detail-schedule head-name"},l.a.createElement("p",{className:"title-date"},"NOMBRE")),l.a.createElement("div",{className:"detail-schedule last head-pct"},l.a.createElement("p",{className:"title"},"%")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"INVERSION")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"INTERESES")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"CAPITAL")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"INGRESO (F)")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"EGRESO (F)")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"INGRESO "))),t?t.map((function(e,t){return l.a.createElement("div",{key:t,className:"loan-schedule-content"},l.a.createElement("div",{className:"detail-schedule details-name"},l.a.createElement("p",{className:"acc-date"},e.name," ")),l.a.createElement("div",{className:"detail-schedule details-pct"},l.a.createElement("p",{className:"acc-total"},te()(e.ownership).format({output:"percent",mantissa:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.investment.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.interest.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.capital.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.feeIncome.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.feeExpense.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},(e.interest+e.feeIncome-e.feeExpense).toLocaleString(void 0,{maximumFractionDigits:2}))))})):"")},Ba=(a(680),a(681),function(e){var t=e.investors,a=e._investor,n=e.handleChange;return l.a.createElement(xt.a,{className:"select-bar"},l.a.createElement(Oe.a,{className:"iconButton",disabled:!0,"aria-label":"menu"},l.a.createElement("i",{className:"material-icons"},"account_circle")),l.a.createElement(P.a,{variant:"standard",className:"formControl"},l.a.createElement(Gt.a,{value:a||"Seleccione un inversionista",onChange:function(e){return n(e)},className:"menu-item",inputProps:{name:"_investor",id:"outlined-age-simple"}},t?t.map((function(e){return l.a.createElement(C.a,{to:"/admin/investor/details/".concat(e._id),key:e._id,value:e._id},l.a.createElement(Fe.a,{className:"menu-item",value:e._id},l.a.createElement(Tt,{country:e.location})," "+e.firstName+" "+e.lastName))})):"")),l.a.createElement(Oe.a,{disabled:!0,className:"iconButton","aria-label":"search"},l.a.createElement(Rt.a,null)),l.a.createElement(Yt.a,{className:"divider",orientation:"vertical"}),l.a.createElement(Oe.a,{color:"secondary",className:"iconButton","aria-label":"directions"},l.a.createElement("i",{className:"material-icons"},l.a.createElement(C.a,{to:"/admin/investor/create"},"create"))))});function Ga(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Wa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ga(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ga(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var qa={summary:{totalDeposits:0,totalWithdrawals:0,cashAvailable:0,debitTotal:0,totalInvestments:0,divestments:0,creditTotal:0,cashAccounts:[],paidBackCapital:0,interestReceived:0,feeExpenses:0,totalCosts:0,feeIncome:0},getTransactions:!0,getLoanInvestments:!0,getCashDetails:!0,getInvestmentOptions:!0,getInvestmentFees:!0,getInvestmentDetails:!0,getPLDetails:!0,getCashMovements:!0,getDetails:!1,getInvestor:!1,loanDetails:null,fetchInvestors:!0,transactions:[],investments:[],display:!1,newManager:"",value:0},Va=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleTabChange=function(e,t){a.setState({value:t})},a.fetchInvestor=function(){var e=Object(G.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({display:!0}),a.state.getLoanInvestments&&a.InvestorService.getLoanInvestorDetails(t).then((function(e){a.setState({loanDetails:e,getLoanInvestments:!1})})),a.state.getCashDetails&&a.InvestorService.getCashDetails(t).then((function(e){a.setState({summary:Wa({},a.state.summary,{},e),getCashDetails:!1})})),a.state.getInvestmentOptions&&a.InvestorService.getInvestorOptions(t).then((function(e){a.setState(Wa({},a.state,{isAutoInvesting:e.isAutoInvesting,investorType:e.investorType,getInvestmentOptions:!1}))})),a.state.getInvestmentFees&&a.InvestorService.getInvestorFees(t).then((function(e){a.setState(Wa({},a.state,{investorFees:e.data,getInvestmentFees:!1}))})),a.state.getInvestmentDetails&&a.InvestorService.getInvestmentDetails(t).then((function(e){a.setState({summary:Wa({},a.state.summary,{},e),getInvestmentDetails:!1})})),a.state.getPLDetails&&a.InvestorService.getPLDetails(t).then((function(e){a.setState({summary:Wa({},a.state.summary,{},e),getPLDetails:!1})})),a.state.getCashMovements&&a.InvestorService.getCashMovements(t).then((function(e){a.setState({summary:Wa({},a.state.summary,{},e),getCashMovements:!1})}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.changeInvestorType=function(e){var t=e.target.value,n={investorId:a.state._investor,investorType:t};a.InvestorService.changeInvestorType(n).then((function(e){console.log(e),"success"===e.status?a.setState({investorType:e.data.investorType}):a.setState({investorType:a.state.investorType})}))},a.toggleAutoInvest=function(){var e=a.state._investor;a.InvestorService.toggleInvestorAutoInvest(e).then((function(e){console.log(e),"success"===e.status?a.setState({isAutoInvesting:e.isAutoInvesting}):a.setState({isAutoInvesting:a.state.isAutoInvesting})}))},a.handleChange=function(e){var t,n=e.target,l=n.name,r=n.value;a.setState((t={},Object(y.a)(t,l,r),Object(y.a)(t,"getInvestor",!0),Object(y.a)(t,"display",!0),Object(y.a)(t,"getLoanInvestments",!0),Object(y.a)(t,"getCashDetails",!0),Object(y.a)(t,"getInvestmentFees",!0),Object(y.a)(t,"getInvestmentDetails",!0),Object(y.a)(t,"getPLDetails",!0),Object(y.a)(t,"getCashMovements",!0),t))},a.refreshDetails=function(){a.setState({getInvestor:!0,display:!0,getLoanInvestments:!0,getCashDetails:!0,getInvestmentFees:!0,getInvestmentDetails:!0,getPLDetails:!0,getCashMovements:!0})},a.handleNewFee=function(e){var t=e.target,n=t.name,l=t.value;"newPct"===n?(console.log(l),l>100?a.setState({newPct:100}):l<0?a.setState({newPct:0}):a.setState({newPct:l})):a.setState(Object(y.a)({},n,l))},a.saveNewFee=function(){var e=a.state,t=e.newPct,n=e.newManager,l=e._investor,r={investorId:l,managementAccountId:n,pct:t/=100};return a.InvestorService.addInvestorFees(r).then(function(){var e=Object(G.a)(B.a.mark((function e(t){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("success"!==t.status){e.next=7;break}return e.next=3,a.InvestorService.getInvestorFees(l);case 3:n=e.sent,a.setState({investorFees:n.data,newPct:0,newManager:null}),e.next=7;break;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},a.deleteFee=function(e){var t=a.state._investor;a.InvestorService.deleteInvestorFees(e).then(function(){var e=Object(G.a)(B.a.mark((function e(n){var l;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("success"!==n.status){e.next=7;break}return e.next=3,a.InvestorService.getInvestorFees(t);case 3:l=e.sent,a.setState({investorFees:l.data}),e.next=7;break;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},a.state=qa,a.TransactionService=new at,a.InvestorService=new fa,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.investorId,t=this.state.getInvestor;e&&t&&(this.fetchInvestor(e),this.setState({getInvestor:!1}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.investorId;t&&this.setState({getDetails:!0,getInvestor:!0,_investor:t}),this.state.fetchInvestors&&this.InvestorService.getInvestors().then(function(){var t=Object(G.a)(B.a.mark((function t(a){var n,l;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.sort((function(e,t){return e.lastName.localeCompare(t.lastName)}));case 2:return n=t.sent,t.next=5,n.sort((function(e,t){return e.location.localeCompare(t.location)}));case 5:l=t.sent,e.setState({investors:l,fetchInvestors:!1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.setState({error:t})}))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.investorId,n=this.state,r=n.transactions,c=n.loanDetails,i=n.display,s=n.value,o=n.summary,m=n.isAutoInvesting,u=n.investorFees,d=n.investorType,p=n.newPct,E=n.newManager,v=n.investors;return l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"form-row"},l.a.createElement(Ba,{investors:v,_investor:a,handleChange:this.handleChange})),i&&l.a.createElement("div",null,l.a.createElement(La,{summary:o}),l.a.createElement("div",null,l.a.createElement("div",{className:"loan-content-holder"},l.a.createElement("div",{className:t.root},l.a.createElement(fe.a,{value:s,onChange:this.handleTabChange,classes:{root:t.tabsRoot,indicator:t.tabsIndicator}},l.a.createElement(he.a,{disableRipple:!0,classes:{root:t.tabRoot,selected:t.tabSelected},label:"DETALLES"}),l.a.createElement(he.a,{disableRipple:!0,classes:{root:t.tabRoot,selected:t.tabSelected},label:"INVERSIONES"}),l.a.createElement(he.a,{disableRipple:!0,classes:{root:t.tabRoot,selected:t.tabSelected},label:"MOVIMIENTOS"}),l.a.createElement(he.a,{disableRipple:!0,classes:{root:t.tabRoot,selected:t.tabSelected},label:"TRANSACCIONES"}),l.a.createElement(he.a,{disableRipple:!0,classes:{root:t.tabRoot,selected:t.tabSelected},label:"OPCIONES"}))),0===s&&l.a.createElement(Ya,{loanDetails:c}),1===s&&l.a.createElement(ka,{investorId:a}),2===s&&l.a.createElement(Sa,{investorId:a,data:r,accountTotal:o.cashAvailable}),3===s&&l.a.createElement(Ua,{investorId:this.props.investorId,location:this.props.location,refreshDetails:this.refreshDetails}),4===s&&l.a.createElement(Aa,{feeReceivers:this.state.investors,changeInvestorType:this.changeInvestorType,toggleAutoInvest:this.toggleAutoInvest,investorFees:u,investorType:d,isAutoInvesting:m,handleNewFee:this.handleNewFee,newPct:p,newManager:E,saveNewFee:this.saveNewFee,deleteFee:this.deleteFee})))))}}]),t}(n.Component),za=Object(R.a)((function(e){return{root:{flexGrow:1,display:"flex",flexWrap:"wrap"},tabsIndicator:{backgroundColor:"#1890ff"},tabRoot:{textTransform:"initial",minWidth:72,fontWeight:500,marginRight:e.spacing(4),"&:hover":{color:"#40a9ff",opacity:1,outline:"none"},"&$tabSelected":{color:"#1890ff",fontWeight:600,outline:"none"},"&:focus":{color:"#40a9ff",outline:"none"}},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},tabSelected:{}}}))(Va);function Ha(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ha(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ha(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Xa=a(8),Za=function(e){return Math.round(1e4*e)/1e4},Ka=function(e){return{yearly:12*(e/=100),quarterly:3*e,bimonthly:2*e,monthly:e,biWeekly:12*e/360*14,weekly:12*e/360*7,payDay:12*e/360*15,daily:12*e/360}},Ja=function(e,t,a,n){var l;if("payDay"!==n)l=Xa(e).add(t,a).format("YYYY-MM-DD");else if(Xa(e).add(t,a).date()<16)l=Xa(e).add(t,a).set({date:16}).format("YYYY-MM-DD");else{var r=Xa(e).add(t,a).endOf("month").date();l=Xa(e).add(t,a).set({date:r+1}).format("YYYY-MM-DD")}return l},Qa=function(e,t,a){var n={};return n.interest=Za(e*a),n.principal=Za(t-e*a),n.payment=Za(t),n.balance=Za(e-n.principal),n},en=function(e,t,a,n,l,r,c,i,s){var o=t,m=a,u=n;n=l;for(var d=[],p=function(e){return"yearly"===e?"years":"quarterly"===e?"quaters":"monthly"===e?"month":"biWeekly"===e?"weeks":"payDay"===e?"weeks":"weekly"===e?"weeks":void 0}(o),E=function(e){return"yearly"===e?1:"quarterly"===e?1:"monthly"===e?1:"biweekly"===e?2:"payDay"===e?2:"weekly"===e?1:void 0}(o),v=Ka(c)[o],f=nn(i,v,m-r),h=f-i*Ka(c)[o],g=0;g<m+1;g++){var b=g>=r?g-r:0;0===g?d.push({"#":g,status:"DISB",date:Xa(u).format("YYYY-MM-DD"),interest:0,principal:0,balance:i}):1===g?d.push({"#":g,status:"PMT",date:Xa(n).format("YYYY-MM-DD"),interest:Za(Xa(n).diff(Xa(u),"d")*i*Ka(c).daily),principal:0===b?0:h,payment:0===b?Za(Xa(n).diff(Xa(u),"d")*i*Ka(c).daily):Xa(n).diff(Xa(u),"d")*i*Ka(c).daily+h,balance:0===b?i:i-h}):(b=0===b?{interest:Za(i*Ka(c)[o]),principal:0,payment:Za(i*Ka(c)[o]),balance:Za(i)}:Qa(d[d.length-1].balance,f,Ka(c)[o]),d.push($a({"#":g,status:"PMT",date:Ja(d[d.length-1].date,E,p,o)},b)))}return d},tn=function(e,t,a,n,l,r,c){for(var i=Xa(l),s=Xa(r),o=a/100/30*n*-i.diff(s,"days"),m=t,u=n/m,d=a/100/30*n*15,p=[{_loan:e,date:Xa(i).toString(),payment:0,interest:0,principal:0,balance:n,tracking:"DISBURSTMENT",currency:c},{_loan:e,date:Xa(s).toString(),payment:o+u,interest:o,principal:u,balance:n-u,tracking:"DUE",currency:c}],E=2;E<=m;E++){var v={_loan:e,date:Xa(s).add(14*(E-1),"days").toString(),payment:d+u,interest:d,principal:u,balance:n-u*E,tracking:"PENDING",currency:c};p.push(v)}return p},an=function(e,t,a,n,l,r,c){for(var i={biWeekly:{everyOther:.5,periodicity:"d",amount:15},payDay:{everyOther:.5,periodicity:"d",amount:15},monthly:{everyOther:1,periodicity:"M",amount:1}},s=Xa(r,"YYYY-MM-DD").format("YYYY-MM-DD"),o=Xa(r,"YYYY-MM-DD"),m=Xa(r,"YYYY-MM-DD"),u=function(e){var t=Xa(e).date(),a=Xa(e).year(),n=Xa(e).month(),l=e.endOf("month").date();return t>10&&t<=15?Xa([a,n,l]).format("YYYY-MM-DD"):t>=1&&t<=10?Xa([a,n,15]).format("YYYY-MM-DD"):t>15&&t<=25?Xa([a,n,l]).format("YYYY-MM-DD"):t>25&&t<=l?Xa([a,n,15]).add(1,"M").format("YYYY-MM-DD"):void 0}(o),d=function(e){var t=e.date(),a=e.endOf("month").date();return t>10&&t<=15?1/15*(a-t):t>=1&&t<=10?1/15*(16-t):t>15&&t<=25?1/(a-15)*(a+1-t):t>25&&t<=a?1/(a-15)*(a-t+15):void 0}(m),p=i[t].everyOther,E=i[t].amount,v=i[t].periodicity,f=n*p/100*l,h=a*(1/p),g=l/h,b=f+g,N=[{_loan:e,date:s,payment:0,interest:0,principal:0,balance:l,status:"DISBURSTMENT",currency:c}],y=1;y<=h;y++)if(y<2){var O={_loan:e,date:u,payment:f*d,interest:f*d,principal:g,balance:l,status:"DUE",currency:c};N.push(O)}else{if(Xa(u).add((y-1)*E,v).date()<16)r=Xa(u).add((y-1)*E,v).set({date:15});else{var C=Xa(u).add((y-1)*E,v).endOf("month").date();r=Xa(u).add((y-1)*E,v).set({date:C})}var S={_loan:e,date:r.format("YYYY-MM-DD"),payment:b,interest:f,principal:g,balance:l-y*g,status:"PENDING",currency:c};N.push(S)}return N},nn=function(e,t,a){return e*(t/(1-Math.pow(1+t,-a)))},ln=function(e,t,a,n,l,r,c,i,s){var o={};return o._loan=e,o.date=Xa(l).add(r*c,i).format("YYYY-MM-DD"),o.interest=t*a,o.principal=n-t*a,o.payment=n,o.balance=Math.round(100*(t-o.principal))/100,o.status="DUE",o.currency=s,o},rn=function(e,t,a,n,l,r,c){for(var i={biWeekly:{everyOther:.5,periodicity:"d",amount:15},payDay:{everyOther:.5,periodicity:"d",amount:15},monthly:{everyOther:1,periodicity:"M",amount:1}},s=i[t].everyOther,o=i[t].amount,m=i[t].periodicity,u=a*(1/s),d=[{_loan:e,date:r,interest:0,principal:0,payment:0,balance:l,status:"DISBURSTMENT",currency:c}],p=nn(l,n/=100,u),E=0;E<u;E++){var v=d[d.length-1],f=ln(e,v.balance,n,p,r,E+1,o,m,c);d.push(f)}return d},cn=function(e,t,a,n,l,r,c){for(var i={biWeekly:{everyOther:.5,periodicity:"d",amount:15},payDay:{everyOther:.5,periodicity:"d",amount:15},monthly:{everyOther:1,periodicity:"M",amount:1}},s=i[t].everyOther,o=i[t].amount,m=i[t].periodicity,u=n*s/100*l,d=a*(1/s),p=l/d,E=n+p,v=[{_loan:e,date:r,payment:0,interest:0,principal:0,balance:l,status:"DISBURSTMENT",currency:c}],f=Xa(r),h=1;h<=d;h++){var g=Xa(r).add(h,"M").diff(f,"days"),b={_loan:e,date:Xa(r).add(h*o,m).format("YYYY-MM-DD"),payment:E,interest:u,principal:p,balance:l-h*p,status:g>31?"PENDING":"DUE",currency:c};v.push(b)}return v};function sn(e,t,a,n,l,r){for(var c=n/100*l,i=l,s=c,o=c+i,m=[{_loan:e,date:r,payment:0,interest:0,principal:0,balance:l,status:"DISBURSTMENT"}],u=Xa(r),d=1;d<=a;d++){var p=Xa(r).add(d,"M").diff(u,"days");if(d<a){var E={_loan:e,date:Xa(r).add(d,"M").format("YYYY-MM-DD"),payment:s,interest:c,principal:0,balance:i,status:p>31?"PENDING":"DUE"};m.push(E)}else{var v={_loan:e,date:Xa(r).add(d,"M").format("YYYY-MM-DD"),payment:o,interest:c,principal:i,balance:0,status:p>31?"PENDING":"DUE"};m.push(v)}}return m}var on=function(e,t,a,n,l,r,c,i){for(var s={biWeekly:{everyOther:.5,periodicity:"d",amount:15},payDay:{everyOther:.5,periodicity:"d",amount:15},monthly:{everyOther:1,periodicity:"M",amount:1}},o=s[t].everyOther,m=s[t].amount,u=s[t].periodicity,d=n*o/100*l,p=a*(1/o),E=l/p,v=n+E,f=[{_loan:e,date:r,payment:0,interest:0,principal:0,balance:l,status:"DISBURSTMENT",currency:i}],h=Xa(r),g=1;g<=p+1;g++){var b=Xa(r).add(g,"M").diff(h,"days");if(g>1){var N={_loan:e,date:Xa(c).add((g-1)*m,u).format("YYYY-MM-DD"),payment:v,interest:d,principal:E,balance:l-(g-1)*E,status:b>31?"PENDING":"DUE",currency:i};f.push(N)}else{var y={_loan:e,date:Xa(c).format("YYYY-MM-DD"),payment:mn(r,c)*(-d/30),interest:mn(r,c)*(-d/30),principal:0,balance:l,status:b>31?"PENDING":"DUE",currency:i};f.push(y)}}return f},mn=function(e,t){var a=Xa(e),n=Xa(t);return Xa.duration(a.diff(n)).asDays()},un=function(e,t,a,n,l,r){var c=[];l-=n=n/100*12/360*a*l;var i={_loan:e,date:Xa(t).format("YYYY-MM-DD"),payment:0,interest:0,principal:0,balance:l,status:"DISBURSTMENT",currency:r};c.push(i);var s={_loan:e,date:Xa(t).add(a,"days").format("YYYY-MM-DD"),payment:l+n,interest:n,principal:l,balance:0,status:a>31?"PENDING":"DUE",currency:r};return c.push(s),c},dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=t.loanType,l=t.period,r=t.duration,c=t.interest,i=t.capital,s=t.startDate,o=t.paymentDate,m=t.days,u=t.startAmortPeriod;switch(c=parseFloat(c),r=parseFloat(r),i=parseFloat(i),m=parseFloat(m),n){case"linear":return cn(e,l,r,c,i,s,a);case"lumpSum":return sn(e,0,r,c,i,s);case"linearIntFirst":return on(e,l,r,c,i,s,o,a);case"monday":return tn(e,r,c,i,s,o,a);case"payDay":return an(e,l,r,c,i,s,a);case"factoring":return un(e,s,m,c,i,a);case"amort":return rn(e,l,r,c,i,s,a);case"amort2":return en(0,l,r,s,o,u,c,i);default:return null}},pn=[{value:"vehicle",text:"Vehiculo"},{value:"motorcycle",text:"Moto"},{value:"personal",text:"Personal"},{value:"capitalGoods",text:"Bienes de Capital"},{value:"vehicleWithInsurance",text:"Vehiculo con seguro"},{value:"motorcycleWithInsurance",text:"Moto con seguro"},{value:"personalWithInsurance",text:"Personal con seguro"},{value:"capitalGoodsWithInsurance",text:"Bienes de Capital con Seguro"},{value:"payroll",text:"Nomina"},{value:"workingCapital",text:"Capital Trabajo"},{value:"refinancing",text:"Refinanciamiento"},{value:"debtConsolidation",text:"Consolidaci\xf3n de Deuda"},{value:"factoring",text:"Factoring"},{value:"creditLine",text:"Linea de credito"}],En=["vehicleWithInsurance","motorcycleWithInsurance","personalWithInsurance","capitalGoodsWithInsurance"];var vn=function(e){var t=e.details,a=t.useOfFunds,n=t.currency,r=t.insurancePremium;return l.a.createElement("div",{className:"form-row general-loan-details"},l.a.createElement("div",{className:"card col-md-12"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},"Datos b\xe1sicos"),l.a.createElement("div",{className:"form-row col-md-12"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Uso de los fondos"),l.a.createElement("select",{id:"loan_type",className:"form-control",name:"useOfFunds",value:a,onChange:function(t){return e.handleChange(t)},required:!0},pn.map((function(e){return l.a.createElement("option",{value:e.value},e.text)})))),l.a.createElement("div",{className:"form-group col-md-3 col-sm-3"},l.a.createElement("label",null,"Monto de la prima"),l.a.createElement("input",{id:"loan_type",className:"form-control",name:"insurancePremium",value:r,type:"number",onChange:function(t){return e.handleChange(t)},required:-1!==En.indexOf(a),disabled:-1===En.indexOf(a)})),l.a.createElement("div",{className:"form-group col-md-3 col-sm-3"},l.a.createElement("label",null,"Moneda"),l.a.createElement("select",{id:"loan_type",className:"form-control",name:"currency",value:n,onChange:function(t){return e.handleChange(t)},required:!0},l.a.createElement("option",{value:"USD"},"USD"),l.a.createElement("option",{value:"DOP"},"DOP"),l.a.createElement("option",{value:"PEN"},"PEN")))))))};var fn=function(e){var t=e.loanSchedule;return l.a.createElement("div",{className:"loan-schedule-holder",style:{margin:"0 auto"}},l.a.createElement("div",{className:"loan-schedule-head "},l.a.createElement("div",{className:"detail-schedule head-date"},l.a.createElement("p",{className:"title"},"FECHA")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"INTERES")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"CAPITAL")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"CUOTA")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"STATUS"))),t.map((function(e,t){return l.a.createElement("div",{key:t,className:"loan-schedule-content"},l.a.createElement("div",{className:"detail-schedule details-date"},l.a.createElement("p",{className:"acc-total"},Me()(e.date).format("YY-MM-DD"))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.interest.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.principal.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},(parseFloat(e.interest)+parseFloat(e.principal)).toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.status)))})))};var hn=function(e){var t=e.loanDetails,a=e.handleClose,n=e.open,r=e.loanSchedule,c=e.investmentEqCapital;return l.a.createElement("div",{className:"form-row general-loan-details"},l.a.createElement("div",{className:"card col-md-12"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},"Detalles del prestamo"),l.a.createElement("div",{className:"form-row col-md-12"},l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Esquema:"),l.a.createElement("select",{id:"loan_type",className:"form-control",name:"loanType",value:t.loanType,onChange:function(t){return e.handleLoanDetailsChange(t)},required:!0},l.a.createElement("option",{value:"linear"},"Pagos Iguales"),l.a.createElement("option",{value:"linearIntFirst"},"Interest + Pagos Iguales"),l.a.createElement("option",{value:"monday"},"Dia de pago lunes"),l.a.createElement("option",{value:"payDay"},"Dia de pago"),l.a.createElement("option",{value:"lumpSum"},"Final PMTs + Interest + No Amort"),l.a.createElement("option",{value:"factoring"},"Factoring"),l.a.createElement("option",{value:"amort"},"Amortizado"),l.a.createElement("option",{value:"amort2"},"Amortizado (Customizado)"))),"factoring"===t.loanType?l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"D\xedas"),l.a.createElement("input",{type:"number",className:"form-control",id:"days",name:"days",value:t.days,onChange:function(t){return e.handleLoanDetailsChange(t)},required:!0})):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form-group col-md-3 col-sm-3"},l.a.createElement("label",null,"Frequencia:"),l.a.createElement("select",{id:"loan_type",className:"form-control",name:"period",value:t.period,onChange:function(t){return e.handleLoanDetailsChange(t)},required:!0},l.a.createElement("option",{defaultValue:"monthly"},"Mensual"),l.a.createElement("option",{value:"biWeekly"},"Bisemanal"),l.a.createElement("option",{value:"payDay"},"Quincenal"),l.a.createElement("option",{value:"weekly"},"Semanal"))),l.a.createElement("div",{className:"form-group col-md-3 col-sm-3"},l.a.createElement("label",null,"Periodos de solo interes :"),l.a.createElement("input",{type:"number",className:"form-control",id:"startAmortPeriod",name:"startAmortPeriod",value:t.startAmortPeriod,onChange:function(t){return e.handleLoanDetailsChange(t)},disabled:"amort2"!==t.loanType})))),l.a.createElement("div",{className:"form-row col-md-12"},l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Fecha de Inicio"),l.a.createElement("input",{type:"date",className:"form-control",id:"startDate",name:"startDate",value:t.startDate,onChange:function(t){return e.handleLoanDetailsChange(t)},required:!0})),l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Fecha de Pago"),l.a.createElement("input",{type:"date",className:"form-control",id:"paymentDate",name:"paymentDate",min:t.startDate?t.startDate:null,value:t.paymentDate,onChange:function(t){return e.handleLoanDetailsChange(t)},required:!0}))),l.a.createElement("div",{className:"form-row col-md-12"},l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Principal:"),l.a.createElement("input",{className:"form-control",type:"number",step:"any",id:"capital",name:"capital",value:t.capital,onChange:function(t){return e.handleLoanDetailsChange(t)},required:!0})),l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Desembolso:"),l.a.createElement("input",{className:"form-control",type:"number",disabled:!!c,step:"any",id:"investedCapital",name:"investedCapital",value:t.investedCapital,onChange:function(t){return e.handleLoanDetailsChange(t)},required:!0})),l.a.createElement("div",{class:"form-group col-md-12"},l.a.createElement("div",{class:"form-check"},l.a.createElement("input",{class:"form-check-input",type:"checkbox",id:"gridCheck",onChange:function(t){return e.toggleInvestmentEqCapital(t)},checked:c}),l.a.createElement("label",{class:"form-check-label",for:"gridCheck"},"Capital igual a desembolso")))),l.a.createElement("div",{className:"form-row col-md-12 col-sm-6"},"factoring"!==t.loanType?l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Cuotas:"),l.a.createElement("input",{className:"form-control",type:"number",step:"any",id:"duration",name:"duration",value:t.duration,onChange:function(t){return e.handleLoanDetailsChange(t)},required:!0})):"",l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Tasa de Interes (M):"),l.a.createElement("input",{className:"form-control",type:"number",step:"any",id:"interest",name:"interest",value:t.interest,onChange:function(t){return e.handleLoanDetailsChange(t)},required:!0}))),l.a.createElement("div",{className:"form-row col-md-12"},l.a.createElement("div",{className:"calc-button col-md-6 "},l.a.createElement("button",{type:"button",className:"btn btn-info",onClick:function(t){return e.calcLoanSchedule(t)}},"Visualizar cronograma"),l.a.createElement(Xt.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:n,onClose:a},l.a.createElement(fn,{loanSchedule:r})))))))};function gn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function bn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?gn(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Nn=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.match.params.clientId;a.ClientService.getClient(e).then((function(t){return a.setState({_id:e,country:t.country}),t.country})).then((function(e){a.fetchAccountsTotals(e)}))},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state._id,n=a.state.insurancePremium,l=a.state.currency,r=a.state.collateralType,c=a.state.collateralValue,i=a.state.collateralDescription,s=a.state.loanDetails,o=a.state.useOfFunds,m=a.state.investors,u=a.state.country;a.state.autoInvest?a.LoanService.createLoanAllActive(t,n,r,c,i,s,o,l,u).then((function(e){"success"===e.status?a.props.history.push("/admin/loan/".concat(e.message._id)):a.setState({error:!0,message:e.response.data.message})})).catch((function(e){a.setState({error:!0,message:e.response.data.message})})):a.LoanService.createLoan(t,n,r,c,i,s,o,m,l).then((function(e){e._id?a.props.history.push("/admin/loan/".concat(e._id)):console.log(e)})).catch((function(e){a.setState({error:!0,message:e.response.data.message})}))},a.handleLoanDetailsChange=function(e){var t=e.target,n=t.name,l=t.value,r=t.type;a.state.investmentEqCapital&&"capital"===n?(console.log("aqui"),a.setState((function(e){var t;return bn({},e,{loanDetails:bn({},e.loanDetails,(t={},Object(y.a)(t,n,"number"===r?parseFloat(l):l),Object(y.a)(t,"investedCapital","number"===r?parseFloat(l):l),t)),openPaymentDate:!1})}))):a.setState((function(e){return bn({},e,{loanDetails:bn({},e.loanDetails,Object(y.a)({},n,"number"===r?parseFloat(l):l)),openPaymentDate:!1})}))},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value,r=t.type;"insurancePremium"===n?a.setState(Object(y.a)({},n,parseFloat(l))):a.setState(Object(y.a)({},n,"number"===r?parseFloat(l):l))},a.toggleInvestmentEqCapital=function(){a.setState({investmentEqCapital:!a.state.investmentEqCapital,loanDetails:bn({},a.state.loanDetails,{investedCapital:a.state.loanDetails.capital})})},a.handleAutoInvest=function(){a.setState({autoInvest:!a.state.autoInvest})},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleSelectedInvestor=function(e){var t,n=e.target,l=n.name,r=n.value,c=r.split(","),i=a.state.accounts.findIndex((function(e){return e.investor[0]._id===c[0]&&e.cashAccount===c[1]}));a.setState((t={},Object(y.a)(t,l,r),Object(y.a)(t,"investorIndex",i),Object(y.a)(t,"openInvestmentOption",!0),Object(y.a)(t,"investorFullName",a.state.accounts[i].investor[0].firstName+" "+a.state.accounts[i].investor[0].lastName),Object(y.a)(t,"investorCashAvailable",parseFloat(a.state.accounts[i].accumTotal)),Object(y.a)(t,"investorCashRemaining",parseFloat(a.state.accounts[i].accumTotal)),Object(y.a)(t,"cashAccount",a.state.accounts[i].cashAccount),t))},a.handleInvestment=function(e){var t,n=e.target.name,l=parseFloat(e.target.value),r=isNaN(l)?0:l,c=a.state.investorIndex,i=parseFloat(a.state.accounts[c].accumTotal)-r,s=r/parseFloat(a.state.loanDetails.capital);s=isNaN(s)?0:s,a.setState((t={},Object(y.a)(t,n,r),Object(y.a)(t,"investorCashRemaining",i),Object(y.a)(t,"pct",s),t))},a.handleNewInvestor=function(){var e=a.state.investor.split(","),t=a.state.investorFullName,n=parseFloat(a.state.investmentAmount),l=a.state.pct,r=a.state.cashAccount;a.setState({openInvestmentOption:!1,investors:[].concat(Object(Pt.a)(a.state.investors),[{_investor:e[0],investorFullName:t,amount:n,pct:l,cashAccount:r}]),investor:"",investorCashAvailable:0,pct:0,investmentAmount:0})},a.deleteInvestor=function(e){var t=a.state.investors;t.splice(e,1),a.setState({investors:t})},a.calcLoanSchedule=function(){var e=a.state.loanDetails,t=dn(1,e);a.setState({loanSchedule:t,open:!0})},a.state=ht.loanInitialState,a.ClientService=new Nt,a.TransactionService=new at,a.LoanService=new we,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"fetchAccountsTotals",value:function(e){var t=this;this.state.accounts||this.TransactionService.getInvestorsAvailability(e).then((function(e){t.setState({accounts:e})})).catch((function(e){t.setState({accounts:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.loanDetails,n=t.open,r=t.loanSchedule,c=t.investmentEqCapital;return l.a.createElement("div",{className:"content"},l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement(vn,{details:this.state,handleChange:this.handleChange}),l.a.createElement(hn,{loanDetails:a,handleLoanDetailsChange:this.handleLoanDetailsChange,openPaymentDate:this.state.openPaymentDate,open:n,handleClose:this.handleClose,loanSchedule:r,investmentEqCapital:c,toggleInvestmentEqCapital:this.toggleInvestmentEqCapital,calcLoanSchedule:this.calcLoanSchedule}),l.a.createElement("div",{className:"form-row  general-loan-details"},l.a.createElement("div",{className:"card col-md-12"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},"Inversionista"),l.a.createElement(Da.a,{control:l.a.createElement(Ia.a,{checked:this.state.autoInvest,onChange:function(){return e.handleAutoInvest()},value:"checkedA"}),label:"AutoInvest"}),this.state.autoInvest?l.a.createElement("p",null,"Los inversionistas se selecctionar\xe1n de acuerdo a su disponibilidad"):l.a.createElement("div",{className:"form-row col-md-12 ",id:"participants"},l.a.createElement("div",{className:"form-group col-md-6",id:"investor-0"},l.a.createElement("label",null,"Cuenta Inversionista:"),l.a.createElement("select",{className:"form-control",name:"investor",value:this.state.investor,onChange:function(t){return e.handleSelectedInvestor(t)}},l.a.createElement("option",null,"Seleccionar Cuenta"),this.state.accounts?this.state.accounts.map((function(e,t){if(void 0!==e.investor[0])return l.a.createElement("option",{key:t,value:[e.investor[0]._id,e.cashAccount]},e.cashAccount+" - "+e.investor[0].firstName+" "+e.investor[0].lastName)})):"")),l.a.createElement("div",{className:"form-group col-md-6",id:"investor-0"},l.a.createElement("label",null,"Cuenta de efectivo:"),l.a.createElement("input",{disabled:!0,className:"form-control",type:"text",step:"any",name:"cashAccount",value:this.state.cashAccount||void 0}))),this.state.openInvestmentOption?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form-row col-md-12 ",id:"participants"},l.a.createElement("div",{className:"form-group col-md-3"},l.a.createElement("label",null,"Inversion:"),l.a.createElement("input",{className:"form-control",type:"number",step:"any",name:"investmentAmount",max:this.state.investorCashAvailable,value:this.state.investmentAmount||null,onChange:function(t){return e.handleInvestment(t)}})),l.a.createElement("div",{className:"form-group col-md-3"},l.a.createElement("label",null,"Disponible:"),l.a.createElement("input",{disabled:!0,className:"form-control",type:"text",step:"any",name:"availableCash",value:this.state.investorCashAvailable})),l.a.createElement("div",{className:"form-group col-md-3"},l.a.createElement("label",null,"Restante:"),l.a.createElement("input",{disabled:!0,className:"form-control",type:"text",step:"any",name:"availableCash",value:this.state.investorCashRemaining})),l.a.createElement("div",{className:"form-group col-md-3"},l.a.createElement("label",null,"Porcentage:"),l.a.createElement("input",{disabled:!0,className:"form-control",type:"text",step:"any",name:"pct",value:this.state.pct}))),l.a.createElement("div",{className:"add_inv col-md-12 form-group align-bottom"},l.a.createElement("button",{type:"button",className:"btn btn-success align-bottom",onClick:function(){return e.handleNewInvestor()}},"Agregar Inversionista"))):"",this.state.investors.length>=1?l.a.createElement("div",{className:"card-body table-holder"},l.a.createElement("table",{className:"table investors"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Inversionista"),l.a.createElement("th",{scope:"col"},"Efectivo"),l.a.createElement("th",{scope:"col"},"Monto"),l.a.createElement("th",{scope:"col"},"Porcentaje"),l.a.createElement("th",{scope:"col"},"Acci\xf3n"))),l.a.createElement("tbody",null,this.state.investors.length>0?this.state.investors.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.investorFullName),l.a.createElement("td",null,t.cashAccount),l.a.createElement("td",null,t.amount),l.a.createElement("td",null,t.pct),l.a.createElement("td",null,l.a.createElement("button",{type:"button",className:"btn btn-warning",onClick:function(t){return e.deleteInvestor(t)}},"X")))})):l.a.createElement("tr",null,l.a.createElement("td",null,"Agregue Inversionista"))))):""))),l.a.createElement("div",{className:"form-row general-loan-details"},l.a.createElement("div",{className:"card col-md-12"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"btn btn-info",id:"submit_button"},"Crear"),this.state.error?l.a.createElement("div",{className:"error"},this.state.message):""))))))}}]),t}(n.Component),yn=Object(E.a)(Nn),On=function(e){var t=e.cashAccounts;return l.a.createElement("div",{className:"sectionHolder"},l.a.createElement("h2",{className:"titleFin"},"Disponibilidad de efectivo"),l.a.createElement("div",{className:"cashAccountsHolder"},t?t.map((function(e,t){return l.a.createElement("div",{className:"cashHolder",key:t},l.a.createElement("p",{className:"accountTotal"},e.total.toLocaleString(void 0,{minimunFractionDigits:2,maximumFractionDigits:2})),l.a.createElement("p",{className:"accountName"},l.a.createElement(C.a,{to:"/admin/cash-account/".concat(e.cashAccount,"/").concat(e.total)},e.cashAccount)))})):""))},Cn=function(e){var t=e.cashflow;return l.a.createElement("div",{className:"sectionHolder"},l.a.createElement("h2",{className:"titleFin"},"Flujo de efectivo - 12 meses"),l.a.createElement("div",{className:"cashflowHolder"},t?t.map((function(e,a){var n=Object.keys(e);return l.a.createElement("div",{className:"countryCashflow",key:a},l.a.createElement("div",{className:"countryTitle"},l.a.createElement(Tt,{country:n[0]}),"  "+t[a][n][0].currency),l.a.createElement("div",{className:"cashHolder"},l.a.createElement("p",{className:"accountTotal"},"Fecha"),l.a.createElement("p",{className:"accountTotal"},"Interes"),l.a.createElement("p",{className:"accountTotal"},"Capital"),l.a.createElement("p",{className:"accountTotal"},"Total")),t[a][n].map((function(e,t){return l.a.createElement("div",{className:"cashHolder",key:t},l.a.createElement("p",{className:"accountTotal"},Me()("".concat(e.year,"/").concat(e.month,"/01")).format("MMM-YY")),l.a.createElement("p",{className:"accountTotal"},te()(e.interest).format({average:!0,mantissa:2})),l.a.createElement("p",{className:"accountTotal"},te()(e.principal).format({average:!0,mantissa:2})),l.a.createElement("p",{className:"accountTotal"},te()(e.principal+e.interest).format({average:!0,mantissa:2})))})))})):""))},Sn=function(e){var t=e.stats;return console.log(t),l.a.createElement("div",{className:"sectionHolder"},l.a.createElement("h2",{className:"titleFin"},"Cartera"),l.a.createElement("div",{className:"countryStatHolder"},t?t.map((function(e,t){return l.a.createElement("div",{className:"countryStats",key:t},l.a.createElement("div",{className:"countryTitle"},l.a.createElement(Tt,{country:e.country})),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Capital Inicial:"),l.a.createElement("p",{className:"accountTotal"},te()(e.totalInitialCapital).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Amortizado:"),l.a.createElement("p",{className:"accountTotal"},te()(e.totalAmortized).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Por amortizar:"),l.a.createElement("p",{className:"accountTotal"},te()(e.totalAllocated).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Prestamos:"),l.a.createElement("p",{className:"accountTotal"},e.totalLoan)),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Max Capital:"),l.a.createElement("p",{className:"accountTotal"},te()(e.maxLoanCapital).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Min Capital:"),l.a.createElement("p",{className:"accountTotal"},te()(e.minLoanCapital).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Avg Capital:"),l.a.createElement("p",{className:"accountTotal"},te()(e.avgLoanCapital).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Max Tasa:"),l.a.createElement("p",{className:"accountTotal"},te()(e.maxLoanIntRate).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Min Tasa:"),l.a.createElement("p",{className:"accountTotal"},te()(e.minLoanIntRate).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Max Plazo:"),l.a.createElement("p",{className:"accountTotal"},te()(e.maxLoanDuration).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Min Plazo:"),l.a.createElement("p",{className:"accountTotal"},te()(e.minLoanDuration).format({average:!0,mantissa:2}))),l.a.createElement("div",{className:"statHolder"},l.a.createElement("p",{className:"accountTotalTitle"},"Avg Plazo:"),l.a.createElement("p",{className:"accountTotal"},te()(e.avgLoanDuration).format({average:!0,mantissa:2}))))})):""))},Dn=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={getSummary:!0},a.FinancialService=new ut,a.fetchSummary=Object(G.a)(B.a.mark((function e(){var t,n,l,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.state.getSummary){e.next=12;break}return t=a.props.userLocation,e.next=4,a.FinancialService.getCashAccountTotals(t);case 4:return n=e.sent,e.next=7,a.FinancialService.getCashflow(t);case 7:return l=e.sent,e.next=10,a.FinancialService.getStats(t);case 10:r=e.sent,Promise.all([n,l,r]).then((function(e){a.setState({getSummary:!1,cashAccounts:e[0],cashflow:e[1],stats:e[2]})})).catch((function(e){a.setState({data:!1})}));case 12:case"end":return e.stop()}}),e)}))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.fetchSummary()}},{key:"render",value:function(){var e=this.state,t=e.cashAccounts,a=e.cashflow,n=e.stats;return l.a.createElement("div",{className:"content"},l.a.createElement(On,{cashAccounts:t}),l.a.createElement(Sn,{stats:n}),l.a.createElement(Cn,{cashflow:a}))}}]),t}(n.Component),In=a(249),Pn=a.n(In);function xn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function wn(){var e=Object(n.useState)([]),t=Object($.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),i=Object($.a)(c,2),s=i[0],o=i[1],m=Object(n.useState)(),u=Object($.a)(m,2),d=u[0],p=u[1],E=Object(n.useState)({account:"",startDate:"",endDate:"",periodicity:""}),v=Object($.a)(E,2),f=v[0],h=v[1],g=new Ee,b=new fa,N=function(e,t){var a=e.target,n=a.name,l=a.value;h(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xn(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},f,Object(y.a)({},n,l)))},O=function(){var e=Object(G.a)(B.a.mark((function e(t){var a,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),Pn.a.values(f).every(Pn.a.isEmpty)){e.next=12;break}return d&&p(!1),e.next=6,g.getPandL(f);case 6:return a=e.sent,n=[Object.keys(a[0])],a.forEach((function(e){n.push(Object.values(e))})),e.abrupt("return",r(n.slice(0,12)));case 12:p(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(G.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.getHoldingAccounts();case 3:return t=e.sent,e.abrupt("return",o(t));case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),l.a.createElement("div",{style:{display:"flex",width:"100%",padding:"30px"}},l.a.createElement(Re.a,{container:!0,spacing:4},l.a.createElement(Re.a,{item:!0,lg:12,md:12,xl:12,xs:12},l.a.createElement(ga.a,null,l.a.createElement("form",{autoComplete:"off",noValidate:!0,onSubmit:O},l.a.createElement(ba.a,{title:"Estado de Ganancia y Perdida",subheader:"Reporte"}),l.a.createElement(Yt.a,null),l.a.createElement(Na.a,null,l.a.createElement(Re.a,{container:!0,spacing:3},l.a.createElement(Re.a,{item:!0,md:4,xs:12},l.a.createElement(Le.a,{fullWidth:!0,label:"Cuenta",margin:"dense",name:"account",onChange:function(e){return N(e)},required:!0,select:!0,value:f.account,variant:"outlined",InputLabelProps:{shrink:!0}},s.map((function(e,t){return l.a.createElement(Fe.a,{key:t,style:{boxSizing:"border-box",height:"35px",padding:"0px 0px 0px 10px"},value:e._id},ht.location[e.location])})))),l.a.createElement(Re.a,{item:!0,md:2,xs:6},l.a.createElement(Le.a,{fullWidth:!0,label:"Desde",margin:"dense",name:"startDate",type:"date",onChange:function(e){return N(e)},required:!0,value:f.startDate,variant:"outlined",InputLabelProps:{shrink:!0}})),l.a.createElement(Re.a,{item:!0,md:2,xs:6},l.a.createElement(Le.a,{fullWidth:!0,label:"Hasta",margin:"dense",name:"endDate",type:"date",onChange:function(e){return N(e)},required:!0,value:f.endDate,variant:"outlined",InputLabelProps:{shrink:!0}})),l.a.createElement(Re.a,{item:!0,md:2,xs:12},l.a.createElement(Le.a,{fullWidth:!0,label:"Periodicidad",margin:"dense",name:"periodicity",required:!0,select:!0,onChange:function(e){return N(e)},value:f.periodicity,variant:"outlined",InputLabelProps:{shrink:!0}},ht.periodicityData.map((function(e,t){return l.a.createElement(Fe.a,{key:t,style:{boxSizing:"border-box",height:"35px",padding:"0px 0px 0px 10px"},value:e.value},e.label)})))),l.a.createElement(Re.a,{style:{display:"flex"},item:!0,md:2,xs:12},l.a.createElement(T.a,{fullWidth:!0,style:{margin:"auto",height:"42px",marginTop:"6px"},color:"primary",variant:"contained",type:"submit"},"Reporte")))),d?l.a.createElement("div",{class:"alert alert-danger alert-dismissible",style:{margin:"10px 15px"}},l.a.createElement("button",{href:"#",class:"close","data-dismiss":"alert","aria-label":"close"},"\xd7"),l.a.createElement("strong",null,"Fallo!")," Debe de completar todos los campos"):"",l.a.createElement(Yt.a,null),l.a.createElement(Na.a,{style:{display:"flex"}},a?a.map((function(e,t){return 0===t?l.a.createElement("div",{key:t,style:{width:"300px",wordWrap:"break-all"}},e.map((function(e,t){return ht.totalConcepts.includes(e)?l.a.createElement("div",{key:t,style:{fontWeight:"bold",borderBottom:"1px solid black",margin:"5px 0px 5px 0px"}},e):l.a.createElement("div",{key:t},e)}))):l.a.createElement("div",{key:t,style:{width:"170px"}},e.map((function(e,t){var n=a[0][t];return t>0&&ht.totalConcepts.includes(n)?l.a.createElement("div",{key:t,style:{fontWeight:"bold",borderBottom:"1px solid black",margin:"5px 0px 5px 0px",textAlign:"right"}},parseFloat(e).toFixed(2)):t>0?l.a.createElement("div",{key:t,style:{textAlign:"right"}},parseFloat(e).toFixed(2)):l.a.createElement("div",{key:t,style:{fontWeight:"bold",borderBottom:"1px solid black",margin:"5px 0px 5px 0px",textAlign:"right"}},Me()(e).format("YYYY-MM-DD"))})))})):""))))))}function Tn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function jn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Tn(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Tn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var An=[{title:"Nombre",field:"name",render:function(e){return l.a.createElement(C.a,{to:"/admin/client/".concat(e._borrower)}," ",e.name)}},{title:"Estatus",field:"status",lookup:{OPEN:"ABIERTO",CLOSED:"CERRADO"}},{title:"Monto",field:"capital",customFilterAndSearch:function(e,t){return e<t.capital},render:function(e){return l.a.createElement(C.a,{to:"/admin/loan/".concat(e._id)}," ",te()(e.capital).format({thousandSeparated:!0,mantissa:2}))}},{title:"Inicio",field:"startDate",render:function(e){return Me()(e.startDate).format("YYYY/MM/DD")}},{title:"Duraci\xf3n",field:"duration",customFilterAndSearch:function(e,t){return e<t.duration}},{title:"Tasa",field:"interest",customFilterAndSearch:function(e,t){return e<t.interest}},{title:"Tipo",field:"loanType"},{title:"Periodo",field:"period"},{title:"Restructurado",field:"isRestructured"},{title:"Prima",field:"insurancePremium"},{title:"Uso",field:"useOfFunds"},{title:"Registro",field:"created_at",render:function(e){return Me()(e.created_at).format("YYYY/MM/DD")}},{title:"Pagado",field:"totalPaid",render:function(e){return te()(e.totalPaid).format({thousandSeparated:!0,mantissa:2})}},{title:"Por Pagar",field:"capitalRemaining",render:function(e){return te()(e.capitalRemaining).format({thousandSeparated:!0,mantissa:2})}},{title:"Moneda",field:"currency"},{title:"TIR",field:"IRR"},{title:"PdR",field:"paybackPeriod"},{title:"Ingreso",field:"interestEarned",render:function(e){return te()(e.interestEarned).format({thousandSeparated:!0,mantissa:2})}},{title:"Repagado",field:"paidback"},{title:"Pais",field:"country"},{title:"Valor Colateral",field:"collateralValue",render:function(e){return te()(e.collateralValue).format({thousandSeparated:!0,mantissa:2})}},{title:"Tipo de Colateral",field:"collateralType"},{title:"Descricion de Colateral",field:"collateralDescription"}];function Rn(e){var t=e.model;return l.a.createElement(Q.a,{columns:An,data:t,title:"HISTORICO DE PRESTAMOS",options:{columnsButton:!0,exportButton:!0,actionsColumnIndex:-1,filtering:!0,exportCsv:function(e,t){var a=e.filter((function(e){return!e.hidden&&e.field&&!1!==e.export})),n=t.map((function(e){return a.map((function(t){return e[t.field]}))}));return new X.CsvBuilder("pagos recibidos.csv").setDelimeter(",").setColumns(a.map((function(e){return e.title}))).addRows(n).exportFile()},pageSize:10,exportFileName:"untitled.csv"},toolbar:!0})}var Ln=function(){var e=new we,t=Object(n.useState)({columns:An,data:[]}),a=Object($.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){(function(){var t=Object(G.a)(B.a.mark((function t(){var a,n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getLoanDetails();case 3:return a=t.sent,n=jn({},r,{data:a}),t.abrupt("return",c(n));case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]),l.a.createElement("div",{style:{width:"1200px",padding:"20px"}},l.a.createElement(Rn,{model:r.data}))},kn=a(329),Fn=a(309),_n=a(305),Mn=a(325),Un=a(310),Yn=Object(R.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(_n.a);var Bn=Object(R.a)((function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}}))((function(e){var t=e.classes,a=e.data;function n(e){var t=Me()(new Date),a=Me()(e);return Me.a.duration(t.diff(a)).asDays()}return l.a.createElement("div",null,l.a.createElement(xt.a,{className:t.root},l.a.createElement(kn.a,{className:t.table},l.a.createElement(Mn.a,null,l.a.createElement(Un.a,null,l.a.createElement(Yn,{align:"right"},"Pago"),l.a.createElement(Yn,null,"Prestatario"),l.a.createElement(Yn,{align:"left"},"Fecha de Pago"),l.a.createElement(Yn,{align:"right"},"Balance"),l.a.createElement(Yn,{align:"right"},"Capital"),l.a.createElement(Yn,{align:"right"},"Intereses"),l.a.createElement(Yn,{align:"right"},"Mora"),l.a.createElement(Yn,{align:"right"},"Total Cuota"))),l.a.createElement(Fn.a,null,a.filter((function(e){return"DISBURSTMENT"!==e.tracking})).map((function(e,a){return l.a.createElement(Un.a,{className:t.row,key:a},l.a.createElement(Yn,{component:"th",scope:"row"},parseInt(e.interest_pmt)>0?l.a.createElement("i",{className:"material-icons"}," done_outline"):l.a.createElement("i",{className:"material-icons"},"priority_high")),l.a.createElement(Yn,{align:"left"},l.a.createElement(C.a,{to:"/admin/loan/".concat(e._loan)},e.borrower[0].firstName+" "+e.borrower[0].lastName)),l.a.createElement(Yn,{align:"right"},Me()(e.date).format("YYYY-MM-DD")),l.a.createElement(Yn,{align:"right"},parseInt(e.balance).toFixed(2)),l.a.createElement(Yn,{align:"right"},e.principal.toFixed(2)),l.a.createElement(Yn,{align:"right"},e.interest.toFixed(2)),l.a.createElement(Yn,{align:"right"},(r=e.date,c=e.interest_pmt,n(r)>0&&!c?function(e,t){return.01*n(e)*t}(e.date,e.principal).toFixed(2):"")," "),l.a.createElement(Yn,{align:"right"},parseInt(e.payment).toFixed(2)));var r,c}))))),l.a.createElement(xt.a,{className:t.root},l.a.createElement(kn.a,{className:t.table},l.a.createElement(Mn.a,null,l.a.createElement(Un.a,null,l.a.createElement(Yn,{align:"right"},"Aprobados"),l.a.createElement(Yn,null,"Prestatario"),l.a.createElement(Yn,{align:"left"},"Fecha"),l.a.createElement(Yn,{align:"right"},"Monto"),l.a.createElement(Yn,{align:"right"},"Capital"),l.a.createElement(Yn,{align:"right"},"Intereses"),l.a.createElement(Yn,{align:"right"},"Total Cuota"))),l.a.createElement(Fn.a,null,a.filter((function(e){return"DISBURSTMENT"===e.status})).map((function(e,a){return l.a.createElement(Un.a,{className:t.row,key:a},l.a.createElement(Yn,{component:"th",scope:"row"},l.a.createElement("i",{className:"material-icons"}," done_outline")),l.a.createElement(Yn,{align:"left"},l.a.createElement(C.a,{to:"/admin/loan/".concat(e._loan)},e.borrower[0].firstName+" "+e.borrower[0].lastName)),l.a.createElement(Yn,{align:"right"},Me()(e.date).format("YYYY-MM-DD")),l.a.createElement(Yn,{align:"right"},parseInt(e.balance).toFixed(2)),l.a.createElement(Yn,{align:"right"},e.principal.toFixed(2)),l.a.createElement(Yn,{align:"right"},e.interest.toFixed(2)),l.a.createElement(Yn,{align:"right"},parseInt(e.payment).toFixed(2)))}))))))})),Gn=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={loans:[],getLoan:!0},a.service=new we,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"fetchLoans",value:function(){var e=this;this.state.getLoan&&this.service.getWeekSchedule().then((function(t){"peru"===e.props.location.toLowerCase()&&(t=t.filter((function(e){return"peru"===e._loan._borrower.country.toLowerCase()}))),e.setState({getLoan:!1,loans:t})})).catch((function(t){e.setState({loans:!1})}))}},{key:"render",value:function(){return this.fetchLoans(),l.a.createElement("div",{className:"content"},l.a.createElement(Bn,{data:this.state.loans}))}}]),t}(n.Component),Wn=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={loans:[],getLoan:!0,startDate:Me()().startOf("month").toISOString().substring(0,10),endDate:Me()().endOf("month").toISOString().substring(0,10),country:"Todos",countries:["Todos","Venezuela","Peru","Dominican_Republic"]},a.service=new we,a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(y.a)({},n,l))},a.componentDidMount=function(){a.fetchLoans()},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"fetchLoans",value:function(e){var t=this;e&&e.preventDefault(e);var a=this.state,n=a.startDate,l=a.endDate,r=this.props.userLocation;this.service.getPeriodSchedule(n,l,r).then((function(e){t.setState({getLoan:!1,loans:e})})).catch((function(e){t.setState({loans:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.country,n=t.loans.filter((function(e){return"Todos"!==a?e.borrower[0].country.includes(a.toUpperCase()):e}));return l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"form-row input-row-aligner"},l.a.createElement("div",{className:"form-group col-md-2"},l.a.createElement("label",null,"Fecha Inicial"),l.a.createElement("input",{type:"date",className:"form-control",id:"startDate",name:"startDate",value:this.state.startDate,onChange:function(t){return e.handleChange(t)},required:!0})),l.a.createElement("div",{className:"form-group col-md-2"},l.a.createElement("label",null,"Fecha Final"),l.a.createElement("input",{type:"date",className:"form-control",id:"endDate",name:"endDate",value:this.state.endDate,onChange:function(t){return e.handleChange(t)},required:!0})),l.a.createElement("div",{className:"form-group col-md-1 "},l.a.createElement("button",{className:"btn btn-info",type:"button",onClick:function(t){return e.fetchLoans(t)}},"Buscar")),"GLOBAL"===this.props.userLocation?l.a.createElement("div",{className:"form-group col-md-2 "},l.a.createElement("label",null,"Pa\xeds"),l.a.createElement("select",{className:"form-control",name:"country",id:"country",value:this.state.country,onChange:function(t){return e.handleChange(t)}},this.state.countries?this.state.countries.map((function(e,t){return l.a.createElement("option",{key:t,value:e},e)})):"")):""),l.a.createElement(Bn,{data:n}))}}]),t}(n.Component);var qn=function(e){var t=e.loanDetails,a=e.investmentEqCapital;return l.a.createElement("div",{className:"form-row general-loan-details"},l.a.createElement("div",{className:"card col-md-12"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},"Detalles del prestamo"),l.a.createElement("div",{className:"form-row col-md-12"},l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Esquema:"),l.a.createElement("select",{id:"loan_type",className:"form-control",name:"loanType",value:t.loanType,onChange:function(t){return e.handleLoanDetailsChange(t)},required:!0},l.a.createElement("option",{value:"linear"},"Pagos Iguales"),l.a.createElement("option",{value:"linearIntFirst"},"Interest + Pagos Iguales"),l.a.createElement("option",{value:"monday"},"Dia de pago lunes"),l.a.createElement("option",{value:"payDay"},"Dia de pago"),l.a.createElement("option",{value:"lumpSum"},"Final PMTs + Interest + No Amort"),l.a.createElement("option",{value:"factoring"},"Factoring"),l.a.createElement("option",{value:"amort"},"Amortizado"),l.a.createElement("option",{value:"amort2"},"Amortizado (Customizado)"))),"factoring"===t.loanType?l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"D\xedas"),l.a.createElement("input",{type:"number",className:"form-control",id:"days",name:"days",value:t.days,onChange:function(t){return e.handleLoanDetailsChange(t)},required:!0})):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form-group col-md-3 col-sm-3"},l.a.createElement("label",null,"Frequencia:"),l.a.createElement("select",{id:"loan_type",className:"form-control",name:"period",value:t.period,onChange:function(t){return e.handleLoanDetailsChange(t)},required:!0},l.a.createElement("option",{defaultValue:"monthly"},"Mensual"),l.a.createElement("option",{value:"biWeekly"},"Bisemanal"),l.a.createElement("option",{value:"payDay"},"Quincenal"),l.a.createElement("option",{value:"weekly"},"Semanal"))),l.a.createElement("div",{className:"form-group col-md-3 col-sm-3"},l.a.createElement("label",null,"Periodos de solo interes :"),l.a.createElement("input",{type:"number",className:"form-control",id:"startAmortPeriod",name:"startAmortPeriod",value:t.startAmortPeriod,onChange:function(t){return e.handleLoanDetailsChange(t)},disabled:"amort2"!==t.loanType})))),l.a.createElement("div",{className:"form-row col-md-12"},l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Fecha de Inicio"),l.a.createElement("input",{type:"date",className:"form-control",id:"startDate",name:"startDate",value:t.startDate,onChange:function(t){return e.handleLoanDetailsChange(t)},required:!0})),l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Fecha de Pago"),l.a.createElement("input",{type:"date",className:"form-control",id:"paymentDate",name:"paymentDate",min:t.startDate?t.startDate:null,value:t.paymentDate,onChange:function(t){return e.handleLoanDetailsChange(t)},required:!0}))),l.a.createElement("div",{className:"form-row col-md-12"},l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Principal:"),l.a.createElement("input",{className:"form-control",type:"number",step:"any",id:"capital",name:"capital",value:t.capital,onChange:function(t){return e.handleLoanDetailsChange(t)},required:!0})),l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Desembolso:"),l.a.createElement("input",{className:"form-control",type:"number",disabled:!!a,step:"any",id:"investedCapital",name:"investedCapital",value:t.investedCapital,onChange:function(t){return e.handleLoanDetailsChange(t)},required:!0})),l.a.createElement("div",{class:"form-group col-md-12"},l.a.createElement("div",{class:"form-check"},l.a.createElement("input",{class:"form-check-input",type:"checkbox",id:"gridCheck",onChange:function(t){return e.toggleInvestmentEqCapital(t)},checked:a}),l.a.createElement("label",{class:"form-check-label",for:"gridCheck"},"Capital igual a desembolso")))),l.a.createElement("div",{className:"form-row col-md-12 col-sm-6"},"factoring"!==t.loanType?l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Cuotas:"),l.a.createElement("input",{className:"form-control",type:"number",step:"any",id:"duration",name:"duration",value:t.duration,onChange:function(t){return e.handleLoanDetailsChange(t)},required:!0})):"",l.a.createElement("div",{className:"form-group col-md-6 col-sm-6"},l.a.createElement("label",null,"Tasa de Interes (M):"),l.a.createElement("input",{className:"form-control",type:"number",step:"any",id:"interest",name:"interest",value:t.interest,onChange:function(t){return e.handleLoanDetailsChange(t)},required:!0}))),l.a.createElement("div",{className:"form-row col-md-12"},l.a.createElement("div",{className:"calc-button col-md-6 "},l.a.createElement("button",{type:"button",className:"btn btn-info",onClick:function(t){return e.calcLoanSchedule(t)}},"Visualizar cronograma"))))))};var Vn=function(e){var t=e.loanSchedule;return l.a.createElement("div",{className:"loan-schedule-holder",style:{margin:"0 auto"}},l.a.createElement("div",{className:"loan-schedule-head "},l.a.createElement("div",{className:"detail-schedule head-date"},l.a.createElement("p",{className:"title"},"FECHA")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"INTERES")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"CAPITAL")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"CUOTA")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"STATUS"))),t.map((function(e,t){return l.a.createElement("div",{key:t,className:"loan-schedule-content"},l.a.createElement("div",{className:"detail-schedule details-date"},l.a.createElement("p",{className:"acc-total"},Me()(e.date).format("YY-MM-DD"))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.interest.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.principal.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},(parseFloat(e.interest)+parseFloat(e.principal)).toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.status)))})))};function zn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Hn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?zn(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $n=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleLoanDetailsChange=function(e){var t=e.target,n=t.name,l=t.value,r=t.type;a.state.investmentEqCapital&&"capital"===n?a.setState((function(e){var t;return Hn({},e,{loanDetails:Hn({},e.loanDetails,(t={},Object(y.a)(t,n,"number"===r?parseFloat(l):l),Object(y.a)(t,"investedCapital","number"===r?parseFloat(l):l),t)),open:!1,openPaymentDate:!1})})):a.setState((function(e){return Hn({},e,{loanDetails:Hn({},e.loanDetails,Object(y.a)({},n,"number"===r?parseFloat(l):l)),open:!1,openPaymentDate:!1})}))},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value,r=t.type;"insurancePremium"===n?a.setState(Object(y.a)({},n,parseFloat(l))):a.setState(Object(y.a)({},n,"number"===r?parseFloat(l):l))},a.toggleInvestmentEqCapital=function(){a.setState({investmentEqCapital:!a.state.investmentEqCapital,loanDetails:Hn({},a.state.loanDetails,{investedCapital:a.state.loanDetails.capital})})},a.calcLoanSchedule=function(){var e=a.state.loanDetails,t=dn(1,e);a.setState({loanSchedule:t,open:!0})},a.state=ht.loanInitialState,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loanDetails,a=e.open,n=e.loanSchedule,r=e.investmentEqCapital;return l.a.createElement("div",{className:"content"},l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement(qn,{loanDetails:t,handleLoanDetailsChange:this.handleLoanDetailsChange,openPaymentDate:this.state.openPaymentDate,open:a,handleClose:this.handleClose,loanSchedule:n,investmentEqCapital:r,toggleInvestmentEqCapital:this.toggleInvestmentEqCapital,calcLoanSchedule:this.calcLoanSchedule}),a?l.a.createElement(Vn,{loanSchedule:n}):""))}}]),t}(n.Component);a(235);var Xn=function(e){var t=e.investors;return l.a.createElement("div",{className:"loan-investor-holder"},l.a.createElement("div",{className:"investor-head "},l.a.createElement("div",{className:"detail-summary-left"},l.a.createElement("p",{className:"title-main"},"INVERSIONISTA")),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"MONTO")),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"%")),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"FEE")),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"INGRESOS")),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"title"},"UTILIDAD"))),t.map((function(e,t){return l.a.createElement("div",{key:t,className:"investor"},l.a.createElement("div",{className:"detail-summary-left acc-inv-main"},e._investor.firstName.toUpperCase()+" "+e._investor.lastName.toUpperCase()),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-inv"},e.amount.toLocaleString())),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-inv"},te()(e.pct).format({output:"percent",mantissa:2}))),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-inv"})),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-inv"})),l.a.createElement("div",{className:"detail-summary"},l.a.createElement("p",{className:"acc-inv"})))})))};a(236);var Zn=function(){return l.a.createElement("div",{className:"loan-schedule-head "},l.a.createElement("div",{className:"detail-schedule head-date"},l.a.createElement("p",{className:"title-date"},"FECHA")),l.a.createElement("div",{className:"detail-schedule head-content-status"},l.a.createElement("p",{className:"title"},"ESTATUS")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"INT")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"CAP")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"CUOTA")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"INT/P")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"CAP/P")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"TOTAL")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"CUENTA")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"OPCIONES")))},Kn=a(770),Jn=a(760),Qn=a(761),el=a(343),tl=a(250),al=a.n(tl),nl=a(362),ll=a.n(nl),rl=a(92),cl=a.n(rl);var il=function(e){var t=l.a.useState(!1),a=Object($.a)(t,2),n=a[0],r=a[1],c=e.scheduleDetails,i=c.loanSchedule,s=c.openPaymentOption,o=c.reversePayment,m=c.deletePayments;return i.map((function(e,t){return"RESTRUCTURED"!==e.status?l.a.createElement(Kn.a,{expanded:n==="panel".concat(t),className:"expansion",onChange:0!==t?(a="panel".concat(t),function(e,t){r(!!t&&a)}):null},l.a.createElement(Jn.a,{expandIcon:0!==t?l.a.createElement(cl.a,null):null,"aria-controls":"panel1bh-content",id:"panel1bh-header",className:"expansion"},l.a.createElement("div",{key:t,className:"loan-schedule-content"},l.a.createElement("div",{className:"detail-schedule details-date"},l.a.createElement("p",{className:"acc-date"},Me()(e.date).format("YY-MM-DD"))),l.a.createElement("div",{className:"detail-schedule details-content-status"},l.a.createElement("p",{className:"acc-total-status"},function(e){var t;switch(e){case"DISBURSTMENT":t="INICIO";break;case"PAID":t="PAGO";break;case"DUE":t="PAGADERO";break;case"OVERDUE":t="ATRASADO";break;case"PENDING":t="PENDIENTE";break;case"OUTSTANDING":t="INCOMPLETO";break;case"UNPAID_OVERDUE":t="NP ATRASADO";break;case"UNPAID_DUE":t="NP PAGADERO";break;case"CLOSED":t="CERRADO";break;default:t=null}return t}(e.status))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.interest.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.principal.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},(e.interest+e.principal).toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.interest_pmt?e.interest_pmt.toLocaleString(void 0,{maximumFractionDigits:2}):"")),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.principal_pmt?e.principal_pmt.toLocaleString(void 0,{maximumFractionDigits:2}):"")),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.principal_pmt||e.interest_pmt?((e.principal_pmt?e.principal_pmt:0)+(e.interest_pmt?e.interest_pmt:0)).toLocaleString(void 0,{maximumFractionDigits:2}):"")),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.cashAccount?e.cashAccount:"")),l.a.createElement("div",{className:"detail-schedule last details-content"},0!==t?function(){switch(e.status){case"PAID":case"CLOSED":return l.a.createElement("p",{className:"itmt-options"},l.a.createElement("i",{className:"material-icons",onClick:function(){return m(e._id)}},"delete_box"));case"DUE":case"OUTSTANDING":case"OVERDUE":case"PENDING":return e.principal_pmt>0?l.a.createElement("p",{className:"itmt-options"},l.a.createElement("i",{className:"material-icons",onClick:function(){return m(e._id)}},"delete_box"),l.a.createElement("i",{className:"material-icons",onClick:function(){return s(e)}},"add_box")):e.principal_pmt?"":l.a.createElement("p",{className:"itmt-options"},l.a.createElement("i",{className:"material-icons",onClick:function(){return s(e)}},"add_box"));case"DISBURSTMENT":default:return null}}():""))),l.a.createElement(Qn.a,null,l.a.createElement("div",{className:"payment-summary"},l.a.createElement("p",null,"Resumen de pagos "),l.a.createElement("div",{className:"payment-holder"},e.payments.length>0?e.payments.map((function(t,a){return a===e.payments.length-1?l.a.createElement(el.a,{variant:"outlined",icon:l.a.createElement(al.a,null),label:"".concat(Me()(t.date_pmt).format("YY-MM-DD")," - ").concat(t.cashAccount," - ").concat(t.amount),onDelete:function(){return o(t._id)},className:"chip"}):l.a.createElement(el.a,{variant:"outlined",icon:l.a.createElement(al.a,null),label:"".concat(Me()(t.date_pmt).format("YY-MM-DD")," - ").concat(t.cashAccount," - ").concat(t.amount),deleteIcon:l.a.createElement(ll.a,null),className:"chip"})})):""),l.a.createElement("div",null,l.a.createElement(T.a,{className:"full-pmt-btn",variant:"contained",onClick:function(){return s(e,!0)}}," Pago Total"))))):"";var a}))};var sl=function(e){var t={loanSchedule:e.loanSchedule,openPaymentOption:e.openPaymentOption,reversePayment:e.reversePayment,deletePayments:e.deletePayments,capitalRemaining:e.capitalRemaining};return l.a.createElement("div",{className:"loan-schedule-detail-holder"},l.a.createElement(Zn,null),l.a.createElement(il,{scheduleDetails:t}))},ol=a(705),ml=function(e){var t=e.onChangeRestructuring,a=e.loanRestructure,n=e.restructuringDetails;return l.a.createElement(xt.a,{style:{padding:30,width:600,display:"flex",flexWrap:"wrap"}},l.a.createElement(Re.a,{item:!0,xs:!0},l.a.createElement(ge.a,{gutterBottom:!0,variant:"h6"},"REESTRUCTURACI\xd3N DE PRESTAMO")),l.a.createElement(Yt.a,null),l.a.createElement(Le.a,{id:"standard-full-width",label:"TASA DE INTERES",style:{margin:8},helperText:"% mensual",onChange:function(e){return t(e)},type:"number",name:"interest",value:n.interest,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),l.a.createElement(Le.a,{id:"standard-full-width",label:"CUOTAS",type:"number",name:"duration",onChange:function(e){return t(e)},style:{margin:8},helperText:"numero total de cuotas a pagar",value:n.duration,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),l.a.createElement(Le.a,{id:"standard-full-width",label:"CUOTAS DE SOLO INTERES",name:"startAmortPeriod",onChange:function(e){return t(e)},style:{margin:8},value:n.startAmortPeriod,helperText:"cuotas de solo intereses antes de pagar capital",fullWidth:!0,type:"number",margin:"normal",InputLabelProps:{shrink:!0}}),l.a.createElement(P.a,{style:{width:"100%",marginTop:15,marginLeft:8,marginRight:8}},l.a.createElement(x.a,{shrink:!0,id:"demo-simple-select-placeholder-label-label"},"TIPO DE REESTRUCTURACI\xd3N"),l.a.createElement(Gt.a,{name:"restructuringType",value:n.restructuringType,type:"string",labelId:"demo-simple-select-label",id:"demo-simple-select",fullWidth:!0,onChange:function(e){return t(e)}},l.a.createElement(Fe.a,{value:"capital"},"Capital"),l.a.createElement(Fe.a,{value:"capitalAndDueInterest"},"Capital e Intereses Adeudados"),l.a.createElement(Fe.a,{value:"capitalAndPendingInterest"},"Capital, intereses adeudados y pendientes")),l.a.createElement(ol.a,null,"indicar\xe1 el monto a reestructurar")),l.a.createElement(P.a,{style:{width:"100%",marginTop:15,marginLeft:8,marginRight:8}},l.a.createElement(x.a,{shrink:!0,id:"demo-simple-select-placeholder-label-label"},"FRECUENCIA"),l.a.createElement(Gt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",fullWidth:!0,value:n.period,name:"period",onChange:function(e){return t(e)}},l.a.createElement(Fe.a,{value:"weekly"},"Semanal"),l.a.createElement(Fe.a,{value:"biWeekly"},"Cada 2 semanas"),l.a.createElement(Fe.a,{value:"payDay"},"Dia de pago (Quincenas)"),l.a.createElement(Fe.a,{value:"monthly"},"Mensual")),l.a.createElement(ol.a,null,"frequencia con la que se realizaran los pagos")),l.a.createElement(P.a,{style:{width:"100%",marginTop:15,marginLeft:8,marginRight:8}},l.a.createElement(x.a,{shrink:!0,id:"demo-simple-select-placeholder-label-label"},"TIPO DE AMORTIZACI\xd3N"),l.a.createElement(Gt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",fullWidth:!0,onChange:function(e){return t(e)},value:n.loanType,name:"loanType"},l.a.createElement(Fe.a,{value:"amort2"},"Amortizaci\xf3n")),l.a.createElement(ol.a,null,"esquema de repago")),l.a.createElement(Le.a,{id:"standard-full-width",type:"date",label:"FECHA DE INICIO",style:{margin:8,marginTop:15},helperText:"fecha desde la cual se empezar\xe1n a calcular los primeros intereses",fullWidth:!0,onChange:function(e){return t(e)},value:n.startDate,margin:"normal",name:"startDate",InputLabelProps:{shrink:!0}}),l.a.createElement(Le.a,{id:"standard-full-width",type:"date",label:"FECHA DE PAGO",style:{margin:8,marginTop:15},helperText:"fecha en la que se realizara el primer pago",fullWidth:!0,onChange:function(e){return t(e)},value:n.paymentDate,margin:"normal",name:"paymentDate",InputLabelProps:{shrink:!0}}),l.a.createElement("div",{className:"loan-delete"},l.a.createElement(T.a,{color:"primary",variant:"contained",onClick:function(){return a()}},"reestructurar")))};a(682);var ul=function(e){var t=e.transactions;return l.a.createElement("div",{className:"transactions-holder"},l.a.createElement("div",{className:"loan-schedule-head "},l.a.createElement("div",{className:"detail-schedule head-date"},l.a.createElement("p",{className:"title-date"},"FECHA")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title-date"},"INVERSIONISTA")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title-date"},"CONCEPTO")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title"},"DEBITO")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"CREDITO"))),t.map((function(e,t){return l.a.createElement("div",{key:t,className:"loan-schedule-content"},l.a.createElement("div",{className:"detail-schedule details-date"},l.a.createElement("p",{className:"acc-date"},Me()(e.date).format("YY-MM-DD"))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-date"},e._investor?e._investor.firstName+" "+e._investor.lastName:"AAAAAAAAAA")),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-date"},e.concept)),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.debit.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},e.credit.toLocaleString(void 0,{maximumFractionDigits:2}))))})))};a(683);var dl=function(e){var t=e.details,a=e.interestIncome,n=e.interestProjected;return l.a.createElement("div",{className:"one-loan-details-summary"},l.a.createElement("div",{className:"loan-detail-summary loan-detail-left"},l.a.createElement("p",{className:"title name"},l.a.createElement(C.a,{className:"link",to:"/admin/client/".concat(t._borrower._id)},t._borrower.firstName.toUpperCase()+" "+t._borrower.lastName.toUpperCase())),l.a.createElement("p",{className:"total"},"$",parseFloat(t.capital).toLocaleString(void 0,{maximumFractionDigits:2})+" "+t.currency)),l.a.createElement("div",{className:"loan-detail-summary loan-detail-content"},l.a.createElement("div",null,l.a.createElement("p",{className:"title"},"INT & TME"),l.a.createElement("p",{className:"total"},parseFloat(t.interest),"% | ",parseFloat(t.IRR)?parseFloat(t.IRR):"","% "))),l.a.createElement("div",{className:"loan-detail-summary loan-detail-content"},l.a.createElement("div",null,l.a.createElement("p",{className:"title"},"POR AMORTIZAR"),l.a.createElement("p",{className:"total"},"$",(t.capitalRemaining>1?t.capitalRemaining:0).toLocaleString(void 0,{maximumFractionDigits:2})))),l.a.createElement("div",{className:"loan-detail-summary loan-detail-content"},l.a.createElement("div",null,l.a.createElement("p",{className:"title"},"INGRESO"),l.a.createElement("p",{className:"total"},"$",a.toLocaleString(void 0,{maximumFractionDigits:2})))),l.a.createElement("div",{className:"loan-detail-summary last-top loan-detail-content"},l.a.createElement("div",null,l.a.createElement("p",{className:"title"},"RESTRUCTURADO"),l.a.createElement("p",{className:"total"},t.isRestructured?"Si":"No"))),l.a.createElement("div",{className:"loan-detail-summary loan-detail-left"},l.a.createElement("p",{className:"title"},"INICIO"),l.a.createElement("p",{className:"total"},l.a.createElement("span",{className:"total"},Me()(t.startDate).format("LL")))),l.a.createElement("div",{className:"loan-detail-summary loan-detail-content"},l.a.createElement("div",null,l.a.createElement("p",{className:"title"},"PLAZO & PR"),l.a.createElement("p",{className:"total"},t.duration," m | ",t.PaybackPeriod?t.PaybackPeriod.toLocaleString(void 0,{maximumFractionDigits:2}):""," m"))),l.a.createElement("div",{className:"loan-detail-summary loan-detail-content"},l.a.createElement("div",null,l.a.createElement("p",{className:"title"},"AMORTIZADO"),l.a.createElement("p",{className:"total"},"$",isNaN(t.totalPaid)?0:parseFloat(t.totalPaid).toLocaleString(void 0,{maximumFractionDigits:2})))),l.a.createElement("div",{className:"loan-detail-summary last loan-detail-content"},l.a.createElement("div",null,l.a.createElement("p",{className:"title"},"INTERES PROJECTADO"),l.a.createElement("p",{className:"total"},"$",n.toLocaleString(void 0,{maximumFractionDigits:2})))))},pl=(a(336),function(e){var t=e.salesmen,a=e.newPct,n=e.newSalesman,r=e.handleNewCommission,c=e.saveNewCommission;return l.a.createElement("div",{className:"modal-fee"},l.a.createElement("h1",{className:"modal-title"},"AGREGAR NUEVA COMISI\xd3N"),l.a.createElement(P.a,{className:"fee-input-form"},l.a.createElement("div",null,l.a.createElement(Le.a,{select:!0,label:"Vendedor",className:"management",name:"newSalesman",value:n,onChange:function(e){return r(e)}},t.length>0?t.map((function(e,t){return l.a.createElement(Fe.a,{value:e._id,key:t},e.firstName+" "+e.lastName+" - "+e.location)})):"")),l.a.createElement("div",null,l.a.createElement(Le.a,{className:"fee",label:"Porcentaje",value:a||null,onChange:function(e){return r(e)},name:"newPct",type:"number",InputProps:{startAdornment:l.a.createElement(ke.a,{position:"start"},"%")}})),l.a.createElement(T.a,{disabled:!a||!n,variant:"contained",color:"primary",className:"button-save",onClick:function(){return c()}},"Agregar")))}),El=function(e){var t=ja(),a=t.isShowing,n=t.toggle,r=e.commissions,c=e.salesmen,i=e.handleNewCommission,s=e.newPct,o=e.newSalesman,m=e.saveNewCommission,u=e.deleteCommission;return l.a.createElement("div",{className:"account-options"},l.a.createElement("div",{className:"option-holder"},l.a.createElement(P.a,{component:"fieldset"},l.a.createElement(wa.a,{component:"legend"},"Comissiones"),r?r.map((function(e,t){return console.log("aqi"),l.a.createElement("div",{key:t,className:"fee-scheme line"},l.a.createElement("div",{className:"mg-accounts"},e._salesman.firstName+" "+e._salesman.lastName),l.a.createElement("div",{className:"mg-fee"},100*e.pct+"%"),l.a.createElement("div",{className:"mg-icon",onClick:function(){return u(e._id)}},l.a.createElement("i",{className:"material-icons"},"delete")))})):"",l.a.createElement(ia.a,{className:"line",size:"small",color:"primary","aria-label":"add"},l.a.createElement(oa.a,{onClick:n})))),l.a.createElement(Xt.a,{open:a,onClose:n,style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement(pl,{salesmen:c,handleNewCommission:i,newPct:s,newSalesman:o,saveNewCommission:m})))};var vl=function(e){var t=this;return l.a.createElement("div",{className:"transactions-holder"},l.a.createElement("div",{className:"loan-schedule-head "},l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title-date"},"DOCUMENTO")),l.a.createElement("div",{className:"detail-schedule center head-content"},l.a.createElement("p",{className:"title-date"},"LINK")),l.a.createElement("div",{className:"detail-schedule last head-content"},l.a.createElement("p",{className:"title"},"SUBIR"))),l.a.createElement("div",{className:"loan-schedule-content"},l.a.createElement("div",{className:"detail-schedule center details-content"},l.a.createElement("p",{className:"acc-date"},"PRESTAMO DE DINERO")),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"})),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},l.a.createElement("input",{type:"file",name:"documentID",className:"",placeholder:"documentID",onChange:function(e){return t.handleChange(e)}})))),l.a.createElement("div",{className:"loan-schedule-content"},l.a.createElement("div",{className:"detail-schedule center details-content"},l.a.createElement("p",{className:"acc-date"},"CONTRATO DE COMPRA-VENTA")),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-date"})),l.a.createElement("div",{className:"detail-schedule details-content"},l.a.createElement("p",{className:"acc-total"},l.a.createElement("input",{type:"file",name:"documentID",className:"",placeholder:"documentID",onChange:function(e){return t.handleChange(e)}})))))},fl=(a(684),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(y.a)({},n,l))},a.handleChangePayment=function(e){var t=e.target,n=t.name,l=t.value;"amount"===n&&(l=parseFloat(l)),a.setState(Object(y.a)({},n,l))},a.componentDidMount=function(){var e=a.props,t=e.installment,n=e.loan,l=e.fullPayment;a.setState({date_pmt:(new Date).toISOString().substring(0,10),amount:l?n.capitalRemaining:Math.round(100*t.balanceDue)/100,_loan:t._loan,_loanSchedule:t._id,cashAccount:void 0})},a.state={date_pmt:(new Date).toISOString().substring(0,10),currentDate:new Date(Me()().format("YYYY-MM-DD")).toISOString().substring(0,10),amount:void 0,_loan:void 0,_loanSchedule:void 0,cashAccount:void 0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.receivePayment,n=t.closePaymentOption,r=t.fullPayment,c=t.loan;return l.a.createElement("div",{className:"loan-schedule-holder"},l.a.createElement("div",{className:"loan-payment-holder"},l.a.createElement("div",{className:"payment-date"},l.a.createElement("label",{className:"acc-title"},"FECHA"),l.a.createElement("input",{type:"date",name:"date_pmt",className:"form-control",value:new Date(this.state.date_pmt).toISOString().substring(0,10),max:new Date(this.state.currentDate).toISOString().substring(0,10),onChange:this.handleChange})),l.a.createElement("div",{className:"detail-schedule acc-fees"},l.a.createElement("label",{className:"acc-title"},"MONTO"),l.a.createElement("input",{label:"Monto",name:"amount",min:r?c.capitalRemaining:0,className:"form-control input-sm",value:this.state.amount?this.state.amount:void 0,onChange:this.handleChangePayment,type:"number"})),l.a.createElement("div",{className:"detail-schedule acc-fees"},l.a.createElement("label",{className:"acc-title"},"CUENTA"),l.a.createElement("select",{className:"form-control input-sm",name:"cashAccount",id:"cashAccount",value:this.state.cashAccount,onChange:function(t){return e.handleChange(t)}},l.a.createElement("option",null),ht.accounts.map((function(e,t){return l.a.createElement("option",{key:t,value:e},e)})))),l.a.createElement("div",{className:"detail-schedule"},l.a.createElement("label",{className:"acc-title"},"*"),l.a.createElement("div",{className:"payment-operations"},l.a.createElement("div",{className:"acc-total"},l.a.createElement("i",{className:"material-icons",onClick:function(){return a(e.state)}},"add_box")),l.a.createElement("div",{className:"acc-total"},l.a.createElement("i",{className:"material-icons",onClick:function(){return n()}},"remove_circle"))))))}}]),t}(n.Component)),hl=g()(),gl=function e(){var t=this;Object(i.a)(this,e),this.getComments=function(){return t.service.get("/").then((function(e){return e.data}))},this.getLoanComments=function(e){return t.service.get("/".concat(e)).then((function(e){return e.data}))},this.getComment=function(e){return t.service.get("/".concat(e)).then((function(e){return e.data}))},this.newComment=function(e){return t.service.post("/",e).then((function(e){return e.data}))},this.updateComment=function(e,a){return t.service.patch("/".concat(e),a).then((function(e){return e.data}))},this.deleteComment=function(e){return t.service.delete("/".concat(e)).then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat(hl.REACT_APP_API_URL,"/api/comment"),withCredentials:!0})},bl=[{title:"Personal",field:"_author"},{title:"Fecha Estimada",field:"estimateDate",render:function(e){return Me()(e.estimateDate).format("YYYY/MM/DD")}},{title:"Comentario",field:"comment"}],Nl=function(e){return function(t,a){var n=t.filter((function(e){return!e.hidden&&e.field&&!1!==e.export})),l=a.map((function(e){return n.map((function(t){return e[t.field]}))}));return new X.CsvBuilder("".concat(e,".csv")).setDelimeter(",").setColumns(n.map((function(e){return e.title}))).addRows(l).exportFile()}};var yl=function(e){var t=e.model,a=e.toggleComment,n=Nl("comments");return l.a.createElement(Q.a,{columns:bl,data:t,actions:[{icon:"add",tooltip:"Add User",isFreeAction:!0,onClick:function(e){return a()}}],title:"Comentarios",options:{columnsButton:!0,exportButton:!0,exportCsv:n,pageSize:10,exportFileName:"comments.csv"},toolbar:!0})};function Ol(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Cl=Object(de.a)((function(e){return{root:{flexGrow:1,maxWidth:550,padding:20,paddingTop:0,width:"100%",minHeight:300},actions:{margin:0,display:"flex",justifyContent:"space-between",paddingTop:e.spacing(1)}}})),Sl=Object(R.a)((function(e){return{root:{padding:e.spacing(2),paddingTop:e.spacing(0)}}}))(Te.a),Dl=Object(R.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(je.a),Il=function(e){var t=e.toggle,a=(e.submitTitle,Object(oe.a)(e,["toggle","submitTitle"]),Cl()),n=l.a.useState({comment:"",estimateDate:Me()()}),r=Object($.a)(n,2),c=r[0],i=r[1],s=function(e){return function(t){i(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ol(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ol(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},c,Object(y.a)({},e,t.target.value)))}};return l.a.createElement("div",{className:a.root},l.a.createElement(Sl,{dividers:!0},l.a.createElement(Re.a,{className:a.content,container:!0,spacing:3},l.a.createElement(Re.a,{item:!0,xs:12,md:4},l.a.createElement(P.a,{fullWidth:!0},l.a.createElement(Le.a,{id:"date",required:!0,label:"Fecha estimada de pago",type:"date",name:"estimateDate",onChange:s("estimateDate"),value:new Date(c.estimateDate).toISOString().substring(0,10),InputLabelProps:{shrink:!0}}))),l.a.createElement(Re.a,{item:!0,xs:12,md:4},l.a.createElement(P.a,{fullWidth:!0},l.a.createElement(x.a,{htmlFor:"standard-adornment-amount"},"Monto"),l.a.createElement(w.a,{required:!0,id:"standard-adornment-amount",value:c.amount,onChange:s("amount"),startAdornment:l.a.createElement(ke.a,{position:"start"},c.currency)}))),l.a.createElement(Re.a,{item:!0,xs:12,md:12},l.a.createElement(P.a,{fullWidth:!0},l.a.createElement(Le.a,{id:"standard-multiline-static",label:"Comentario",multiline:!0,rows:"2",value:c.comment,onChange:s("comment"),InputLabelProps:{shrink:!0}}))))),l.a.createElement(Dl,null,l.a.createElement(Re.a,{className:a.actions,item:!0,xs:12,md:12},l.a.createElement(T.a,{onClick:t},"Cancelar"),l.a.createElement(T.a,{variant:"contained",color:"primary"}))))};function Pl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pl(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pl(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var wl=function(e){var t=new gl,a=Object(n.useState)({data:[]}),r=Object($.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(),o=Object($.a)(s,2),m=o[0],u=o[1];Object(n.useEffect)((function(){(function(){var a=Object(G.a)(B.a.mark((function a(){var n,l;return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.getLoanComments(e.loanId);case 3:return n=a.sent,l=xl({},c,{data:n}),a.abrupt("return",i(l));case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}})()()}),[]);var d=function(){u(!m)};return l.a.createElement("div",{style:{padding:"20px"}},m&&l.a.createElement(Ie,{toggle:d,open:m,title:"Inserte comentario"},l.a.createElement(Il,{submitTitle:"insertar",toggle:d})),l.a.createElement(yl,{model:c.data,toggleComment:d}))},Tl=a(363),jl=a.n(Tl),Al=a(762),Rl=g()(),Ll=function e(){var t=this;Object(i.a)(this,e),this.addCollateral=function(e){return t.service.post("/",e).then((function(e){return e.data}))},this.getCollaterals=function(e){return t.service.get("/".concat(e)).then((function(e){return e.data}))},this.getInvAccounts=function(){return t.service.get("/get-accounts").then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat(Rl.REACT_APP_API_URL,"/api/collateral"),withCredentials:!0})},kl=(a(337),a(86)),Fl=a.n(kl);function _l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ml(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_l(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_l(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ul=function(e){var t=Object(n.useState)(Fl.a.initialCollateralState),a=Object($.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(!0),s=Object($.a)(i,2),o=s[0],m=s[1],u=function(e){var t=e.target,a=t.name,n=t.value;console.log(n,Fl.a.vehicleCollateralTypes.indexOf(n)),c(Ml({},r,"status"===a||"date"===a?{currentStatus:Ml({},r.currentStatus,Object(y.a)({},a,n))}:Object(y.a)({},a,n))),-1!==Fl.a.vehicleCollateralTypes.indexOf(r.type)?m(!1):m(!0)};return l.a.createElement(xt.a,{className:"modal-col"},l.a.createElement("div",null,l.a.createElement("h2",{className:"modal-title"},"Datos b\xe1sicos del colateral:"),Fl.a.basicCollateral.map((function(e){return l.a.createElement(Le.a,{id:"standard-".concat(e.name),select:!!e.select,label:e.label,name:e.name,type:e.type,InputLabelProps:{shrink:!0},className:(e.type,"textField"),value:"status"===e.name||"date"===e.name?r.currentStatus[e.name]:r[e.name],onChange:function(e){return u(e)},margin:"normal"},e.select&&"type"===e.name?Fl.a.collateralTypes.map((function(e){return l.a.createElement(Fe.a,{key:e.value,value:e.value},e.label)})):null,e.select&&"status"===e.name?Fl.a.currentStatus.map((function(e){return l.a.createElement(Fe.a,{key:e.value,value:e.value},e.label)})):null)})),l.a.createElement("h2",{className:"modal-title"},"Detalles del Colateral"),Fl.a.vehicleConstants.map((function(e){return l.a.createElement(Le.a,{id:"standard-".concat(e.name),select:!!e.select,disabled:o,label:e.label,name:e.name,type:e.type,InputLabelProps:{shrink:!0},className:(e.type,"textField"),value:"status"===e.name||"date"===e.name?r.currentStatus[e.name]:r[e.name],onChange:function(e){return u(e)},margin:"normal"},e.select&&"type"===e.name?Fl.a.collateralTypes.map((function(e){return l.a.createElement(Fe.a,{key:e.value,value:e.value},e.label)})):null,e.select&&"status"===e.name?Fl.a.currentStatus.map((function(e){return l.a.createElement(Fe.a,{key:e.value,value:e.value},e.label)})):null)})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"optionHolder"},l.a.createElement(T.a,{variant:"contained",color:"primary",onClick:function(){return e.addCollateral(r)}},"Agregar"))))},Yl=a(243);function Bl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Gl=function(e){var t=ja(),a=t.isShowing,r=t.toggle,c=Object(n.useState)(!1),i=Object($.a)(c,2),s=i[0],o=i[1],m=e.loanId,u=Object(n.useState)([]),d=Object($.a)(u,2),p=d[0],E=d[1],v=new Ll;Object(n.useEffect)((function(){v.getCollaterals(m).then((function(e){console.log(e),e&&E(e)}))}),[v,m]);return l.a.createElement("div",{className:"colateralHolder"},l.a.createElement(Kn.a,{expanded:!1},l.a.createElement(Jn.a,{"aria-controls":"panel1c-content",id:"panel1c-header"},l.a.createElement("div",{className:"collateralHeader"},l.a.createElement("div",{className:"collateralType"},"Tipo"),l.a.createElement("div",{className:"collateralValue"},"Valor"),l.a.createElement("div",{className:"collateralDateNumb"},"Fecha de Registro"),l.a.createElement("div",{className:"collateralStatus"},"Ultimo Estatus"),l.a.createElement("div",{className:"collateralDateNumb"},"LTV"),l.a.createElement("div",{className:"collateralDateNumb"},"LOTV")))),p!==[]?p.map((function(e,t){return l.a.createElement(Kn.a,{expanded:s==="panel".concat(t),className:"expansion",onChange:(a="panel".concat(t),function(e,t){o(!!t&&a)})},l.a.createElement(Jn.a,{expandIcon:l.a.createElement(cl.a,null),"aria-controls":"panel1c-content",id:"panel1c-header"},l.a.createElement("div",{className:"collateralContent"},l.a.createElement("div",{className:"collateralType"},e.type),l.a.createElement("div",{className:"collateralValue"},te()(e.value).formatCurrency({mantissa:2})),l.a.createElement("div",{className:"collateralDateNumb"},Object(Yl.default)(new Date(e.registerDate),"yyyy-MM-dd")),l.a.createElement("div",{className:"collateralStatus"},e.currentStatus[e.currentStatus.length-1].status),l.a.createElement("div",{className:"collateralDateNumb"},te()(e.loanPrincipalToValue).format({output:"percent",mantissa:2})),l.a.createElement("div",{className:"collateralDateNumb"},te()(e.loanOutstandingToValue?e.loanOutstandingToValue:null).format({output:"percent",mantissa:2})))),l.a.createElement(Qn.a,null,l.a.createElement("div",null,l.a.createElement("h4",null,"Detalles"),e.condition,"-",e.model,"-",e.serialNumber,"-",e.dateOfManufacture)));var a})):null,l.a.createElement(Kn.a,{expanded:!1},l.a.createElement(Jn.a,{"aria-controls":"panel1c-content",id:"panel1c-header",onClick:r},"Agregar nuevo colateral",l.a.createElement(oa.a,null))),l.a.createElement(Xt.a,{open:a,onClose:r,style:{padding:"30px 30px",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement(Ul,{addCollateral:function(e){v.addCollateral(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Bl(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bl(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{_loan:m})).then((function(e){E([].concat(Object(Pt.a)(p),[e.response]))})).then((function(){r()}))}})))};function Wl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ql(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Wl(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Wl(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Vl=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=Object(G.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.loader();case 1:case"end":return e.stop()}}),e)}))),a.handleChange=function(e,t){a.setState({value:t})},a.loader=Object(G.a)(B.a.mark((function e(){var t,n,l,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.loanId,e.next=3,a.loanService.getLoanCompleteDetails(t);case 3:return n=e.sent,e.next=6,a.loanService.getLoanCommissions(t);case 6:return l=e.sent,e.next=9,a.loanService.getSalesmen();case 9:r=e.sent,a.setState({loan:n,commissions:l.data,salesmen:r.data}),a.detailsCalc();case 12:case"end":return e.stop()}}),e)}))),a.detailsCalc=function(){var e=a.state.loan.details.loanSchedule,t=e.reduce((function(e,t){return"RESTRUCTURED"!==t.status?e+(t.interest_pmt?t.interest_pmt:0):e}),0),n=e.reduce((function(e,t){return"RESTRUCTURED"!==t.status?e+(t.interest?t.interest:0):e}),0);a.setState({interestIncome:t,interestProjected:n})},a.handleNewCommission=function(e){var t=e.target,n=t.name,l=t.value;console.log(n,l),"newPct"===n?(console.log(l),l>100?a.setState({newPct:100}):l<0?a.setState({newPct:0}):a.setState({newPct:l})):a.setState(Object(y.a)({},n,l))},a.saveNewCommission=function(){var e=a.props.loanId,t=a.state,n=t.newPct,l=t.newSalesman,r={_loan:e,_salesmen:l,pct:n/=100};return a.loanService.addCommission(r).then(function(){var t=Object(G.a)(B.a.mark((function t(n){var l;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("success"!==n.status){t.next=7;break}return t.next=3,a.loanService.getLoanCommissions(e);case 3:l=t.sent,a.setState({commissions:l.data}),t.next=7;break;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},a.deleteCommission=function(e){var t=a.props.loanId;a.loanService.deleteCommission(e).then(function(){var e=Object(G.a)(B.a.mark((function e(n){var l;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("success"!==n.status){e.next=7;break}return e.next=3,a.loanService.getLoanCommissions(t);case 3:l=e.sent,a.setState({commissions:l.data}),e.next=7;break;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},a.compare=function(e,t){return e.date<t.date?-1:e.date>t.date?1:0},a.reversePayment=function(e){a.PaymentService.deletePayment(e).then((function(e){a.loader()})).catch((function(e){a.setState({error:e})}))},a.deletePayments=function(e){a.loanService.deletePayments(e).then((function(e){a.loader()})).catch((function(e){a.setState({error:e})}))},a.openPaymentOption=function(e,t){a.setState({openPayment:!0,installment:e,fullPayment:t})},a.loanRestructure=function(){var e=a.state,t=e.restructuringDetails,n=e.loan,l=n.details,r=a.props.loanId;a.loanService.restructure(r,t).then((function(e){a.setState({open:!1,status:"success",loan:ql({},n,{details:ql({},l,{loanSchedule:e.loanSchedule.sort(a.compare)})})})})).catch((function(e){a.setState({status:"failure"})}))},a.closePaymentOption=function(){a.setState({openPayment:!1,installment:null,fullPayment:!1})},a.onChangeRestructuring=function(e){var t=e.target,n=t.name,l=t.value,r=t.type,c=a.state.restructuringDetails;a.setState({restructuringDetails:ql({},c,Object(y.a)({},n,"number"===r?parseFloat(l):l))})},a.paymentReceiver=function(e){a.state.fullPayment?a.PaymentService.newFullPayment(e).then((function(e){a.loader(),a.setState({openPayment:!1})})).catch((function(e){a.setState({error:e})})):a.PaymentService.newPayment(e).then((function(e){a.loader(),a.setState({openPayment:!1})})).catch((function(e){a.setState({error:e})}))},a.loanRemove=function(e){a.loanService.deleteLoan(e).then((function(){a.props.history.push("/admin/client/".concat(a.state.loan.details._borrower._id))})).catch((function(e){a.setState({error:e})}))},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.state={loan:{details:{},investors:{}},interestIncome:0,interestProjected:0,openPayment:!1,installment:null,value:0,restructuringDetails:{}},a.loanService=new we,a.PaymentService=new K,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.interestIncome,n=t.interestProjected,r=t.installment,c=t.value,i=t.commissions,s=t.salesmen,o=t.newPct,m=t.newSalesman,u=t.fullPayment,d=this.props.classes,p=this.state.loan,E=p.details,v=p.investors,f=p.transactions,h=this.state,g=h.open,b=h.restructuringDetails,N=h.status;return this.state.loan.details._borrower?l.a.createElement("div",{style:{width:1200,marginTop:10,marginLeft:20}},"success"===N?l.a.createElement("div",{class:"alert alert-success alert-dismissible"},l.a.createElement("button",{href:"#",class:"close","data-dismiss":"alert","aria-label":"close"},"\xd7"),l.a.createElement("strong",null,"Exito!")," La solicitud se ha procesado correctamente."):"failure"===N?l.a.createElement("div",{class:"alert alert-danger alert-dismissible"},l.a.createElement("button",{href:"#",class:"close","data-dismiss":"alert","aria-label":"close"},"\xd7"),l.a.createElement("strong",null,"Fallo!")," La solicitud no se ha procesado correctamente"):"",l.a.createElement(dl,{details:E,interestIncome:a,interestProjected:n}),l.a.createElement("div",{style:{width:1200,marginTop:10}},l.a.createElement("div",{className:d.root},l.a.createElement(fe.a,{value:c,orientation:"vertical",onChange:this.handleChange,classes:{root:d.tabsRoot,indicator:d.tabsIndicator}},l.a.createElement(he.a,{disableRipple:!0,classes:{root:d.tabRoot,selected:d.tabSelected},label:"CRONOGRAMA"}),l.a.createElement(he.a,{disableRipple:!0,classes:{root:d.tabRoot,selected:d.tabSelected},label:"INVERSIONISTAS"}),l.a.createElement(he.a,{disableRipple:!0,classes:{root:d.tabRoot,selected:d.tabSelected},label:"COMENTARIOS"}),l.a.createElement(he.a,{disableRipple:!0,classes:{root:d.tabRoot,selected:d.tabSelected},label:"MOVIMIENTOS"}),l.a.createElement(he.a,{disableRipple:!0,classes:{root:d.tabRoot,selected:d.tabSelected},label:"COMISIONES"}),l.a.createElement(he.a,{disableRipple:!0,classes:{root:d.tabRoot,selected:d.tabSelected},label:"COLATERAL"}),l.a.createElement(he.a,{disableRipple:!0,classes:{root:d.tabRoot,selected:d.tabSelected},label:"DOCUMENTOS"})),l.a.createElement("div",{style:{marginLeft:20,marginTop:-20}},0===c&&l.a.createElement("div",null,this.state.openPayment&&l.a.createElement(fl,{installment:r,loan:E,receivePayment:this.paymentReceiver,closePaymentOption:this.closePaymentOption,fullPayment:u}),l.a.createElement(sl,{loanSchedule:E.loanSchedule.sort(this.compare),openPaymentOption:this.openPaymentOption,reversePayment:this.reversePayment,deletePayments:this.deletePayments,capitalRemaining:E.capitalRemaining}),l.a.createElement("div",{className:"loan-delete"},l.a.createElement(Re.a,{item:!0,xs:12,md:6},l.a.createElement(Re.a,{style:{marginLeft:100},container:!0,spacing:1,direction:"column",alignItems:"center"},l.a.createElement(Re.a,{item:!0},l.a.createElement(Al.a,{variant:"contained",color:"primary","aria-label":"full-width contained primary button group"},l.a.createElement(T.a,{onClick:function(){return e.handleClickOpen()}},"REESTRUCTURAR"),l.a.createElement(T.a,{onClick:function(){return e.loanRemove(E._id)}},"ELIMINAR PRESTAMO",l.a.createElement(jl.a,null)))))),l.a.createElement(Ne.a,{onClose:function(){return e.handleClose()},open:g},l.a.createElement(ml,{onChangeRestructuring:this.onChangeRestructuring,loanRestructure:this.loanRestructure,restructuringDetails:b})))),1===c&&l.a.createElement(Xn,{investors:v}),2===c&&l.a.createElement(wl,{loanId:E._id}),3===c&&l.a.createElement(ul,{transactions:f}),4===c&&l.a.createElement(El,{commissions:i,salesmen:s,newPct:o,newSalesman:m,handleNewCommission:this.handleNewCommission,saveNewCommission:this.saveNewCommission,deleteCommission:this.deleteCommission}),5===c&&l.a.createElement(Gl,{loanId:E._id}),6===c&&l.a.createElement(vl,null))))):""}}]),t}(n.Component),zl=Object(E.a)(Object(R.a)((function(e){return{root:{flexGrow:1,display:"flex"},tabsIndicator:{backgroundColor:"#1890ff"},tabRoot:{textTransform:"initial",minWidth:72,fontWeight:500,marginRight:4*e.spacing.unit,"&:hover":{color:"#40a9ff",opacity:1,outline:"none"},"&$tabSelected":{color:"#1890ff",fontWeight:600,outline:"none"},"&:focus":{color:"#40a9ff",outline:"none"}},tabSelected:{}}}))(Vl)),Hl=(a(685),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={duePayments:[],pastPayments:[],totalPaid:0,toBePaid:0,amount:0},a.componentDidMount=function(){a.currentInstallments(),a.pastPayment(),a.totalPaid()},a.totalPaid=Object(G.a)(B.a.mark((function e(){var t,n,l,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.user.loans,n=[],e.next=4,t.filter((function(e){return e.loanSchedule.some((function(e){return Me()(e.date).month()===Me()(new Date).month()}))})).map((function(e){return Object.assign({},e).loanSchedule.filter((function(e){return Me()(e.date).month()===Me()(new Date).month()}))})).forEach((function(e){return e.forEach((function(e){return n.push(e)}))}));case 4:l=n.reduce((function(e,t){return e+((t.interest_pmt?t.interest_pmt:0)+(t.principal_pmt?t.principal_pmt:0))}),0),r=n.reduce((function(e,t){return e+((t.interest?t.interest:0)+(t.principal?t.principal:0))}),0),a.setState({toBePaid:l,totalPaid:r});case 7:case"end":return e.stop()}}),e)}))),a.currentInstallments=function(){var e=a.props.user.loans,t=[];e.filter((function(e){return e.loanSchedule.some((function(e){return Me()(e.date).month()===Me()(new Date).month()}))})).map((function(e){return Object.assign({},e).loanSchedule.filter((function(e){return Me()(e.date).month()===Me()(new Date).month()}))})).forEach((function(e){return e.forEach((function(e){return t.push(e)}))})),a.setState({duePayments:t})},a.pastPayment=function(){var e=a.props.user.loans,t=e.length,n=[];e.filter((function(e){return e.loanSchedule.some((function(e){return Me()(e.date).month()===Me()(new Date).subtract(1,"month").month()}))})).map((function(e){return Object.assign({},e).loanSchedule.filter((function(e){return Me()(e.date).month()===Me()(new Date).subtract(1,"month").month()}))})).forEach((function(e){return e.forEach((function(e){return n.push(e)}))})),a.setState({pastPayments:n,amount:t})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.duePayments,a=e.pastPayments,n=e.totalPaid,r=e.toBePaid,c=e.amount;return l.a.createElement("div",{className:"testing"},l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Res\xfamen de cuenta"))),l.a.createElement("div",{className:"account-cards"},l.a.createElement("div",{className:"summary-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Total por pagar"),l.a.createElement("p",{variant:"heading",className:"heading-content"},n.toLocaleString(void 0,{maximumFractionDigits:2}))),l.a.createElement("div",{className:"summary-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"# de prestamos"),l.a.createElement("p",{variant:"heading",className:"heading-content"},c)),l.a.createElement("div",{className:"summary-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Pagado"),l.a.createElement("p",{variant:"heading",className:"heading-content"},r.toLocaleString(void 0,{maximumFractionDigits:2})))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Cronograma de pagos - ",Me()().format("MMMM")))),l.a.createElement("div",{className:"table-container"},l.a.createElement("ul",{className:"responsive-table"},l.a.createElement("li",{className:"table-header"},l.a.createElement("div",{className:"table-col table-col-1"},"ID"),l.a.createElement("div",{className:"table-col table-col-2"},"PR\xd3X RECIBO"),l.a.createElement("div",{className:"table-col table-col-3"},"PR\xd3X IMPORTE"),l.a.createElement("div",{className:"table-col table-col-4"},"VENCIMIENTO"),l.a.createElement("div",{className:"table-col table-col-5"},"ESTATUS")),t.map((function(e){return l.a.createElement("li",{className:"table-row"},l.a.createElement("div",{className:"table-col table-col-1","data-label":"Prestamo"},e._loan.substr(e._loan.length-7).toUpperCase()),l.a.createElement("div",{className:"table-col table-col-2","data-label":"Pr\xf3ximo Recibo"},Me()(e.date).format("DD/MM/YY")),l.a.createElement("div",{className:"table-col table-col-3","data-label":"Proximo Importe"},"$",e.payment.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-4","data-label":"Vencimiento"},Me()(e.date).format("DD/MM/YY")),l.a.createElement("div",{className:"table-col table-col-4","data-label":"Estatus"},e.principal_pmt&&e.principal_pmt>=e.principal?"PAGO":"PENDIENTE"))})))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Transacciones Recientes"))),l.a.createElement("div",{className:"table-container"},l.a.createElement("ul",{className:"responsive-table"},l.a.createElement("li",{className:"table-header"},l.a.createElement("div",{className:"table-col table-col-1"},"ID"),l.a.createElement("div",{className:"table-col table-col-2"},"RECIBO"),l.a.createElement("div",{className:"table-col table-col-3"},"IMPORTE"),l.a.createElement("div",{className:"table-col table-col-4"},"METODO"),l.a.createElement("div",{className:"table-col table-col-5"},"ESTATUS")),a.map((function(e){return l.a.createElement("li",{className:"table-row"},l.a.createElement("div",{className:"table-col table-col-1","data-label":"Prestamo"},e._loan.substr(e._loan.length-7).toUpperCase()),l.a.createElement("div",{className:"table-col table-col-2","data-label":"Recibo"},Me()(e.date).format("DD/MM/YY")),l.a.createElement("div",{className:"table-col table-col-3","data-label":"Importe"},"$",(e.principal_pmt+e.interest_pmt).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-4","data-label":"METODO"},"TRANSFERENCIA"),l.a.createElement("div",{className:"table-col table-col-4","data-label":"Estatus"},e.principal_pmt&&e.principal_pmt.toFixed(2)>=e.principal.toFixed(2)?"PAGO":"PENDIENTE"))})))))}}]),t}(n.Component)),$l=(a(686),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={expanded:null,totalRemaining:0,totalBorrowed:0,numberOfLoans:0},a.handleChange=function(e){return function(t,n){a.setState({expanded:!!n&&e})}},a.compare=function(e,t){return e.date<t.date?-1:e.date>t.date?1:0},a.startDateCompare=function(e,t){return e.startDate<t.startDate?-1:e.startDate>t.startDate?1:0},a.componentDidMount=function(){a.totals()},a.totals=function(){var e=a.props.user.loans,t=e.reduce((function(e,t){return e+t.capitalRemaining}),0),n=e.reduce((function(e,t){return e+t.capital}),0),l=e.length;a.setState({totalRemaining:t,totalBorrowed:n,numberOfLoans:l})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.user.loans,n=this.state,r=n.expanded,c=n.totalRemaining,i=n.numberOfLoans,s=n.totalBorrowed;return l.a.createElement("div",{className:"testing"},l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"General"))),l.a.createElement("div",{className:"account-cards"},l.a.createElement("div",{className:"account-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Total por pagar"),l.a.createElement("p",{variant:"heading",className:"heading-content"},c.toLocaleString())),l.a.createElement("div",{className:"account-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"# de prestamos"),l.a.createElement("p",{variant:"heading",className:"heading-content"},i.toLocaleString())),l.a.createElement("div",{className:"account-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Pagado"),l.a.createElement("p",{variant:"heading",className:"heading-content"},(s-c).toLocaleString()))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Prestamos abiertos"))),l.a.createElement("div",{className:t.root},a.sort(this.startDateCompare).filter((function(e){return"OPEN"===e.status})).map((function(a,n){return l.a.createElement(Kn.a,{key:n,expanded:r==="panel".concat(n+1),onChange:e.handleChange("panel".concat(n+1))},l.a.createElement(Jn.a,{expandIcon:l.a.createElement(cl.a,null)},l.a.createElement(ge.a,{className:t.heading},a._id.substr(a._id.length-7).toUpperCase()),l.a.createElement(ge.a,{className:t.secondaryHeading},Me()(a.startDate).format("DD/MM/YY"))),l.a.createElement(Qn.a,{className:"table-details-container"},l.a.createElement("div",{className:"table-details"},l.a.createElement("div",{className:"loan-details-card"},l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Total"),l.a.createElement("p",{variant:"heading",className:"heading-content"},a.capital.toLocaleString())),l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Tasa"),l.a.createElement("p",{variant:"heading",className:"heading-content"},a.interest,"%")),l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Plazo"),l.a.createElement("p",{variant:"heading",className:"heading-content"},a.duration)),l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Amortizado"),l.a.createElement("p",{variant:"heading",className:"heading-content"},(a.capital-a.capitalRemaining).toLocaleString()))),l.a.createElement("div",{className:"table-container"},l.a.createElement("ul",{className:"responsive-table"},l.a.createElement("li",{className:"table-header"},l.a.createElement("div",{className:"table-col table-col-1"},"FECHA"),l.a.createElement("div",{className:"table-col table-col-2"},"CUOTA"),l.a.createElement("div",{className:"table-col table-col-3"},"INTERES"),l.a.createElement("div",{className:"table-col table-col-4"},"CAPITAL"),l.a.createElement("div",{className:"table-col table-col-5"},"P.INTERES"),l.a.createElement("div",{className:"table-col table-col-6"},"P.CAPITAL"),l.a.createElement("div",{className:"table-col table-col-7"},"P.CUOTA"),l.a.createElement("div",{className:"table-col table-col-8"})),a.loanSchedule.sort(e.compare).map((function(e,t){return l.a.createElement("li",{key:t,className:"table-row"},l.a.createElement("div",{className:"table-col table-col-1","data-label":"Fecha"},Me()(e.date).format("DD/MM/YY")),l.a.createElement("div",{className:"table-col table-col-2","data-label":"Cuota"},(e.interest+e.principal).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-3","data-label":"Interes"},e.interest.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-4","data-label":"Capital"},e.principal.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-5","data-label":"Pago Interes"},(e.interest_pmt?e.interest_pmt:0).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-6","data-label":"Pago Capital"},(e.principal_pmt?e.principal_pmt:0).toLocaleString()),l.a.createElement("div",{className:"table-col table-col-7","data-label":"Total pagado"},((e.principal_pmt?e.principal_pmt:0)+(e.interest_pmt?e.interest_pmt:0)).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-8","data-label":"Estatus"},(e.principal_pmt?e.principal_pmt:0)>=e.principal?"X":""))})))))))}))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Prestamos cerrados"))),l.a.createElement("div",{className:t.root},a.sort(this.startDateCompare).filter((function(e){return"CLOSED"===e.status})).map((function(a,n){return l.a.createElement(Kn.a,{key:n,expanded:r==="panel".concat(n+1),onChange:e.handleChange("panel".concat(n+1))},l.a.createElement(Jn.a,{expandIcon:l.a.createElement(cl.a,null)},l.a.createElement(ge.a,{className:t.heading},a._id.substr(a._id.length-7).toUpperCase()),l.a.createElement(ge.a,{className:t.secondaryHeading},Me()(a.startDate).format("DD/MM/YY"))),l.a.createElement(Qn.a,{className:"table-details-container"},l.a.createElement("div",{className:"loan-details-card"},l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Total"),l.a.createElement("p",{variant:"heading",className:"heading-content"},a.capital.toLocaleString())),l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Tasa"),l.a.createElement("p",{variant:"heading",className:"heading-content"},a.interest,"%")),l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Plazo"),l.a.createElement("p",{variant:"heading",className:"heading-content"},a.duration)),l.a.createElement("div",{className:"loan-detail-card"},l.a.createElement("p",{variant:"heading",className:"heading"},"Amortizado"),l.a.createElement("p",{variant:"heading",className:"heading-content"},(a.capital-a.capitalRemaining).toLocaleString()))),l.a.createElement("div",{className:"table-container"},l.a.createElement("ul",{className:"responsive-table"},l.a.createElement("li",{className:"table-header"},l.a.createElement("div",{className:"table-col table-col-1"},"FECHA"),l.a.createElement("div",{className:"table-col table-col-2"},"CUOTA"),l.a.createElement("div",{className:"table-col table-col-3"},"INTERES"),l.a.createElement("div",{className:"table-col table-col-4"},"CAPITAL"),l.a.createElement("div",{className:"table-col table-col-5"},"P.INTERES"),l.a.createElement("div",{className:"table-col table-col-6"},"P.CAPITAL"),l.a.createElement("div",{className:"table-col table-col-7"},"P.CUOTA"),l.a.createElement("div",{className:"table-col table-col-8"})),a.loanSchedule.sort(e.compare).map((function(e,t){return l.a.createElement("li",{key:t,className:"table-row"},l.a.createElement("div",{className:"table-col table-col-1","data-label":"Fecha"},Me()(e.date).format("DD/MM/YY")),l.a.createElement("div",{className:"table-col table-col-2","data-label":"Cuota"},(e.interest+e.principal).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-3","data-label":"Interes"},e.interest.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-4","data-label":"Capital"},e.principal.toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-5","data-label":"Pago Interes"},(e.interest_pmt?e.interest_pmt:0).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-6","data-label":"Pago Capital"},(e.principal_pmt?e.principal_pmt:0).toLocaleString()),l.a.createElement("div",{className:"table-col table-col-7","data-label":"Total pagado"},((e.principal_pmt?e.principal_pmt:0)+(e.interest_pmt?e.interest_pmt:0)).toLocaleString(void 0,{maximumFractionDigits:2})),l.a.createElement("div",{className:"table-col table-col-8","data-label":"Estatus"},(e.principal_pmt?e.principal_pmt:0)>=e.principal?"X":""))}))))))}))))}}]),t}(n.Component)),Xl=Object(R.a)((function(e){return{root:{width:"100%",marginBottom:20},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}}))($l);a(687),a(237);function Zl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Kl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Zl(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Zl(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Jl=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState({details:Kl({},a.state.details,Object(y.a)({},n,l))})},a.handleSubmit=function(){var e=a.state.details,t=e._id;a.service.updateAccount(t,e).then((function(e){"updated"===e.status?a.props.closeModal("updated"):a.props.closeModal("failed")})).catch((function(e){return a.props.closeModal("failed")}))},a.state={details:e.details},a.service=new Nt,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.details;return l.a.createElement("div",{className:"modal-holder"},l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Personal"))),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(Le.a,{label:"Nombres legales *",value:a.firstName,name:"firstName",type:"text",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}}),l.a.createElement(Le.a,{label:"Apellidos legales",name:"lastName",type:"text",value:a.lastName,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}}),l.a.createElement(Le.a,{id:"date",name:"DOB",label:"Fecha de Nacimiento",value:a.DOB,type:"date",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}}),l.a.createElement(Le.a,{name:"cellphoneNumber",label:"N\xfamero de Tel\xe9fono",value:a.cellphoneNumber,type:"text",onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(Le.a,{name:"nationalId",label:"Documento de Identidad",type:"text",value:a.nationalId,onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"}),l.a.createElement(Le.a,{name:"nationalIdType",label:"Tipo de Documento",select:!0,type:"text",value:a.nationalIdType,onChange:function(t){return e.handleChange(t)},className:t.textField,InputLabelProps:{shrink:!0},margin:"normal"},ht.nationalIdType.map((function(e){return l.a.createElement(Fe.a,{key:e.value,value:e.value},e.label)})))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Direcci\xf3n Personal"))),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(Le.a,{select:!0,name:"country",label:"Pa\xeds",type:"text",value:a.country,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}},ht.countries.map((function(e){return l.a.createElement(Fe.a,{key:e.value,value:e.value},e.label)}))),l.a.createElement(Le.a,{name:"city",label:"Ciudad",type:"text",value:a.city,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}}),l.a.createElement(Le.a,{name:"address",label:"Direcci\xf3n",type:"text",value:a.address,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}}),l.a.createElement(Le.a,{name:"zipCode",label:"C\xf3digo Postal",type:"text",value:a.zipCode,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}})),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Financiera"))),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement(Le.a,{name:"bank",label:"Banco",type:"text",value:a.bank,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}}),l.a.createElement(Le.a,{name:"accountNumber",label:"Numero de cuenta",type:"text",value:a.accountNumber,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}}),l.a.createElement(Le.a,{name:"monthlyIncome",label:"Ingresos",type:"number",value:a.monthlyIncome,className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",onChange:function(t){return e.handleChange(t)}})),l.a.createElement("div",{className:"edit-form-submit"},l.a.createElement("button",{onClick:function(){return e.handleSubmit()},className:"btn btn-info"},"Editar Detalles")))}}]),t}(n.Component),Ql=Object(R.a)((function(e){return{name:{width:440},citizenInfo:{width:300},container:{display:"flex",flexWrap:"wrap"},textField:{minWidth:225},formControl:{margin:e.spacing.unit}}}))(Jl);function er(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function tr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?er(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):er(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ar=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,n=e.target.files[0];a.setState({details:tr({},a.state.details,Object(y.a)({},t,n))})},a.handleSubmit=function(){var e=a.state.details,t=e._id,n=e.documentIncomeOrPayslip;a.service.updateDocumentIncome(t,n).then((function(e){"updated"===e.status?a.props.closeModal("updated"):a.props.closeModal("failed")})).catch((function(e){return a.props.closeModal("failed")}))},a.state={details:e.details},a.service=new Nt,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"modal-holder"},l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Certificaci\xf3n de Ingresos o N\xf3mina"))),l.a.createElement("div",{className:"form-inputs-holder"},l.a.createElement("label",{className:"btn"},l.a.createElement("input",{type:"file",name:"documentIncomeOrPayslip",className:"",placeholder:"Certificaci\xf3n de Ingresos o Nomina",onChange:function(t){return e.handleChange(t)}}))),l.a.createElement("div",{className:"edit-form-submit"},l.a.createElement("button",{onClick:function(){return e.handleSubmit()},className:"btn btn-info"},"Enviar Documento")))}}]),t}(n.Component),nr=Object(R.a)((function(e){return{name:{width:440},citizenInfo:{width:300},container:{display:"flex",flexWrap:"wrap"},textField:{minWidth:225},formControl:{margin:e.spacing.unit}}}))(ar);function lr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function rr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?lr(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var cr=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,n=e.target.files[0];a.setState({details:rr({},a.state.details,Object(y.a)({},t,n))})},a.handleSubmit=function(){var e=a.state.details,t=e._id,n=e.documentID;a.service.updateDocumentID(t,n).then((function(e){"updated"===e.status?a.props.closeModal("updated"):a.props.closeModal("failed")})).catch((function(e){return a.props.closeModal("failed")}))},a.state={details:e.details},a.service=new Nt,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"modal-holder"},l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Documentos"))),l.a.createElement("div",{className:"form-inputs-holder"},"Documento de Identidad",l.a.createElement("label",{className:"btn"},l.a.createElement("input",{type:"file",name:"documentID",className:"",placeholder:"documentID",onChange:function(t){return e.handleChange(t)}}))),l.a.createElement("div",{className:"edit-form-submit"},l.a.createElement("button",{onClick:function(){return e.handleSubmit()},className:"btn btn-info"},"Editar Documentos")))}}]),t}(n.Component),ir=Object(R.a)((function(e){return{name:{width:440},citizenInfo:{width:300},container:{display:"flex",flexWrap:"wrap"},textField:{minWidth:225},formControl:{margin:e.spacing.unit}}}))(cr);function sr(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var or=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={open:!1,details:{}},a.service=new Nt,a.componentDidMount=function(){var e=a.props.user;a.setState({details:e})},a.handleOpen=function(){a.setState({open:!0})},a.handleOpenDocID=function(){a.setState({openDocID:!0})},a.handleOpenDocID=function(){a.setState({openDocInc:!0})},a.handleClose=function(e){var t=a.state.details._id;a.setState({open:!1,openDocID:!1,openDocInc:!1,editStatus:e}),"updated"===e&&a.service.getClient(t).then((function(e){a.setState({details:e})}))},a.capitalize=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.details;return l.a.createElement("div",{className:"main-holder"},l.a.createElement("div",{className:"profile-actions"},l.a.createElement(T.a,{variant:"outlined",onClick:this.handleOpen,className:e.button},"Editar perfil"),l.a.createElement(Xt.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.handleClose},l.a.createElement("div",{style:sr(),className:e.paper},l.a.createElement(Ql,{details:t,closeModal:this.handleClose})))),l.a.createElement("div",{className:"testing"},"updated"===this.state.editStatus?l.a.createElement("div",{className:"alert alert-success",role:"alert"},"Operaci\xf3n realizada exitosamente!"):"failed"===this.state.editStatus?l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"La operaci\xf3n a fallado."):"",l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Personal"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Primer y segundo nombre legal *"),l.a.createElement("p",{className:"content-details"},t.firstName)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Apellidos legales *"),l.a.createElement("p",{className:"content-details"},t.lastName)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Fecha de nacimiento"),l.a.createElement("p",{className:"content-details"},Me()(t.DOB).format("DD/MM/YY"))),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Documento de Identidad"),l.a.createElement("p",{className:"content-details"},t.nationalId)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Tipo de Documento"),l.a.createElement("p",{className:"content-details"},t.nationalIdType)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Tel\xe9fono"),l.a.createElement("p",{className:"content-details"},t.cellphoneNumber))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Direcci\xf3n personal"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Pa\xeds"),l.a.createElement("p",{className:"content-details"},this.capitalize(t.country))),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Ciudad"),l.a.createElement("p",{className:"content-details"},this.capitalize(t.city))),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Direcci\xf3n"),l.a.createElement("p",{className:"content-details"},t.address)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"C\xf3digo postal"),l.a.createElement("p",{className:"content-details"},t.zipCode))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Informaci\xf3n Financiera"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Banco"),l.a.createElement("p",{className:"content-details"},t.bank)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"N\xfamero de cuenta"),l.a.createElement("p",{className:"content-details"},t.accountNumber)),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},"Ingresos"),l.a.createElement("p",{className:"content-details"},t.monthlyIncome))),l.a.createElement("div",{className:"heading-activity"},l.a.createElement("div",null,l.a.createElement("p",{variant:"heading",className:"heading"},"Documentaci\xf3n"))),l.a.createElement("div",{className:"profile-description"},l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},l.a.createElement(T.a,{variant:"outlined",onClick:this.handleOpenDocID,className:e.buttonDocID},"Documento de Identidad"),l.a.createElement(Xt.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openDocID,onClose:this.handleClose},l.a.createElement("div",{style:sr(),className:e.paper},l.a.createElement(ir,{details:t,closeModal:this.handleClose})))),l.a.createElement("p",{className:"content-details"},t.documentID&&l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t.documentID},"Visualiza tu Identicaci\xf3n"))),l.a.createElement("div",{className:"profile-details"},l.a.createElement("p",{className:"content-description"},l.a.createElement(T.a,{variant:"outlined",onClick:this.handleOpenDocID,className:e.buttonDocID},"N\xf3mina o Certificaci\xf3n de Ingresos"),l.a.createElement(Xt.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openDocInc,onClose:this.handleClose},l.a.createElement("div",{style:sr(),className:e.paper},l.a.createElement(nr,{details:t,closeModal:this.handleClose})))),l.a.createElement("p",{className:"content-details"},t.documentIncomeOrPayslip&&l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t.documentIncomeOrPayslip},"Visualiza tu documento"))))))}}]),t}(n.Component),mr=Object(R.a)((function(e){return{button:{fontSize:12,margin:0,fontWeight:600,textDecoration:"none",textTransform:"none",borderRadius:2,color:"rgb(145, 145, 145)"},buttonDoc:{fontSize:12,margin:0,marginLeft:30,fontWeight:600,textDecoration:"none",textTransform:"none",borderRadius:2,color:"rgb(145, 145, 145)"},input:{display:"none"},paper:{position:"absolute",maxWidth:1e3,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none",maxHeight:"100%",overflowY:"auto"}}}))(or),ur=a(347),dr=a(364),pr=a.n(dr),Er=a(307),vr=a(117),fr=a(688),hr=a(742),gr=a(763),br=a(744),Nr=a(702),yr=a(764),Or=Object(R.a)((function(){return{listContainer:{marginTop:5},popOverLinks:{display:"flex",alignItems:"center",padding:5,paddingLeft:0,width:200,textDecoration:"none"},popOverText:{padding:0,margin:0,width:200,textDecoration:"none"},orangeAvatar:{width:35,height:35,color:"#2D4369",backgroundColor:"#F2F5F7"},card:{maxWidth:345},links:{textDecoration:"none"}}}))((function(e){var t=e.classes,a=e.name,n=e.membership,r=e.logout;return l.a.createElement(ga.a,{className:t.card},l.a.createElement(gr.a,null,l.a.createElement(Na.a,null,l.a.createElement(fr.a,{className:t.orangeAvatar},a.slice(0,1)),l.a.createElement("p",{className:"title-app-bar"},a),l.a.createElement("p",{className:"id-identifier"},"Membresia - ",n),l.a.createElement(Yt.a,null),l.a.createElement(br.a,{className:t.listContainer},l.a.createElement(C.a,{className:t.links,to:"/"},l.a.createElement(Nr.a,{button:!0,className:t.popOverLinks},l.a.createElement(yr.a,null,l.a.createElement("i",{className:"material-icons popover-icons"},"verified_user")),l.a.createElement("p",{className:t.popOverText},"Verificaci\xf3n"))),l.a.createElement(C.a,{className:t.links,to:"/"},l.a.createElement(Nr.a,{button:!0,className:t.popOverLinks},l.a.createElement(yr.a,null,l.a.createElement("i",{className:"material-icons popover-icons"},"settings")),l.a.createElement("p",{className:t.popOverText},"Configurici\xf3n"))),l.a.createElement(C.a,{className:t.links,to:"/"},l.a.createElement(Nr.a,{button:!0,className:t.popOverLinks,onClick:function(){return r()}},l.a.createElement(yr.a,null,l.a.createElement("i",{className:"material-icons popover-icons"},"eject")),l.a.createElement("p",{className:t.popOverText},"Salir")))))))})),Cr=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={anchorEl:null},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.handleDrawerToggle,n=e.BarTitle,r=e.firstName,c=e.lastName,i=e.id,s=e.logout,o=this.state.anchorEl,m=Boolean(o);return l.a.createElement(ve.a,{position:"fixed",className:t.appBar},l.a.createElement("div",{className:t.main},l.a.createElement(Er.a,null,l.a.createElement(Oe.a,{color:"inherit","aria-label":"Open drawer",onClick:function(){return a()},className:t.menuButton},l.a.createElement(pr.a,null)),l.a.createElement("ul",{className:t.navList},l.a.createElement("div",null,l.a.createElement("li",{className:t.titleAppBar},n)),l.a.createElement("div",null,l.a.createElement(vr.a,{className:t.userList,"aria-haspopup":"true",variant:"contained",onClick:this.handleClick},l.a.createElement("li",{className:t.userListElement},l.a.createElement(fr.a,{className:t.orangeAvatar},r.slice(0,1))),l.a.createElement("li",{className:t.userListElement},r+" "+c),l.a.createElement("li",{className:t.userListElement},l.a.createElement("i",{className:"material-icons bar-dropdown"},"keyboard_arrow_down")))),l.a.createElement(hr.a,{id:"simple-popper",open:m,anchorEl:o,onClose:this.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},l.a.createElement(Or,{name:r+" "+c,membership:i,logout:s}))))))}}]),t}(n.Component),Sr=Object(ur.a)(Object(R.a)((function(e){return{navList:{margin:0,padding:0,width:1e3,display:"flex",listStyle:"none",alignItems:"center",color:"#2D4369",justifyContent:"space-between"},userList:{fontWeight:400,fontSize:14,display:"flex",listStyle:"none",alignItems:"center",disableRipple:!0,disableTouchRipple:!0},userListElement:{marginLeft:5},orangeAvatar:{width:35,height:35,color:"#2D4369",backgroundColor:"#F2F5F7"},appBar:Object(y.a)({backgroundColor:"#ffff",color:"#2D4369",marginLeft:240,boxShadow:"none",borderBottom:"1px solid rgb(235, 235, 235)"},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),menuButton:Object(y.a)({marginRight:20},e.breakpoints.up("sm"),{display:"none"}),titleAppBar:{fontSize:"1.5em",fontWeight:600,padding:0,margin:0,marginTop:0}}}))(Cr)),Dr=a(772),Ir=a(341),Pr=a(251),xr=(a(338),Object(de.a)((function(e){return{drawer:Object(y.a)({},e.breakpoints.up("sm"),{backgroundColor:"#00446B",width:240,flexShrink:0}),expansionPanel:{backgroundColor:"#00446B",boxShadow:"none","&:before":{backgroundColor:"rgba(0, 0, 0, 0)"}},expansionPanelSummary:{borderBottomColor:"rgba(0, 0, 0, 0)",borderTopColor:"rgba(0, 0, 0, 0)"},expansionPanelDetails:{display:"flex",flexDirection:"column",paddingBottom:"0px",paddingTop:"0px"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular,color:"#ffff"},toolbar:e.mixins.toolbar,drawerPaper:{width:240,backgroundColor:"#00446B"},content:{flexGrow:1,padding:e.spacing(3)},navLogo:{height:55,paddingLeft:30,paddingTop:5},items:{width:"100%",padding:"0px 16px"},links:{color:"#ffff",fontSize:"1.0em",fontWeight:400},titles:{color:"#ffff",fontSize:"1.0em",fontWeight:600}}})));function wr(e){var t=xr(),a=e.handleDrawerToggle,n=e.mobileOpen,r=e.handleBarTitle,c=e.user,i=e.container,s=l.a.createElement("div",null,l.a.createElement("div",{className:t.toolbar},l.a.createElement("img",{className:t.navLogo,src:"https://res.cloudinary.com/ribo/image/upload/v1554797031/Logo_RIBO-02.png",alt:""})),l.a.createElement(br.a,null,c.borrower?Pr.clientUrls.map((function(e,a){return l.a.createElement(C.a,{className:"link",key:a,to:"/client/".concat(e.url)},l.a.createElement(Nr.a,{className:t.items,button:!0,key:a,onClick:function(){return r(e.text)}},l.a.createElement("p",{className:t.links},e.text)))})):c.admin?Pr.adminUrls.map((function(e,a){return l.a.createElement(Kn.a,{key:a,className:t.expansionPanel},l.a.createElement(Jn.a,{className:t.expansionPanelSummary,expandIcon:l.a.createElement(cl.a,{style:{color:"white"}}),"aria-controls":"panel1a-content",id:"panel1a-header"},l.a.createElement(ge.a,{className:t.heading},e.text)),l.a.createElement(Qn.a,{className:t.expansionPanelDetails},e.links.map((function(e,a){return l.a.createElement(C.a,{className:"link",key:a,to:"/admin/".concat(e.url)},l.a.createElement(Nr.a,{className:t.items,button:!0,key:a,onClick:function(){return r(e.text)}},l.a.createElement("p",{className:t.links},e.text)))}))))})):""));return l.a.createElement("nav",{className:t.drawer},l.a.createElement(Ir.a,{smUp:!0,implementation:"css"},l.a.createElement(Dr.a,{container:i,variant:"temporary",anchor:"left",open:n,onClose:function(){return a()},classes:{paper:t.drawerPaper}},s)),l.a.createElement(Ir.a,{xsDown:!0,implementation:"css"},l.a.createElement(Dr.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0},s)))}var Tr=a(765),jr=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={mobileOpen:!1,name:"Actividad"},a.handleBarTitle=function(e){a.setState({name:e})},a.handleDrawerToggle=function(){a.setState((function(e){return{mobileOpen:!e.mobileOpen}}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.children,n=e.userInSession,r=e.logout;return l.a.createElement("div",{className:t.root},l.a.createElement(Tr.a,null),l.a.createElement(Sr,{BarTitle:this.state.name,user:n,logout:r,firstName:n.firstName,id:n._id.substring(n._id.length-7,n._id.length).toUpperCase(),lastName:n.lastName,handleDrawerToggle:this.handleDrawerToggle}),l.a.createElement(wr,{user:n,handleDrawerToggle:this.handleDrawerToggle,handleBarTitle:this.handleBarTitle,mobileOpen:this.state.mobileOpen}),l.a.createElement("main",{className:t.content},l.a.createElement("div",{className:t.toolbar}),"VERIFIED"!==n.status&&!n.admin&&l.a.createElement("div",{className:"account-status-notify"},l.a.createElement("p",null,"Completa tu perfil para disfrutar de nuestro servicios")),a))}}]),t}(n.Component),Ar=Object(R.a)((function(e){return{root:{display:"flex"},toolbar:e.mixins.toolbar,content:{backgroundColor:"#F2F5F7",flexGrow:1}}}),{withTheme:!0})(jr);a(689).config();var Rr=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).getTheUser=function(e){a.setState({loggedInUser:e})},a.logout=function(){a.service.logout().then((function(e){"success"===e.message&&(a.setState({loggedInUser:null}),a.props.history.push("/login"))}))},a.state={loggedInUser:null},a.service=new N,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"fetchUser",value:function(){var e=this;null===this.state.loggedInUser&&this.service.loggedin().then((function(t){e.setState({loggedInUser:t})})).catch((function(t){e.setState({loggedInUser:!1}),e.props.history.push("/")}))}},{key:"render",value:function(){var e=this;return this.fetchUser(),this.state.loggedInUser&&this.state.loggedInUser.admin?l.a.createElement("div",{className:"App"},l.a.createElement(Ar,{userInSession:this.state.loggedInUser,logout:this.logout},l.a.createElement(d.a,null,l.a.createElement(p.a,{exact:!0,path:"/",render:function(){return l.a.createElement(ot,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/client/create",render:function(){return l.a.createElement(Ot,{getUser:e.getTheUser,location:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/investor/create",render:function(){return l.a.createElement(ha,{getUser:e.getTheUser,location:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/investor/transaction",render:function(){return l.a.createElement(Ca,{getUser:e.getTheUser,location:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/investor/details",render:function(){return l.a.createElement(za,{getUser:e.getTheUser,location:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/financials/indicators",render:function(){return l.a.createElement(Dn,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/financials/p-and-l",render:function(){return l.a.createElement(wn,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/loan/list",render:function(){return l.a.createElement(Ln,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/loan/calculator",render:function(){return l.a.createElement($n,{getUser:e.getTheUser})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/loan/period",render:function(){return l.a.createElement(Wn,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/activity",render:function(){return l.a.createElement(ot,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/collection-late",render:function(){return l.a.createElement(et,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/payments",render:function(){return l.a.createElement(ce,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/portfolio",render:function(){return l.a.createElement(H,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/company/create",render:function(){return l.a.createElement(It,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/evolution",render:function(){return l.a.createElement(se,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{exact:!0,path:"/admin/weekly-schedule",render:function(){return l.a.createElement(Gn,{getUser:e.getTheUser,location:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{path:"/admin/client/list",render:function(){return l.a.createElement(qt,{getUser:e.getTheUser,userLocation:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{path:"/admin/investor/details/:investorId",render:function(t){var a=t.match;return l.a.createElement(za,{investorId:a.params.investorId,getUser:e.getTheUser,location:e.state.loggedInUser.location})}}),l.a.createElement(p.a,{path:"/admin/cash-account/:cashAccount/:totalCash",render:function(t){var a=t.match;return l.a.createElement(ft,{getUser:e.getTheUser,totalCash:a.params.totalCash,cashAccount:a.params.cashAccount})}}),l.a.createElement(p.a,{path:"/admin/loan/:loanId",render:function(e){var t=e.match;return l.a.createElement(zl,{loanId:t.params.loanId})}}),l.a.createElement(p.a,{path:"/admin/client/:clientId",render:function(e){var t=e.match;return l.a.createElement(pa,{clientId:t.params.clientId})}}),l.a.createElement(p.a,{path:"/admin/create-loan/:clientId",render:function(t){var a=t.match;return l.a.createElement(yn,{clientId:a.params.clientId,userLocation:e.state.loggedInUser.location})}})))):this.state.loggedInUser&&"PENDING"===this.state.loggedInUser.status?l.a.createElement("div",{className:"App-auth"},l.a.createElement("header",{className:"App-header"},l.a.createElement(d.a,null,l.a.createElement(p.a,{exact:!0,path:"/",render:function(){return l.a.createElement(U,{user:e.state.loggedInUser})}})))):this.state.loggedInUser&&this.state.loggedInUser.borrower?l.a.createElement("div",{className:"App"},l.a.createElement(Ar,{userInSession:this.state.loggedInUser,logout:this.logout},l.a.createElement(d.a,null,l.a.createElement(p.a,{exact:!0,path:"/",render:function(){return l.a.createElement(Hl,{user:e.state.loggedInUser,getUser:e.getTheUser})}}),l.a.createElement(p.a,{exact:!0,path:"/client/activity",render:function(){return l.a.createElement(Hl,{user:e.state.loggedInUser,getUser:e.getTheUser})}}),l.a.createElement(p.a,{exact:!0,path:"/client/loan",render:function(){return l.a.createElement(Xl,{user:e.state.loggedInUser,getUser:e.getTheUser})}}),l.a.createElement(p.a,{exact:!0,path:"/client/profile",render:function(){return l.a.createElement(mr,{user:e.state.loggedInUser,getUser:e.getTheUser})}})))):l.a.createElement("div",{className:"App-auth"},l.a.createElement("header",{className:"App-header"},l.a.createElement(d.a,null,l.a.createElement(p.a,{exact:!0,path:"/",render:function(){return l.a.createElement(k,{getUser:e.getTheUser})}}),l.a.createElement(p.a,{exact:!0,path:"/signup",render:function(){return l.a.createElement(A,{getUser:e.getTheUser})}}),l.a.createElement(p.a,{exact:!0,path:"/login",render:function(){return l.a.createElement(k,{getUser:e.getTheUser})}}),l.a.createElement(p.a,{path:"/confirmation/:confirmationCode",render:function(e){var t=e.match;return l.a.createElement(_,{confirmationCode:t.params.confirmationCode})}}))))}}]),t}(n.Component),Lr=Object(E.a)(Rr),kr=a(771);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(kr.a,null,l.a.createElement(Lr,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},86:function(e,t){e.exports.initialCollateralState={type:"",registerDate:"",value:"",currentStatus:{status:"",date:""}},e.exports.collateralTypes=[{value:"automobile",label:"Carro"},{value:"motorcycle",label:"Moto"},{value:"receivables",label:"Cuentas por cobrar"},{value:"investments",label:"Inversiones"},{value:"machinaryAndEquipment",label:"Maquinaria y Equipos"},{value:"valuablesAndColletibles",label:"Coleccionables"},{value:"electronicItems",label:"Equipos Electronicos"},{value:"employmentBenefits",label:"Beneficios Laborales"}],e.exports.currentStatus=[{value:"depositedIntoBranch",label:"En control"},{value:"collateralWithBorrower",label:"Con prestatario"},{value:"returnedToBorrower",label:"devuelto al Prestatario"},{value:"reposessionInitiated",label:"En embargo"},{value:"repossed",label:"Embargada"},{value:"underAuction",label:"En subasta"},{value:"sold",label:"Vendido"},{value:"transferedOwnership",label:"transferido"},{value:"lost",label:"Perdido"},{value:"stolen",label:"Robado"},{value:"insuranceClaim",label:"En reclamaci\xf3n"}],e.exports.vehicleCollateralTypes=["automobile","motorcycle","receivables","machinaryAndEquipment","electronicItems"],e.exports.basicCollateral=[{name:"type",label:"Tipo",select:!0},{name:"registerDate",label:"Fecha de registro",type:"date"},{name:"value",label:"Valor",type:"number"},{name:"status",label:"Estatus",select:!0},{name:"date",label:"Fecha de Estatus",type:"date"}],e.exports.vehicleConstants=[{name:"serialNumber",label:"Serial",type:"text"},{name:"model",label:"Modelo",type:"text"},{name:"modelNumber",label:"Numero de Modelo o motor",type:"text"},{name:"color",label:"Color",type:"text"},{name:"dateOfManufacture",label:"Fecha de Manufactura",type:"date"},{name:"condition",label:"Condicion",select:!0},{name:"address",label:"Direcci\xf3n",type:"text"},{name:"description",label:"Descripci\xf3n",type:"text"},{name:"registrationNumber",label:"Numero de Registro",type:"text"},{name:"kilometrage",label:"Kilometraje",type:"number"},{name:"engineNumber",label:"Numero de motor",type:"text"}]}},[[387,1,2]]]);
//# sourceMappingURL=main.a3877fb3.chunk.js.map